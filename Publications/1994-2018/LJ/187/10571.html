<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>
IBM InfoSphere Streams and the Uppsala University Space Weather Project
</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;Using IBM InfoSphere Streams, Uppsala University can analyze&#10;massive amounts of data to help it model and predict&#10;the behavior of the uppermost part of our atmosphere and its reaction&#10;to events in surrounding space and on the Sun.&#10;"><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0xe36580.0xf2dac0"></a>
IBM InfoSphere Streams and the Uppsala University Space Weather Project
</h1></div><div><div class="author"><h3 class="author">
Shawn
 
Powers
</h3></div><div class="issuemoyr">Issue #187, November 2009</div></div><div><p>
Using IBM InfoSphere Streams, Uppsala University can analyze
massive amounts of data to help it model and predict
the behavior of the uppermost part of our atmosphere and its reaction
to events in surrounding space and on the Sun.
</p></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0xe36580.0xf2e300"></a></h2></div></div><p>
In 2006, the International Astronomical Union (IAU) decided Pluto was no
longer a planet, but rather that it was a dwarf planet. Then in 2008, the
same group decided Pluto was a plutoid instead of a dwarf planet. This
year, the IAU met August 3&ndash;14 in Brazil, and while at the time of this
writing, that hasn't happened yet, Pluto's official title is expected to
come up once again.
</p><p>
One of the big problems with Pluto is that we just don't have enough
information about it. Apart from some very distant images and behavioral
observations, much of our Plutonian information is mathematical
guesswork. If we turn our focus to the opposite side of the solar system,
however, the dilemma reverses. The amount of information we can gather
about the Sun is so great, it's difficult to capture it, much less do
anything useful with the data.
</p><p>
On January 8, 2008, Solar Cycle 24 started. Although that might seem
insignificant to most people, in about three years, it will be reaching its
peak (Figure 1). Solar storms, or space weather, can have a very
significant effect on modern society. These invisible outbursts can take
out satellites, disrupt electrical grids and shut down radio
communications. There is nothing we can do to avoid solar storms; however,
early detection would make it possible to minimize the effects. And, that's
what researchers at Uppsala University in Sweden are trying to do.
</p><div       class="mediaobject"><a href="10571f1.large.jpg"><img src="10571f1.jpg"></a><div class="caption"><p>
Figure 1. We are just beginning this solar cycle, which makes early
detection particularly important. (Graphic Credit: National Oceanic and
Atmospheric Administration, <a href="http://www.noaa.org" target="_self">www.noaa.org</a>)
</p></div></div><p>
The problem is the amount of data being collected by the digital radio
receivers&mdash;to be precise, about 6GB of raw data <span   class="emphasis"><em>per second</em></span>.
There is no way to store all the data to analyze later, so Uppsala teamed
up with IBM and its InfoSphere Streams software to analyze the data in
real time.
</p><p>
<span   class="emphasis"><em>LJ</em></span> Associate Editor Mitch Frazier and I had an opportunity to speak with both IBM and Uppsala,
and we asked them for more information on how such a feat is accomplished. We
weren't surprised to hear, &ldquo;using Linux&rdquo;. Here's our Q&amp;A session, with
some of my commentary sprinkled in.
</p><p>
<span   class="bold"><b>Shawn &amp; Mitch:</b></span> What hardware does it run on?
</p><p>
IBM &amp; Uppsala: InfoSphere Streams is designed to work on a variety of
platforms, including IBM hardware. It runs clusters of up to 125 multicore
x86 servers with Red Hat Enterprise Linux (RHEL). The ongoing IBM research
project, called System S, is the basis for InfoSphere Streams and has run on
many platforms, including Blue Gene supercomputers and System P.
</p><p>
<span   class="bold"><b>S&amp;M:</b></span> Will it run on commodity hardware?
</p><p>
I&amp;U: Yes, x86 blades.
</p><p>
<span   class="bold"><b>S&amp;M:</b></span> What operating system(s) does it run on?
</p><p>
I&amp;U: InfoSphere Streams runs on RHEL 4.4 for 32-bit x86 hardware and RHEL
5.2 for 64-bit x86 hardware.
</p><p>
<span   class="bold"><b>S&amp;M:</b></span> Are these operating systems standard versions or custom?
</p><p>
I&amp;U: They are standard operating systems.
</p><p>
<span   class="bold"><b>S&amp;M:</b></span> What language(s) is it written in?
</p><p>
I&amp;U: InfoSphere Streams is written in C and C++.
</p><p>
<span   class="bold"><b>S&amp;M:</b></span> How does a programmer interact with it? Via a normal programming
language or some custom language?
</p><p>
I&amp;U: Applications for InfoSphere Streams are written in a language called
SPADE (Stream Processing Application Declarative Engine). Developed by IBM
Research, SPADE is a programming language and a compilation infrastructure,
specifically built for streaming systems. It is designed to facilitate the
programming of large streaming applications, as well as their efficient and
effective mapping to a wide variety of target architectures, including
clusters, multicore architectures and special processors, such as the Cell
processor. The SPADE programming language allows stream processing
applications to be written with the finest granularity of operators that is
meaningful to the application, and the SPADE compiler appropriately fuses
operators and generates a stream processing graph to be run on the Streams
Runtime.
</p><p>
[See Listing 1 for a sample of SPADE. Listing 1 is an excerpt from the &ldquo;IBM
Research Report&mdash;SPADE Language Specification&rdquo; by Martin Hirzel,
Henrique Andrade, Bugra Gedik, Vibhore Kumar, Giuliano Losa, Robert Soul&eacute;
and Kun-Lung Wu, at the IBM Research Division, Thomas J. Watson Research Center.]

</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0xe36580.0xf2f0c0"></a></h2></div></div><div class="sidebar"><p class="title"><b>
Listing 1. Example VWAP application in SPADE. VWAP, or &ldquo;volume-weighted
average price&rdquo;,
is a common calculation in financial trading.</b></p><pre     class="programlisting">

composite VWAP {
param
  expression&lt;set&lt;string&gt;&gt; $monitoredTickers :
                            { "IBM", "GOOG", "MSFT" };

type
  TradeInfoT   = decimal64 price, decimal64 volume;
  QuoteInfoT   = decimal64 bidprice,
                 decimal64 askprice, decimal64 asksize;
  TradeQuoteT  = TradeInfoT, QuoteInfoT,
  tuple&lt;string ticker, string dayAndTime, string ttype&gt;;
  TradeFilterT = TradeInfoT, tuple&lt;timestamp ts, string ticker&gt;;
  QuoteFilterT = QuoteInfoT, tuple&lt;timestamp ts, string ticker&gt;;
  VwapT        = string ticker, decimal64 minprice,
                 decimal64 maxprice, decimal64 avgprice,
                 decimal64 vwap;

graph
  stream&lt;TradeQuoteT&gt; TradeQuote = FileSource()  {
    param fileName : "TradesAndQuotes.csv.gz";
          format   : csv, compressed, nodelays;
          columns  : irange(1,3), 5, irange(7,9), [11, 15, 16];
  }

  stream&lt;TradeFilterT&gt; TradeFilter = Functor(TradeQuote) {
    param  filter      :    ttype == "Trade"
                         &amp;&amp; (ticker in $monitoredTickers);
    output TradeFilter : ts = timeStringToTimestamp(dayAndTime);
  }

  stream&lt;QuoteFilterT&gt; QuoteFilter = Functor(TradeQuote) {
    param filter :   ttype == "Quote" 
                  &amp;&amp; (ticker in $monitoredTickers);
  }

  stream&lt;VwapT, tuple&lt;decimal64 sumvolume&gt;&gt; 
    PreVwap = Aggregate(TradeFilter)
  {
    window TradeFilter : sliding, count(4), count(1);
    param  groupBy     : ticker;
           perGroup    : true;
    output PreVwap     : ticker = Any(ticker),
                         vwap = Sum(price*volume),
                         minprice = Min(price),
                         maxprice = Max(price),
                         avgprice = Avg(price),
                         sumvolume = Sum(volume);
  }

  stream&lt;VwapT&gt; Vwap = Functor(PreVwap) {
    output Vwap : vwap = vwap / sumvolume;
  }

  stream&lt;timestamp ts, decimal64 index&gt;
    BargainIndex = Join(Vwap as V; QuoteFilter as Q)
  {
    window V           : sliding, count(1);
           Q           : sliding, count(0);
    param  equalityLHS : V.ticker; // can also be written
                                   // as nested loop join:
           equalityRHS : Q.ticker; // "condition: V.ticker==Q.ticker"
           perGroupLHS : true;
    output BargainIndex :
               index = vwap &gt; askprice*100.0
                         ? asksize*exp(vwap-askprice*100.0)
                         : 0.0;
  }

() = PerfSink(BargainIndex) { }

pragma
  debugLevel: trace;
}

</pre></div><p>
<span   class="bold"><b>S&amp;M:</b></span> Is there a nontechnical user interface to it, or is all interfacing
done by a programmer?
</p><p>
I&amp;U: Currently, InfoSphere Streams does not have a nontechnical user
interface for developers.
</p><p>
There is an IBM Research project that is working on providing a
nontechnical user interface to allow business analysts to have programs
generated and run based on information they are looking for. The project is
called Mashup Automation with Run-time Invocation and Orchestration
(MARIO, <a href="http://domino.research.ibm.com/comm/research_projects.nsf/pages/semanticweb.Semantic%20Web%20Projects.html" target="_self">domino.research.ibm.com/comm/research_projects.nsf/pages/semanticweb.Semantic%20Web%20Projects.html</a>).
</p><p>
MARIO allows business users to automate composition by letting them specify
information goals, which are expressed as high-level semantic descriptions
of desired flow output. MARIO uses existing information definitions and
available information sources to generate possible applications that
generate desired information goals. The optimal application is selected,
deployed to the runtime and then the requested information results are
displayed to the user.
</p><p>
<span   class="bold"><b>S&amp;M:</b></span> Is the data captured and analyzed or just analyzed?
</p><p>
I&amp;U: The benefits of stream computing overcome the problems associated with
traditional analytics, which is slow, inflexible (in terms of the kinds of
data it can analyze) and not well suited for capturing insights from
time-sensitive events, such as tracking an epidemic or financial trading.
With InfoSphere Streams, data can be captured and analyzed or just
analyzed. Information can be analyzed and the data stored in files or in
databases, or sent to other systems for storage. Summarized data and
models also can be saved and stored. For example, an application
analyzing hydrophone data to study marine mammal populations doesn't
capture and store the endless hours of audio, only a model of the results.
The model includes number, frequency and duration of visits by the marine
mammals.
</p><p>
<span   class="bold"><b>S&amp;M:</b></span> Is it open source?
</p><p>
I&amp;U: No, InfoSphere Streams is not open-source code.
</p><p>
[Shawn notes: I'll admit, this was almost a deal-breaker for me. I was
dragging out my soapbox as I contacted my IBM representative. It turns
out, although InfoSphere Streams isn't open source, IBM does in fact
contribute greatly to the Open Source community. I was gently reminded
that IBM is a major kernel contributor, invests about $100 million annually
in open-source development and &ldquo;gives back&rdquo; to the community
it benefits
from so greatly. I still would prefer InfoSphere Streams to be an
open-source project; however, I suppose as long as IBM honors the GPL and is a good
member of the Open Source community, I'll put my soapbox away.]
</p><p>
<span   class="bold"><b>S&amp;M:</b></span> What value does InfoSphere Streams bring
to an organization (in other words, why
would someone buy this)?
</p><p>
I&amp;U: As the world becomes increasingly interconnected and instrumented, the
amount of data is skyrocketing&mdash;and it's not just structured data found
in databases, but unstructured, incompatible data captured from electronic
sensors, Web pages, e-mail, audio and video. InfoSphere Streams enables
massive amounts of data to be analyzed in real time, delivering extremely
fast, accurate insights. These insights enable smarter business
decision making and, ultimately, can help businesses differentiate themselves and gain
competitive advantage.
</p><p>
[Shawn notes: Okay, I get it. I'm convinced InfoSphere Streams is more than
a handful of Perl scripts. At this point, we were curious to hear more
about the space project itself.]
</p><p>
<span   class="bold"><b>S&amp;M:</b></span> What is the project name?
</p><p>
I&amp;U: Swedish Institute of Space Physics REAL TIME High Frequency RADIO
WEATHER STATISTICS AND FORECASTING. To put this project in context, it is
part of the Scandinavian LOIS Project (<a href="http://www.lois-space.net" target="_self">www.lois-space.net</a>), which in turn is
an offspring of the major European Project, LOFAR (<a href="http://www.lofar.org" target="_self">www.lofar.org</a>).
</p><p>
<span   class="bold"><b>S&amp;M:</b></span> What are the project's goals?
</p><p>
I&amp;U: Using InfoSphere Streams, Uppsala University is analyzing massive
volumes of real-time data to better understand space weather.
</p><p>
Scientists use high-frequency radio transmissions to study space weather
or the effect of plasma in the ionosphere that can affect energy
transmission over power lines, communications via radio and TV signals,
airline and space travel, and satellites. However, the recent advent of new
sensor technology and antennae arrays means that the amount of information
collected by scientists surpassed the ability to analyze it intelligently.
</p><p>
The ultimate goal of the InfoSphere Streams Project is to model and predict
the behavior of the uppermost part of our atmosphere and its reaction to
events in surrounding space and on the Sun. This work could have lasting
impact for future science experiments in space and on Earth. With a unique
ability to predict how plasma clouds travel in space, new efforts can be
made to minimize damage caused by energy bursts or make changes to
sensitive satellites, power grids or communications systems.
</p><p>
<span   class="bold"><b>S&amp;M:</b></span> Is it currently up and running?
</p><p>
I&amp;U: A new generation of high-speed software defined triaxial digital
radio sensors has been manufactured and is being tested to be deployed as
part of this project. The InfoSphere Streams software is currently being
updated for this new hardware and is expected to be deployed with the new
sensors in September/October 2009. Prior to the purchase of the new sensors, the
project was up and running.
</p><p>
<span   class="bold"><b>S&amp;M:</b></span> What type of data is being analyzed?
</p><p>
I&amp;U: Massive amounts of structured and unstructured data from network
sensors and antennas are being analyzed as part of this project. By using
IBM InfoSphere Streams to analyze data from sensors that track high-frequency radio waves, endless amounts of data can be captured and analyzed
on the fly. Over the next year, this project is expected to perform
analytics on at least 6GB per second or 21.6TB per hour.
The technology addresses this problem by analyzing and filtering the data
the moment it streams in, helping researchers identify the critical
fraction of a percent that is meaningful, while the rest is filtered out as
noise. Using a visualization package, scientists can perform queries on the
data stream to look closely at interesting events, allowing them not only
to forecast, but also to &ldquo;nowcast&rdquo; events just a few hours away. This will help
predict, for example, if a magnetic storm on the Sun will reach the Earth
in 18&ndash;24 hours.
</p><p>
S&amp;M: What type of hardware is being used to capture the data?
</p><p>
I&amp;U: The project uses tri-axial electric dipole antennas (commonly known as
tripole antennas) and triaxial magnetic-loop antennas (Figure 2).
</p><div       class="mediaobject"><a href="10571f2.large.jpg"><img src="10571f2.jpg"></a><div class="caption"><p>
Figure 2. One of the test stations that gathers data for the Uppsala
University Project. This station is located in V&auml;xj&ouml;, Sweden. It includes
tripole antennas and three-channel digital sensors along with a GPS antenna and
receiver.
</p></div></div><p>
<span   class="bold"><b>S&amp;M:</b></span> What type of hardware is used in the system?
</p><p>
I&amp;U: In addition to the equipment used to gather weather data, networking
equipment to route the data to the Streams runtime, the InfoSphere
Streams software has been developed on a 4-core x86 (Xeon) system, but can
also be ported to IBM JS20 Blade Center (Power PC) and to a Lenovo ThinkPad
X200s laptop.
</p><p>
<span   class="bold"><b>S&amp;M:</b></span> What software, beyond InfoSphere Streams, is used?
</p><p>
I&amp;U: RHEL and custom analytics written in C and C++ with some legacy
FORTRAN code.
</p><p>
<span   class="bold"><b>S&amp;M:</b></span> What is the user interface to the system?
</p><p>
I&amp;U: InfoSphere Streams has a browser-based management console to manage
the runtime. It allows people to deploy jobs, see how jobs are distributed
across machines in the runtime cluster, see performance details and many
other functions to manage the runtime environment. Output from the system
can be streamed to various display and dashboarding applications to
visualize the results of the real-time analytic processing (Figures 3 and 4).
</p><div       class="mediaobject"><a href="10571f3.large.jpg"><img src="10571f3.jpg"></a><div class="caption"><p>
Figure 3. Streamsight is the administrative view of the running InfoSphere
Stream. It allows people to visualize on which machines in the Linux cluster
the various tasks are running, performance levels and other information.
Each box represents a different type of analytic being run, and the lines
represent data streaming between each task.
</p></div></div><div       class="mediaobject"><a href="10571f4.large.jpg"><img src="10571f4.jpg"></a><div class="caption"><p>
Figure 4. Visualizations of novel 3D radio patterns uncovered in
simulation work at the Swedish Institute of Space Physics in Uppsala.
</p></div></div><p>
<span   class="bold"><b>S&amp;M:</b></span> How long did it take to develop
the system?
</p><p>
I&amp;U: The Space Weather application was developed over several months by a
PhD candidate at Uppsala University. The larger LOIS Project has been
ongoing for eight years.
</p><p>
<span   class="bold"><b>S&amp;M:</b></span> How many developers/researchers were involved?
</p><p>
I&amp;U: The PhD student was supported by four scientists and one research
engineer from the LOIS team and several IBM researchers.
</p><p>
<span   class="bold"><b>S&amp;M:</b></span> Is the space weather software open source?
</p><p>
I&amp;U: No
</p><p>
[Shawn notes: Yes, we really did ask twice about how open these products
are. We couldn't help ourselves.]
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0xe36580.0x1328e38"></a>Conclusion</h2></div></div><p>
The Uppsala Space Weather Project is a prime example of how Linux is used
as the underlying engine that makes the world go. In fact, Linux has
become so mainstream in such projects, we specifically had to ask about
what infrastructure the project used. Even then, the answer wasn't
&ldquo;Linux&rdquo;, but rather what version of Linux. Apparently, it was supposed to
be obvious that the project would run in a Linux environment&mdash;that's the
kind of presumptive attitude I like to see in the world!
</p><p>
Whether the information collected and analyzed by Uppsala will make
a difference in how we weather Solar Cycle 24 remains to be seen. At the
very least, we'll have more data about space weather than ever before in
history. As to our little planet/dwarf planet/plutoid Pluto, sadly we'll
have to wait until July 14, 2015 for more detailed information. The New
Horizons satellite is racing there now to get more information on the
little frozen body. It's hard to say how Pluto will be classified by the
time it gets there, but nonetheless, we will be anxiously awaiting the data.
When it finally arrives, it's pretty likely the data will be analyzed by
Linux.
</p></div></div>
<div class="authorblurb"><p>
Shawn Powers is the Associate Editor for <span   class="emphasis"><em>Linux
Journal</em></span>. He's also the
Gadget Guy for LinuxJournal.com, and he has an interesting collection
of vintage Garfield coffee mugs. Don't let his silly hairdo fool you,
he's a pretty ordinary guy and can be reached via e-mail at
<a href="mailto:info@linuxjournal.com">info@linuxjournal.com</a>. Or, swing by the #linuxjournal IRC
channel on Freenode.net.
</p></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../187/toc187.html">Issue Table of Contents</a>
    <a class="link3" href="../187/10571.html">Article</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>