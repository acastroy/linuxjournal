<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>
Things a Front-End Developer Should Know about Drupal
</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;Experienced with front-end development but new to Drupal? Good with Drupal&#10;configuration but shy about theming? Read on to find out how to get started with custom&#10;themes, working with templates, JavaScript and CSS, considerations for&#10;mobile and tips for performance. Plus, learn what's next in Drupal 8.&#10;"><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0x1126580.0x121dac0"></a>
Things a Front-End Developer Should Know about Drupal
</h1></div><div><div class="author"><h3 class="author">
Alexander
 
Castillo
</h3></div><div class="issuemoyr">Issue #227, March 2013</div></div><div><p>
Experienced with front-end development but new to Drupal? Good with Drupal
configuration but shy about theming? Read on to find out how to get started with custom
themes, working with templates, JavaScript and CSS, considerations for
mobile and tips for performance. Plus, learn what's next in Drupal 8.
</p></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1126580.0x121e1f8"></a></h2></div></div><p>
Drupal allows you to set up a site in no time and lets you focus on what
really matters&mdash;content. With Drupal, front-end developers can eliminate
most of the boilerplate code and jump right in to styling (otherwise known
as &ldquo;theming&rdquo;) fairly quickly. Drupal provides you with the base,
markup and most of the needed functionality right out of the box.
</p><p>
This article, written by a seasoned Drupal front-end developer, intends
to walk you through the must-know Drupal front-end development techniques
and best practices, specifically as related to the latest stable version,
Drupal 7. This article covers the basics on how to create a custom theme
from scratch and how to enhance it in different ways with JavaScript
and Media Queries for mobile support. It explains the administration
interface and shows ways to design pages using modules&mdash;for example,
Panels. Finally, it covers performance issues and offers pointers on
what to expect in the next version, Drupal 8.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1126580.0x121e460"></a>
The &ldquo;Theme&rdquo; Layer</h2></div></div><p>
There are two ways of theming a Drupal site. One, use a base theme that
provides most layout and functionality needs in combination with a
sub-theme for custom styles. The main benefits of using a contributed
base theme include 1) theme settings in the administrator interface,
2) multi-column layout options, 3) predefined print style sheets, 4)
contextual classes added to the markup and 5) cross-browser compatibility
fixes.
</p><p>
Or, option two, you can create a theme from scratch and control, in detail,
everything in the theme layer and add features as needed. I personally like
having total control of what is in my theme; therefore, I always create
a theme from scratch. I think every project deserves this treatment, so,
keeping that in mind, let's explore a creating custom theme and
compare it with a base theme, so you can decide your preferred
approach.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1126580.0x121e618"></a>
Creating a Custom Theme</h2></div></div><p>
Creating Drupal themes from scratch is easier that it sounds. What do you
need? A folder and an .info file will get you started:
</p><div class="itemizedlist"><ul type="disc"><li><p>
Create a folder in /sites/all/themes.
</p></li><li><p>
Name the folder with the name of the theme. The name should be all lowercase with
no spaces&mdash;for example, /sites/all/themes/cooltheme.
</p></li><li><p>
Create a new document with your preferred text editor or IDE.
</p></li><li><p>
Add some base settings to this document (see below).
</p></li><li><p>
Save the document inside the newly created theme folder.
</p></li><li><p>
Name the document the same as the folder plus the .info extension&mdash;for
example, cooltheme.info.
</p></li></ul></div><p>
Here are the .info base settings:

<pre     class="programlisting">
name = cooltheme
description = Description of the theme.
core = 7.x
engine = phptemplate
regions[left] = Left sidebar
regions[content] = Content
regions[header] = Header
regions[footer] = Footer
</pre>
</p><p>
Once the theme has these components, enable it from the administration
interface. On the Drupal toolbar, click on appearance (URL:
/admin/appearance). The new custom theme should be listed on this page;
enable it, and set it as the default.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1126580.0x121eca0"></a></h2></div></div><div class="sidebar"><p class="title"><b>Tip:</b></p><p>
Explore other contributed themes. See how they do it!
</p></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1126580.0x121eeb0"></a>
Working with Templates</h2></div></div><p>
Drupal's API allows for customization of any of the page's areas
in a very modular way. Customize the page wrapper (html.tpl.php), the
page itself (page.tpl.php), regions within the page (region.tpl.php),
blocks within regions (block.tpl.php), nodes (node.tpl.php) and fields
within nodes (field.tpl.php). Add these files to the theme folder if you
want to override the templates. You can get these templates from core
modules like node, blocks and field. Simply copy and paste the templates
inside the theme's folder, and let the overriding begin!
</p><p>
Note: make sure to clear Drupal's cache when adding a new
template or editing the .info file. On the Drupal toolbar, click
on Configuration&rarr;Performance&rarr;Clear all caches (URL:
admin/config/development/performance).
</p><p>
Are you connecting the dots already? As shown in Figure 1, there
are many regions defined in the .info file. See what content
displays in the regions by going to the block page in the administration
interface. On the Drupal toolbar, click on Structure&rarr;Blocks (URL:
/admin/structure/blocks).
</p><div       class="mediaobject"><img src="11443f1.jpg"><div class="caption"><p>
Figure 1. Drupal's File Template System Hierarchy and Priority
</p></div></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1126580.0x121f278"></a></h2></div></div><div class="sidebar"><p class="title"><b>Tips:</b></p><p>
You can download the Drupal 7 cheat sheet from
<a href="http://batayneh.me/sites/default/files/Drupal7-theming-cheatsheet_0.pdf" target="_self">batayneh.me/sites/default/files/Drupal7-theming-cheatsheet_0.pdf</a>.
</p><p>
Core modules can be found in the /modules/ folder in the root.
</p></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1126580.0x121f538"></a>
Working with CSS</h2></div></div><p>
To get started styling your site, create a folder called css inside
the theme's folder. In there, you can add all the stylesheets and then
reference them from the .info file by adding the following line(s):

<pre     class="programlisting">
stylesheets[all][] = css/style.css
stylesheets[all][] = css/layout.css
stylesheets[all][] = css/etc.css
</pre>
</p><p>
Do you ever need to do a &ldquo;one-second&rdquo; CSS change remotely? Before when
doing that you needed to download or pull the code, make the edit, and
upload or push, right? This incredible module called Live CSS
(<a href="http://drupal.org/project/live_css" target="_self">drupal.org/project/live_css</a>) allows you to edit CSS or LESS live
within the page, and save the changes back to the file instantly. This
tool is very handy when developing a Drupal site. There's no need to switch
back from the text editor or IDE to the browser and refresh the page. All
of your edits happen right away.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1126580.0x121f7a0"></a>
Working with JavaScript</h2></div></div><p>
JavaScript adds behavior and interaction to the theme. Popular JavaScript
libraries like jQuery and jQuery UI already come with Drupal. To add
custom JavaScript code, first create a folder called js inside
the theme's folder. Then, simply add JavaScript files to the js folder
and reference them in the theme .info file by adding the following:

<pre     class="programlisting">
scripts[] = js/main.js
scripts[] = js/etc.js
</pre>
</p><p>
You also can use Drupal's PHP function drupal_add_js in the template.php
file as follows:


<pre     class="programlisting">
&lt;?php
function example_preprocess_html(&amp;$variables) {
  $options = array(
	'group' =&gt; JS_THEME,
  );
  drupal_add_js(drupal_get_path('theme', 'example'). '/script.js', 
  &#8618;$options);
}
?&gt;
</pre>
</p><p>
Once the JavaScript file is referenced in the theme, start adding behavior
and interaction to the theme. Best practice is to wrap the JavaScript
code inside a jQuery closure function&mdash;something like this:

<pre     class="programlisting">
(function($) {
    // Javascript code
}) (jQuery);
</pre>
</p><p>
But wait, doesn't Drupal's API provide support for JavaScript? Yes,
it actually provides specific JavaScript functions through jQuery. So,
you can pass information from the PHP code and attach Drupal-specific behaviors
with something like this:


<pre     class="programlisting">
(function($) {
   Drupal.behaviors.customToggler = {
     attach: function(context, settings){
        $(".toggler", context).once('custom-toggler').click(function(){
          $(this).next().slideToggle("slow");
          return false;
        }).next().hide();
      };
    };
})(jQuery);
</pre>
</p><p>
If you're using modules that include other JavaScript libraries, such as MooTools
or YUI, use jQuery's <tt  >$.noConflict()</tt> function to avoid confusion over
the famous dollar-sign alias ($).
</p><p>
To practice progressive enhancement like some of us do,
explore Modernizr. Adding Modernizr to your project is as
easy as installing the Modernizr module from drupal.org (<a href="http://drupal.org/project/modernizr" target="_self">drupal.org/project/modernizr</a>). Modernizr is a JavaScript library
that detects HTML5 and CSS3 features in the user's browser.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1126580.0x1216608"></a>
Mobile Support</h2></div></div><p>
When optimizing a Drupal Web site for mobile, it is possible to create a
sub-theme with all mobile features. This allows control of the experience
of the mobile site vs. the desktop site. Drupal offers a few things to 
make the job easier. For starters, modules like ThemeKey
will allow a switch to the mobile sub-theme when the user is accessing
the Web site from a mobile device.
</p><p>
Drupal is &ldquo;technology-agnostic&rdquo; regarding the front-end technology,
so making a responsive Web site in Drupal is mostly the same as with any
other platform. Define the media queries in the CSS file, or simply add
them to the .info file as follows:


<pre     class="programlisting">
stylesheets[all and (max-device-width: 480px)][] = mobile.css
</pre>
</p><p>
Other Drupal modules like Adaptive Images will play nicely with Drupal's
Image Styles module to create, cache and deliver device-appropriate re-scaled versions of the site's embedded images automatically.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1126580.0x12168c8"></a>
Working with the Drupal Administration Interface</h2></div></div><p>
Now that you have a custom theme in place, let's look at what the Drupal
administration interface offers to front-end developers. Repetitive
development tasks like applying custom filters to images, embedding
custom fonts and defining custom layouts have never been easier than
they are with Drupal!
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1126580.0x12169d0"></a>
Image Styles</h2></div></div><p>
The image styles module comes with Drupal out the box. With this module, you
can create image instances of the original image and apply effects to those
instances dynamically&mdash;no more Photoshop batch scripts; let Drupal
do it for you, on the Web.
</p><p>
Effects include:
</p><div class="itemizedlist"><ul type="disc"><li><p>
Crop
</p></li><li><p>
Desaturate
</p></li><li><p>
Resize
</p></li><li><p>
Rotate
</p></li><li><p>
Scale
</p></li><li><p>
Scale and crop
</p></li></ul></div><p>
Other effects, such as watermarking, overlays, brighten/darken, rounded
corners and many more, are available via the ImageCache Actions contributed
module (<a href="http://drupal.org/project/imagecache_actions" target="_self">drupal.org/project/imagecache_actions</a>).
</p><p>
From the Drupal toolbar, click on Configuration&rarr;Image styles
(URL: admin/config/media/image-styles).
</p><div       class="mediaobject"><img src="11443f2.jpg"><div class="caption"><p>
Figure 2. Drupal Core's Image Styles Module Administration Screen for
Presets
</p></div></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1126580.0x1217268"></a>
@font-the-face Module</h2></div></div><p>
This module provides an administrative interface for browsing and applying
Web fonts embedded via CSS from a variety of sources and font providers,
such as the following:
</p><div class="itemizedlist"><ul type="disc"><li><p>
Adobe Edge Web Fonts
</p></li><li><p>
Font Squirrel
</p></li><li><p>
Fontdeck
</p></li><li><p>
Fonts.com
</p></li><li><p>
Google Fonts
</p></li><li><p>
Typekit.com
</p></li></ul></div><p>
Here's the link: <a href="http://drupal.org/project/fonttheface" target="_self">drupal.org/project/fonttheface</a>. It also
is possible to import local fonts in all Web formats: EOT, TTF, WOFF and SVG.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1126580.0x1217898"></a>
Icon Fonts Module</h2></div></div><p>
What about the idea of managing the icon fonts from the administration
interface? With this module (<a href="http://drupal.org/project/iconfonts" target="_self">drupal.org/project/iconfonts</a>), you can
do so. Install this module to get started with the font icon at IconMoon
(<a href="http://icomoon.io" target="_self">icomoon.io</a>) and bring it to Drupal in no time.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1126580.0x1217a50"></a>
Google Fonts Module</h2></div></div><p>
Those familiar with Google Fonts know how convenient it is to load
the custom fonts in a site with a couple lines of code. Well,
with Drupal, there is no need to to use those lines of code
any more. Install the Google Fonts module, enable the desired fonts,
map it to the CSS selectors from the Drupal administration interface
and enjoy: <a href="http://drupal.org/project/google_fonts" target="_self">drupal.org/project/google_fonts</a>.
</p><div       class="mediaobject"><a href="11443f3.large.jpg"><img src="11443f3.jpg"></a><div class="caption"><p>
Figure 3. Google Fonts Drupal Module Administration Screen for Fonts
</p></div></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1126580.0x1217d68"></a>
Panels Module</h2></div></div><p>
If you like the idea of being able to create customized page layouts and
manage the content with a nice-and-neat drag-and-drop interface, the
Panels module is for you. Explore it at <a href="http://drupal.org/project/panels" target="_self">drupal.org/project/panels</a>.
</p><div       class="mediaobject"><a href="11443f4.large.jpg"><img src="11443f4.jpg"></a><div class="caption"><p>
Figure 4. Panels Drupal Module Administration Screen for Content
</p></div></div><p>
With Panels, you can do the following:
</p><div class="itemizedlist"><ul type="disc"><li><p>
Create customizable and re-usable layout for pages and blocks.
</p></li><li><p>
Insert the previously created content in any region.
</p></li><li><p>
Insert and create re-usable custom content in any region.
</p></li><li><p>
Customize the node pages and node forms at the field level.
</p></li><li><p>
Customize the user pages and user forms at the field level.
</p></li><li><p>
Edit and modify the order of the panes at all times with drag and drop.
</p></li><li><p>
Add conditional rules to hide or show the panes.
</p></li><li><p>
Switch panels based on context&mdash;for example: user role, is mobile and so on.
</p></li><li><p>
Add CSS classes and IDs.
</p></li><li><p>
Cache your panes individually.
</p></li><li><p>
Export the configuration as PHP code.
</p></li></ul></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1126580.0x152abe8"></a>
Performance</h2></div></div><p>
Now that the theme is ready and configurations on the administration
interface are complete, there are a few things you can do to optimize
the site's performance. Let's start with Drupal core's performance
settings.
</p><p>
From the Drupal toolbar, click on Configuration&rarr;Performance
(URL: admin/config/development/performance).
</p><div       class="mediaobject"><a href="11443f5.large.jpg"><img src="11443f5.jpg"></a><div class="caption"><p>
Figure 5. Drupal Core's Performance Administration Screen for Caching, File
Aggregation, jQuery and jQuery UI CDN
</p></div></div><p>
On this screen, activate caching for anonymous users and blocks, CSS
and JavaScript aggregation and jQuery and jQuery UI file compression
and CDN options. By enabling caching and aggregation alone, the site
performance increases significantly.
</p><p>
Furthermore, modules like Varnish, Boost and Memcache will offer
more robust caching solutions. And, it is recommended to use a CDN in
combination with the CDN module when high-performance is in order.
</p><p>
Note: for performance testing and analysis, visit: <a href="http://yslow.org" target="_self">yslow.org</a>.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1126580.0x152b0b8"></a>
The Future of the Drupal Front End</h2></div></div><p>
How is Drupal moving forward, and in what areas will it benefit front-end
development? There are three major initiatives for Drupal 8 that front-end
developers should be very excited about: Design, HTML5 and Mobile.
</p><p>
The Drupal community has been improving the user experience constantly,
and for version 8, they plan to take it another step further. As for HTML5
and mobile, the goal is to make HTML5 the default output and leverage it
to make Drupal a fully mobile platform. Other unofficial initiatives like
&ldquo;Spark&rdquo; may bring a responsive layout builder to Drupal 8. Stay tuned!
</p><p>
So, what have you learned? Although there are many benefits to using an
out-of-the-box theme, it's worth it to explore creating a custom theme
to have control of everything in the theme layer and
features as needed. Take advantage of template overrides to craft
markup, add custom CSS classes, and add behavior and interaction to
pages with JavaScript. For mobile, you can create a sub-theme
for mobile support or just simply use CSS3 Media Queries in support of
responsive design. Before importing a third-party library in the
theme, check whether a Drupal integration is available. Most likely
a module already exists! Leverage design modules like image styles,
custom fonts and panels. For performance, be sure to enable
caching and aggregation, explore contributed caching modules and think
about a CDN. Finally, get excited about the future. Drupal 8 will make
everything even better for cross-device optimization. If you have any questions,
please let me know: <a href="mailto:alex.castillo@door3.com">alex.castillo@door3.com</a>.
</p></div></div>
<div class="authorblurb"><p>
Alexander Castillo is the Manager of Front-End Development, a solutions
architect and an essential part of the Drupal team at DOOR3. He has been
building Web sites and Web applications since age 15 and is both a user-experience designer and developer. His languages and technologies include:
HTML5, CSS3, JavaScript, jQuery, AngularJS, EmberJS, Adobe Design Suite,
PHP and Drupal. He also specializes in cross-browser, cross-platform
compatibility, responsive design and mobile Web development. 
</p></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../227/toc227.html">Issue Table of Contents</a>
    <a class="link3" href="../227/11443.html">Article</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>