<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta charset="utf-8"/>
<link href="https://fonts.googleapis.com/css?family=Lateef" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
<title>Stop Killing Your Cattle: Server Infrastructure Advice</title>

<link href="../../css/archive.css" type="text/css" rel="stylesheet"/>
<script type="text/javascript" src="../../js/archive.js"></script>
<script type="text/javascript" src="../../js/highlight.js"></script>
</head>

<body class="from_sigil">
  
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>


  <div class="tophrdiv">
  </div>

  
  <div id="top_search">
    <table class="page_search" summary="">
      <tr>
        <td valign="top" align="left">
          <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
        </td>
        <td valign="top" align="right">
          <form method="get" action="/zoom/search.cgi">
            <input type="hidden" name="zoom_sort" value="0" />
            <input type="hidden" name="zoom_xml" value="0" />
            <input type="hidden" name="zoom_per_page" value="10" />
            <input type="hidden" name="zoom_and" value="1" />
            Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
            <input type="submit" value="Submit" />
          </form>
        </td>
      </tr>
    </table>
  </div>

<h1 class="title">Stop Killing Your Cattle: Server Infrastructure Advice</h1>

<h2 class="sigil_not_in_toc">
It's great to treat your infrastructure like cattle—until it comes to
troubleshooting.</h2>

<p>
If you've spent enough time at DevOps conferences, you've heard the phrase "pets
versus cattle" used to describe server infrastructure. The idea behind this
concept is that traditional infrastructure was built by hand without much
automation, and therefore, servers were treated more like special pets—you
would do anything you could to keep your pet alive, and you knew it by name because
you hand-crafted its configuration. As a result, it would take a lot of effort
to create a duplicate server if it ever went down. By contrast, modern DevOps
concepts encourage creating "cattle", which means that instead of unique,
hand-crafted servers, you use automation tools to build your servers so that no
individual server is special—they are all just farm animals—and
therefore, if a
particular server dies, it's no problem, because you can respawn an exact copy
with your automation tools in no time.
</p>

<p>
If you want your infrastructure and your team to scale, there's a lot of
wisdom in treating servers more like cattle than pets. Unfortunately, there's
also a downside to this approach. Some administrators, particularly those that
are more
junior-level, have extended the concept of disposable servers to the point
that it has affected their troubleshooting process. Since servers are
disposable, and sysadmins can spawn a replacement so easily, at the first hint of
trouble with a particular server or service, these administrators destroy and
replace it in hopes that the replacement won't show the problem. Essentially,
this is the "reboot the Windows machine" approach IT teams used in the 1990s
(and Linux admins sneered at) only applied to the cloud.
</p>

<p>
This approach isn't dangerous because it is ineffective. It's dangerous
exactly because it often works. If you have a problem with a machine and
reboot it, or if you have a problem with a cloud server and you destroy and
respawn it, often the problem does go away. Because the approach appears to
work and because it's a lot <em>easier</em> than actually performing troubleshooting
steps, that success then reinforces rebooting and respawning as the first
resort, not the last resort that it should be.
</p>

<p>
The problem with respawning or rebooting before troubleshooting is that since
the problem often goes away after doing that, you no longer can perform any
troubleshooting to track down the root cause. To extend the cattle metaphor,
it's like shooting every cow that is a little sluggish or shows signs of a
cold, because they might have mad cow disease and not actually testing the cow
for the disease. If you aren't careful, you'll find you've let a problem go
untreated until it's spread to the rest of your herd. Without knowing the root
cause, you can't perform any steps to prevent it in the future, and although the
current issue may not have caused a major outage, there's no way to know
whether you'll get off so easy the next time it happens. So although you may save
time by not troubleshooting, that's time you lose from gaining troubleshooting
experience. Eventually, you'll need to flex that troubleshooting muscle, and
if you haven't exercised it, you may find yourself with a problem you can't
solve. 
</p>

<p>
In short, automation is great, and it's incredibly important in modern
infrastructure to be able to respawn any host quickly and easily—just don't
turn that infrastructure best practice into a troubleshooting worst practice.
</p>

<p>
—Kyle Rankin
</p>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../290/toc290.html">Issue Table of Contents</a>
    <a class="link3" href="../290/12520.html">Article</a>
  </div>
  <div class="bottomhrdiv"></div>

  <div id="bottom_search">
    <table class="page_search" summary="">
      <tr>
        <td valign="top" align="left">
          <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
        </td>
        <td valign="top" align="right">
          <form method="get" action="/zoom/search.cgi">
            <input type="hidden" name="zoom_sort" value="0" />
            <input type="hidden" name="zoom_xml" value="0" />
            <input type="hidden" name="zoom_per_page" value="10" />
            <input type="hidden" name="zoom_and" value="1" />
            Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
            <input type="submit" value="Submit" />
          </form>
        </td>
      </tr>
    </table>
  </div>
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>

  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
</body>
</html>