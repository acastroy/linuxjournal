<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Letters</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0x117f580.0x1276ac0"></a>Letters</h1></div></div><div class="qandaset"><a name="N0x117f580.0x1276fe8"></a><h4 class="title"><a name="N0x117f580.0x1276fe8"></a>
&ldquo;The Power of Tiny initrd&rdquo; Is Awesome</h4><p>
Eduardo Arcusa Les' article &ldquo;The Power of Tiny initrd&rdquo; in the
March 2016 issue was an eye-opener for me. Everything is
in the article, with real-world examples, line-by-line configurations and
beautiful graphs. We need more articles like this. I was really entertained
to read it as someone hoping to be a Linux sysadmin in future.

<br><br>&mdash;<br> 
Zongren   <br><br>
</p><p>
<span   class="bold"><b>Eduardo Arcusa Les replies:</b></span> I really
appreciate your words. This was my
first article, and it was done with much affection and effort. 
That was exactly what I wanted, real examples to show people how powerful
Linux is and what may be done with it.
If you have had so much fun reading it as I have enjoyed writing it, you
surely will be a good sysadmin in the future. And things will be even 
better if you have people around you that encourage and inspire you, which
is how it was for me.
</p><a name="N0x117f580.0x12774b8"></a><h4 class="title"><a name="N0x117f580.0x12774b8"></a>
Request for More Details on &ldquo;The Power of Tiny initrd&rdquo;</h4><p>
Eduardo Arcusa Les' featured article titled &ldquo;The Power of Tiny
initrd&rdquo; in
the March 2016 issue was one heck of an article! He just did what
I've been searching for the past several years! I mean, a server running from a
RAM&mdash;that's fudging shirt!
</p><p>
Although he has explained his adventure in some detail, I (and I suppose
many others too!) would like to know more in-depth details, such as how did
he create an initrd and how to put those &ldquo;changing&rdquo; files outside initrd,
but link them to initrd? Perhaps the author can write a blog post with the
details?
</p><p>
Thanks for the article!

<br><br>&mdash;<br> 
Ron   <br><br>
</p><p>
<span   class="bold"><b>Eduardo Arcusa Les replies:</b></span> Thanks, Ron, for your words. The truth is that
it's amazing to see a server running completely in RAM, and I hope that my
article has helped you in your progress to achieve it.
</p><p>
I didn't explain how create an initrd, but there are a lot of how-tos on the
Internet to accomplish that. All you need is to create a very simple initrd
to start a server with PXE and save it as base-initrd. When you need to
create a new server, make a copy of the base-initrd and put only files that
almost never need to be changed (for example, binaries of services or
libraries that those services need).
</p><p>
How to put those &ldquo;changing&rdquo; files outside the initrd but link them to
initrd is explained in the article. Those files, like configuration files
of the services, need to be on another server to be edited easily without
changing the whole initrd. Then when the server boots, it executes /etc/rc
to copy those files with sshfs before the services start. The /etc/rc
script is within the initrd; you need to edit it to copy those files that
are prone to change.
</p><p>
I hope this helps.
</p><a name="N0x117f580.0x1277b40"></a><h4 class="title"><a name="N0x117f580.0x1277b40"></a>
More Powers to Ya: Redneck Utilities Better Than Expected, Sort of</h4><p>
I suppose it is fun for everyone to complain about utilities, and I am no
different. Last winter, I discovered that about half of my trailer's outlets
stopped working one brutally cold 50&deg;F morning. (This is Florida, so we are
all wimps about cold weather and have some combination of poor insulation
and shitty electric heat, even the fools who bought new houses in the real-estate boom.)
</p><p>
The previous summer, I'd had a few brown-outages that magically seemed to
heal themselves by August, so I'd forgotten all about it.
</p><p>
Having run extension cords to all the working outlets to keep my servers
and Raspberry Pi appliances running, I called the local electricity co-op
to ask for some help. Before I could finish a damn good cup of coffee,
there was a lineman out there poking around at the pole. He said one of the
&ldquo;hot&rdquo; (120V AC) wire connections was corroded and had fallen off and then
arc-welded itself back on a couple times. (I think there are two hots with
a 180-degree phase difference so you can easily make &ldquo;big
appliance&rdquo; 240V
AC voltage by connecting across both hots.) I had a sinking feeling he was
telling me this because he was not going to fix the problem, and I would be
stuck dealing with a handyman&mdash;or worse, a licensed contractor. However,
he got to the point, and I was pleasantly surprised: even though the
utility's policy was not to work on anything on the client-side of the
meter, it was such an easy fix that he would do it on the spot. After about
15 minutes of polishing with a wire brush, he put some conducting goop on
the wire, tightened a nut and reconnected at the pole. For the record, he
recommended I upgrade the meter, but said that there was probably no rush.
That was two years ago. I won't go into specifics, but I would like to
emphasize that this was <span   class="emphasis"><em>not</em></span> Duke Energy.

<br><br>&mdash;<br> 
Mike "Mighty Bush" Grossman  <br><br>
</p><p>
<span   class="bold"><b>Shawn Powers replies:</b></span>
Mike, I think maybe you should contact the company and tell them you'll
sell the secret to &ldquo;self-welding&rdquo; electrical panels. Once they pay you,
just spritz some salt water on the connections and tell them all they
have to do is wait! (Only kidding of course, I'm glad the guy fixed it
for you. I think sometimes professionals take for granted how
&ldquo;simple&rdquo;
something is for them compared to the rest of us!)
</p><a name="N0x117f580.0x12781c8"></a><h4 class="title"><a name="N0x117f580.0x12781c8"></a>
New Format</h4><p>
I just want to drop you a quick note about the new format. I've
been a longtime <span   class="emphasis"><em>Linux Journal</em></span> reader, and I have to say that's the
greatest thing since the days when you printed the magazine on paper.
Reads <span   class="emphasis"><em>so</em></span> much better on a tablet.

<br><br>&mdash;<br> 
David   <br><br>
</p><p>
<span   class="bold"><b>Shawn Powers replies:</b></span>
David, that's great to hear! I like it better too. I think we all liked the
paper magazine so much, it was hard to think about what would be better
than looking &ldquo;how it always looked before&rdquo;. It's great to hear that the new
format looks better for more than just me.
</p><a name="N0x117f580.0x1278640"></a><h4 class="title"><a name="N0x117f580.0x1278640"></a>
Qubes, Hurrah!</h4><p>
I just read Kyle Rankin's article on Qubes in April's <span   class="emphasis"><em>Linux
Journal</em></span>.
I am happy to see this system get &ldquo;airtime&rdquo; and some explanation.
I know I needed it.
</p><p>
When I first began to read about Qubes, I admit I was a little overwhelmed.
But seeing this now, and with expectation awaiting the next articles in
the series, I will probably install it on something in the near
future.
</p><p>
So, thank you Kyle and editors.

<br><br>&mdash;<br> 
Jesse   <br><br>
</p><a name="N0x117f580.0x1278a08"></a><h4 class="title"><a name="N0x117f580.0x1278a08"></a>
The cal Command</h4><p>
In a letter published in the April 2016 issue, Wally Olson observed that
the <tt  >cal</tt> command prints some &ldquo;space&rdquo;
&ldquo;underbar&rdquo; &ldquo;backspace&rdquo; sequences
around the current date. (It actually prints terminal-specific escape
sequences if its output goes to a terminal; the backspace sequence is
used when printing to a file or pipe.)
</p><p>
The point of this is to cause the current date to be highlighted.
</p><p>
With the Debian/Ubuntu version of the <tt  >cal</tt> command (provided by the bsdmainutils
package), you can turn this off with <tt  >cal -h</tt>.
</p><p>
The version used on Red Hat behaves differently. When output is sent to
a file or pipe, it doesn't do any highlighting at all.
</p><p>
Incidentally, there's also a difference in trailing blanks, which you
can see by typing <tt  >cal | cat -A</tt>.

<br><br>&mdash;<br> 
Keith Thompson  <br><br>
</p><a name="N0x117f580.0x126f920"></a><h4 class="title"><a name="N0x117f580.0x126f920"></a>
strncpy</h4><p>
In a letter published in the March 2016 issue, Mischa Salle wrote:
</p><div class="blockquote"><blockquote class="blockquote"><p>
strcat, strcpy, sprintf and the like are dangerous and should be
avoided unless in completely straightforward cases. The standard
replacements for these are strncat, strncpy and snprintf, which
are all three POSIX.
</p></blockquote></div><p>
A minor detail: all those functions are defined by the ISO C standard,
not just by POSIX.
</p><p>
The strncpy function is not a &ldquo;safer&rdquo; version of strcpy. If the
destination array is too small to hold the source string, the target
is not null-terminated, meaning that any subsequent attempt to treat
it as a string will cause undefined behavior.
</p><p>
There are rare cases where strncpy is the right solution. Replacing
strcpy is not one of those cases.
</p><p>
I've written about strncpy here:
<a href="http://the-flat-trantor-society.blogspot.com/2012/03/no-strncpy-is-not-safer-strcpy.html" target="_self">the-flat-trantor-society.blogspot.com/2012/03/no-strncpy-is-not-safer-strcpy.html</a>.
</p><p>
Furthermore, replacing the relatively unsafe unbounded string
functions by bounded versions without very careful thought doesn't
really solve anything. They can avoid overflowing the target array,
but only by truncating the data. A contrived example: if the string
<tt  >sudo rm -rf /tmp/unimportant_directory</tt>
is quietly truncated to, say, 13 characters, the result is
<tt  >sudo rm -rf /</tt>,
and the consequences are likely to be worse than any buffer overflow.
</p><p>
You need to test whether the target array is big enough to hold the
data you want to store in it and then decide specifically what to
do if it isn't. Simple truncation is rarely the best response.

<br><br>&mdash;<br> 
Keith Thompson  <br><br>
</p></div><div class="sidebar"><p class="title"><b>Write <span   class="emphasis"><em>LJ</em></span> a Letter</b></p><p>
We love hearing from our readers. Please send us your comments and
feedback
via
<a href="http://www.linuxjournal.com/contact" target="_self">www.linuxjournal.com/contact</a>.
</p></div><div class="sidebar"><p class="title"><b>Photo of the Month</b></p><p>
Remember, send your Linux-related photos to
<a href="mailto:info@linuxjournal.com">info@linuxjournal.com</a>!
</p></div></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../266/toc266.html">Issue Table of Contents</a>
    <a class="link3" href="../266/12030.html">Article</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>