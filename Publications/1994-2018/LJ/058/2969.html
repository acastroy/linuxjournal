<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Virtual Network Computing</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;    Mr. Harvey tells us about the VNC software&#10;    package and how to set it up to control MS Windows servers from Linux.&#10;    "><meta name="keywords" content="applications, network"><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0xc98580.0xd8fab0"></a>Virtual Network Computing</h1></div><div><div class="author"><h3 class="author">Brian Harvey</h3></div><div class="issuemoyr">Issue #58, February 1999</div></div><div><p>
    Mr. Harvey tells us about the VNC software
    package and how to set it up to control MS Windows servers from Linux.
    </p></div></div><div       class="mediaobject"><img src="2969f1.jpg"></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0xc98580.0xd90558"></a></h2></div></div><p> In today's changing world, an increasing
number of UNIX system administrators are finding they need to
support Windows NT servers in their work environments. Whether
Exchange or application servers, NT servers are starting to creep
into what were once UNIX-only shops. The responsibility of managing
an NT server can be discouraging to any UNIX guru. UNIX users are
used to the flexibility of the X Window System&mdash;the ability to run
applications easily on any UNIX server and have remote X
applications display on the local desktop. It is much more
difficult to manage NT servers remotely and the administrator
usually needs to be at the system's console to run most NT
applications.
</p><p>Several commercial products allow MS Windows applications to
be controlled remotely from an X desktop. In addition, there are
several commercial X servers for MS Windows which allow the
opposite. However, until recently an equivalent free software
package was not available.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0xc98580.0xd906b8"></a>VNC</h2></div></div><p>Researchers at the Olivetti &amp; Oracle Research Laboratory
(ORL) have released the VNC software package under the GNU general
public license. VNC, which stands for Virtual Network Computing, is
a client/server-based, stateless, platform-independent protocol
developed at ORL. This protocol implements a remote display system
in which a user is allowed to control a computing &ldquo;desktop&rdquo;
managed by a VNC server, by connecting to it from a VNC client
application called a &ldquo;viewer&rdquo;. VNC servers currently exist for
Windows 95/NT, Macintosh and UNIX. A variety of VNC clients exist
as well for a number of operating systems. Figure 1 shows all the
connections currently possible with the VNC protocol. Many of the
VNC viewers are ported by users on the Net. ORL supplies
precompiled server and client binaries for Windows 95/NT,
Macintosh, Linux, Digital UNIX and Solaris. In addition, ORL
provides a Windows CE client.</p><p><a href="2969f2.jpg" target="_self"><span   class="bold"><b>Figure 1. VNC
Protocol Connections</b></span></a></p><p>In this article, I will discuss how to set up the VNC
software, allowing you to control a Windows desktop from Linux
running the X Window System (probably the most common use of VNC
for Linux users).</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0xc98580.0xd90920"></a>Installation</h2></div></div><p></p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0xc98580.0xd90a28"></a>Linux (VNC Viewer)</h2></div></div><p>ORL provides an x86 Linux 2.0 binary that works great with
Red Hat 5.1 and can be retrieved from their download page (see
Resources). Once you have the package, unarchive it using
<span   class="bold"><b>gunzip</b></span> and
<span   class="bold"><b>tar</b></span>. The binary distribution
provides no installation script, but for our purposes we simply
need to have root copy the viewer binary,
<span   class="bold"><b>vncviewer</b></span>, into a suitable
location accessible by others, such as /usr/local/bin.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0xc98580.0xd90c38"></a>Windows 95/NT (VNC Server)</h2></div></div><p>ORL provides a precompiled Windows 95/NT binary supplied as a
package that can also be downloaded from their download page. The
package installs like most other Windows software packages, i.e.,
using InstallShield. The VNC server (WinVNC) can be installed as a
regular application (started/stopped by the user currently logged
on to the console) or as an NT service (starts automatically when
NT boots; does not exit when user logs out). Installation as a
service is a new feature in recent versions of WinVNC. The latest
version at the time of writing, is 3.3.2R5. VNC is actively
developed, so a newer version of the software will most likely be
ready to download by the time you read this. I recommend installing
WinVNC as a service so that the VNC server is always running and
you do not have to remain logged in on the Windows console at all
times.</p><p>To install WinVNC as a service, simply install the package as
you would normally install any other Windows application, then type
in a command window:</p><pre     class="programlisting">
cd
WinVNC.exe -install
WinVNC.exe -run # or reboot NT to have the&lt;\n&gt;
                # service start automatically
</pre></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0xc98580.0xd90df0"></a>Configuration</h2></div></div><p>The Linux VNC viewer requires no configuration to use.
However, the Windows VNC server does require some minor
configuration. To bring up the configuration window, either
right-click on the WinVNC icon in the Windows NT/95 system tray and
select <span   class="bold"><b>Properties</b></span>, or open a DOS
command window and type:</p><pre     class="programlisting">
cd
WinVNC.exe -settings
</pre><p><a href="2969f3.jpg" target="_self"><span   class="bold"><b>Figure 2.
Windows VNC Configuration Window</b></span></a>
</p><p>In the configuration window, shown in Figure 2, the following
options can be set:</p><div class="itemizedlist"><ul type="disc"><li><p>Make sure <b  >Accept Socket
Connections</b> is selected. If this option is not checked,
all incoming connections will be disabled.</p></li><li><p>The <b  >Display Number</b> can be left
at 0. This value is specified when using a VNC viewer to connect to
this server.</p></li><li><p>Set a <b  >Password</b> to secure access
to this VNC desktop (a good idea). When connecting to this VNC
server via a viewer, you will be prompted for the same
password.</p></li><li><p>If <b  >Disable Remote Keyboard &amp;
Pointer</b> is selected, all incoming viewer connections will
be able to see the desktop but will not be able to move the mouse
or type anything (a read-only connection).</p></li><li><p>In the <b  >Update Handling</b> section,
various options can be turned on/off to control how the VNC server
sends &ldquo;desktop changes&rdquo; to a VNC viewer. See
http://www.orl.co.uk/vnc/winvnc.html for in-depth explanations on
the pros and cons of each option.</p></li></ul></div><p>Press the <b  >Ok</b> or <b  >Apply</b>
button to apply your configuration changes.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0xc98580.0xd91790"></a>Using the Linux VNC viewer</h2></div></div><p>Once you have WinVNC running on a Windows server, try
connecting to it from your Linux desktop by typing (within X) the
following command, followed by the password you gave when
configuring WinVNC (if any):</p><pre     class="programlisting">
&gt; vncviewer
vncviewer: VNC server supports protocol version 3.3 (viewer 3.3)
Password:
vncviewer: VNC authentication succeeded
vncviewer: Desktop name "boxster"
vncviewer: Connected to VNC server, using protocol version 3.3
vncviewer: VNC server default format:
16 bits per pixel.
Least significant byte first in each pixel.
True color: max red 31 green 63 blue 31
   shift red 11 green 5 blue 0
Using default colormap and translating to BGR233
Creating window depth 8, visualid 0x22 colormap 0x21
</pre><p>If you typed the password correctly, several lines of
information will appear and a new large window will pop up showing
the entire remote Windows desktop. When you are finished using the
VNC viewer, simply close the viewer's window to close the
connection. The remote Windows desktop will be left in the last
state the viewer left it in.
</p><p>Figure 3 shows a sample Linux desktop with a newly opened VNC
viewer connection &ldquo;viewing&rdquo; a Windows NT desktop.</p><p><a href="2969f4.jpg" target="_self"><span   class="bold"><b>Figure 3. Linux
Desktop Viewing Windows NT</b></span></a></p><p>A nice feature available in recent VNC releases is the
ability to send the infamous <b  >ctrl-alt-del</b> key
sequence to the Windows desktop shown in a VNC viewer. This feature
has distinct advantages when the VNC server is installed as a
service:</p><div class="itemizedlist"><ul type="disc"><li><p>If the VNC server is installed as a service under
Windows NT, you don't need to have a user logged on all the time
with the VNC server running as a Windows application. When it comes
time to use that server remotely, simply connect to it with a VNC
viewer, press <b  >ctrl-alt-del</b> to get the NT login
Window, and log on as you normally would to the NT box.</p></li><li><p>If you need to stay logged on to the NT server but
want to exit your local X session, you can type
<b  >ctrl-alt-del</b> to get the &ldquo;Windows NT Security&rdquo;
pop-up window, click on &ldquo;Lock Workstation&rdquo; to lock the console,
close the VNC viewer connection, then exit your X session. You will
still remain logged on to the NT server; its screen is now
locked.</p></li></ul></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0xc98580.0x118a010"></a>Advantages</h2></div></div><p>The VNC protocol has several advantages. The main one is that
it is stateless. A user can close a connection to a remote desktop
from one VNC viewer and later reconnect to that same remote desktop
from the same or different VNC viewer, and it will be in the same
state.</p><p>When using the Java VNC viewer, a system administrator can
control a Windows 95/NT, Macintosh, or UNIX desktop from anywhere
in the world using a Java-enabled browser. The VNC server can be
configured so that all incoming viewer connections will be able to
see the desktop but will not be able to move the mouse or type
anything (a read-only connection). This option comes in handy in a
teaching environment, where each student in a class connects to the
instructor's &ldquo;desktop&rdquo; and watches a demonstration on his own
computer rather than on an overhead connected to the instructor's
computer.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0xc98580.0x118a170"></a>How I Use VNC</h2></div></div><p>At work, I have an Alpha running Digital UNIX and a P133
running Windows NT 4.0. Although I am strictly a UNIX systems
administrator, my company's e-mail standard is based on Microsoft
Exchange. Therefore, I am required to have a Windows desktop on my
desk in order to read Exchange e-mail. However, at home I run only
Linux. I was looking for a way to read my Exchange e-mail from
home. After reading about VNC, I knew I had found what I was
looking for.</p><p>I use the Linux VNC viewer at home to connect to the Windows
NT box on my desk at work over a PPP connection. Figure 4 shows me
reading my Exchange e-mail with such a setup. While VNC performance
over a PPP line isn't spectacular, it is very usable and solves my
problem of not being able to read Exchange e-mail from home.</p><p><a href="2969f5.jpg" target="_self"><span   class="bold"><b>Figure 4.
Reading MS Exchange from Linux</b></span></a></p><p><a href="2969s1.html" target="_self">Resources</a></p></div></div>
<div class="authorblurb"><p>
        <div       class="mediaobject"><img src="2969aa.jpg"></div>

      <span   class="bold"><b>Brian Harvey</b></span>
      is currently a UNIX Systems
      Administrator for U.S. Technical Services in Huntington Beach, CA.
      He is a graduate of UC Riverside with a BS and MS in Computer
      Science. He can be reached via email at
      brian.harvey@ustsvs.com</p></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../058/toc058.html">Issue Table of Contents</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>