<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Best of Technical Support</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;    Our experts answer your technical questions.&#10;    "><meta name="keywords" content=""><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0x2372580.0x2469ab0"></a>Best of Technical Support</h1></div><div><div class="author"><h3 class="author">Various</h3></div><div class="issuemoyr">Issue #108, April 2003</div></div><div><p>
    Our experts answer your technical questions.
    </p></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x2372580.0x246a190"></a>Root Partition Mysteriously Read-Only</h2></div></div><p>I have a Red Hat 7.2 system with two physical drives, each
partitioned with three logical volumes. I have done something that
caused my main root partition to be read-only. I've checked the
directory permissions, and they are fine. But if I try to
<b  >vi</b> or touch a file in root or anywhere in a root
subdir, I receive <b  >touch: creating 'test': Read-only file
system</b>.</p><p>&mdash;Jeff Manning,
<a href="mailto:Jeff@VMWorks.com">Jeff@VMWorks.com</a></p><p>Make sure you are truly on the root partition:</p><pre     class="programlisting">
# cd /
# df .
</pre><p>The output should include a Mounted on column with
a value of /. If it truly is mounted read-only, it is most likely
because you had some filesystem error. You should fix it before you
mount the partition read-write:</p><pre     class="programlisting">
# fsck /dev/hda2
</pre><p>Replace /dev/hda2 with the entry under the Filesystem
column in the output of df. Finally, do this to mount the root
partition as read-write:</p><pre     class="programlisting">
# mount / -o remount,rw
</pre><p>

&mdash;Christopher Wingert,
<a href="mailto:cwingert@qualcomm.com">cwingert@qualcomm.com</a>
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x2372580.0x246a6b8"></a>Switching to GDM from KDM</h2></div></div><p>When my machine boots up in X, I get back what I think is the
KDE login manager. I would prefer to use GNOME's GDM, as it has
better features and is more customizable. How do I make GDM the
default X login manager?</p><p>&mdash;Gordon Baldwin,
<a href="mailto:gordonbaldwin@bigpond.com">gordonbaldwin@bigpond.com</a></p><p>Log in as root and edit the /etc/sysconfig/desktop file,
changing:</p><pre     class="programlisting">
DESKTOP="KDE"
</pre><p>to:</p><pre     class="programlisting">
DESKTOP="GNOME"
</pre><p>
&mdash;Keith Trollope,
<a href="mailto:ktrollope@san.rr.com">ktrollope@san.rr.com</a>
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x2372580.0x246aa80"></a>Upgrade Makes Printers Disappear</h2></div></div><p>I recently upgraded StarOffice from 5.2 to 6.0, and my system
can no longer access the network printers. The printers are HP
LaserJets with JetDirect cards, and they have their own IP
addresses. Using spadmin outputs only to a default printer; there
is no obvious way to specify an IP address. Looking at
psprint.config shows a location parameter but offers no
documentation saying how to set up an IP printer.</p><p>&mdash;Murray Zangen,
<a href="mailto:murray@nj.com">murray@nj.com</a></p><p>First, add the printers to the system using printtool and
specify JetDirect printer. Then, in spadmin, add the printer
definition for StarOffice. When you get to the print command
window, specify the printer in the command, for example:</p><pre     class="programlisting">
lpr -P hp3
</pre><p>&mdash;Keith Trollope,
<a href="mailto:ktrollope@san.rr.com">ktrollope@san.rr.com</a>
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x2372580.0x246ad98"></a>Emergency LILO Tip</h2></div></div><p>This is a follow-up to the bulletproof backup/boot question
that appeared in Best of Technical Support in the January 2003
issue. LILO knows about the -R option, which basically means
&ldquo;install this boot entry just once, then use default&rdquo;. You may,
at an early boot stage, install your emergency mode with
<b  >lilo -R</b>. At system shutdown (when all went well,
if you are picky after remounting / as read-only) you may
re-install your normal mode. So, if the box crashes unexpectedly
(or goes down quickly from, say, a forced reboot with
Ctrl-Alt-Delete), you come up in emergency mode.</p><p>&mdash;Tomas,
<a href="mailto:mlavergne@cfl.rr.com">mlavergne@cfl.rr.com</a></p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x2372580.0x246afa8"></a>Connecting to a Microsoft Network</h2></div></div><p>How do I stick a Linux box into my Windows peer-to-peer
network? I have an existing Windows peer-to-peer network that
includes one Windows XP machine and three or four Windows 98
machines. They have fixed addresses in the 10.1.1.1-10.1.1.14
range. All the machines are completely shared, and there are no
passwords; I'm the only actual user most of the time. How do I make
the Windows machines see the drives on the Linux machine and vice
versa?</p><p>&mdash;J. G. Owen,
<a href="mailto:owen_labs@worldnet.att.net">owen_labs@worldnet.att.net</a></p><p>Samba can help with this task. Setting up Samba this way can
be confusing, however, because the documentation doesn't make it
clear from the first step that there are actually two halves to
this task. In Windows, client and server functionality is the same.
Once the network is up, you can browse other systems, and they can
browse yours. With Samba, each side has to access the other. Once
Samba is installed, it takes only a little work to access other
systems. You should be able to use the smbmount command to mount a
share from another system. In fact, if you have other name
resolution methods correctly installed, such as DNS, you generally
don't need to run nmbd and smbd. For permanent shares, you can add
a line to /etc/fstab that is similar to the following:</p><pre     class="programlisting">
//machname/share  /mountpt smbfs &aring;username=xxx,password=yyy  1 1
</pre><p>You do need to set the Linux machine up as a server
to enable other machines to access it. This is done by editing
smb.conf to define the basic server properties as well as the
shares to create. Then run nmbd and smbd to provide those services.
The trick to avoiding sometimes-messy PDC-related work is to
compile Samba such that it supports your normal password services.
You can then add users to your system normally and use the
smbpasswd utility to create the file Samba actually uses. It's a
relatively manual process (described in the &ldquo;Unofficial HOWTO&rdquo; at
<a href="http://www.samba.org" target="_self">www.samba.org</a>), but it
does do the trick. If you want to browse as well as share, make
sure you add the guest or no-name account.
</p><p>&mdash;Chad Robinson,
<a href="mailto:crobinson@rfgonline.com">crobinson@rfgonline.com</a></p><p>Various versions of Windows are a bit touchy with the Network
Neighborhood. The best thing to do is edit /etc/samba/smb.conf.
Make sure the &ldquo;workgroup = line&rdquo; matches your workgroup. Add a
&ldquo;netbios name =&rdquo; for the name of your machine. Depending on your
installation, the default passwords will be picked up from
/etc/password.</p><p>&mdash;Christopher Wingert,
<a href="mailto:cwingert@qualcomm.com">cwingert@qualcomm.com</a></p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x2372580.0x246b478"></a>I Have No Inetd and I Must...Telnet?</h2></div></div><p><span   class="bold"><b>inetd</b></span> on my system,
Slackware 2.0.28, stops on occasion, barring access from telnet. Is
there an easy way to automatically restart inetd if it dies?</p><p>&mdash;Mark Johnson,
<a href="mailto:Mark.Johnson@InfoHarvest.ca">Mark.Johnson@InfoHarvest.ca</a></p><p>You're running an extremely old version of inetd, and some
versions did have stability problems. Several solutions to your
problem are available. If it is possible to upgrade your system,
newer versions usually work fine, and you'll receive other benefits
as well. If you'd like a replacement, try such alternatives as
xinetd or daemontools, both of which are quite stable and add some
features to the mix. However, if your cron service is trustworthy
and you don't need to restart the service the second it dies, you
might try running the following script every five minutes or so
from cron:</p><pre     class="programlisting">
#!/bin/sh
ISINETS=`ps ax | grep inetd |
grep -v grep | wc -l`
  if [ $ISINETD != 1 ]; then
     /usr/sbin/inetd
  fi
</pre><p>&mdash;Chad Robinson,
<a href="mailto:crobinson@rfgonline.com">crobinson@rfgonline.com</a>
</p><p>We've said this before, but please replace telnet with
OpenSSH to avoid exposing your passwords and other sensitive data
to the network. Packages for the OpenSSH client and server are
available for all the Linux distributions, and compatible clients
are available for every common platform. SSH is as easy to use as
telnet, and it automatically encrypts your connection.</p><p>&mdash;Don Marti,
<a href="mailto:info@linuxjournal.com">info@linuxjournal.com</a></p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x2372580.0x246b8f0"></a>Setting the IP Address on SuSE</h2></div></div><p>I'm operating SuSE 8.0 on my IBM ThinkPad 600E and am trying
to connect to our LAN server at work. How do I configure TCP/IP so
it automatically recognizes the addresses?</p><p>&mdash;Layla,
<a href="mailto:satchumwatch@netscape.net">satchumwatch@netscape.net</a></p><p>Run YaST2, the SuSE setup tool, and go to the Network address
setup screen. Select Automatic address setup (via DHCP) to use a
DHCP server if one is available, or select Static address setup and
fill in an IP address and subnet mask to set the address
manually.</p><p>&mdash;Don Marti
<a href="mailto:info@linuxjournal.com">info@linuxjournal.com</a></p></div></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../108/toc108.html">Issue Table of Contents</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>