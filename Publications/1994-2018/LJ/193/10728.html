<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Letters</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0x2086580.0x217dac0"></a>Letters</h1></div></div><div class="qandaset"><a name="N0x2086580.0x217e040"></a><h4 class="title"><a name="N0x2086580.0x217e040"></a>
Ruby and More Than a Single Database Table</h4><p>
This message is for <span   class="emphasis"><em>LJ</em></span>'s At the Forge columnist Reuven Lerner: I've read both the Ruby beginning books and looked all over the
place, and I've not been able to find <span   class="emphasis"><em>anything</em></span> that takes you from a nice
beginner setup with a single database table to something real&mdash;with a
&ldquo;well-designed&rdquo; database&mdash;which means
<span   class="emphasis"><em>lots</em></span> of tables. I know there's an
official name for it, but I don't remember it&mdash;basically, no data is
duplicated anywhere, you just have &ldquo;pointers&rdquo; (IDs)
everywhere.
</p><p>
The reason I care is that I'm trying to do just that&mdash;the application is
an on-line user-based help system (which doesn't even come
<span   class="emphasis"><em>close</em></span> to
describing it). The short version is that I've got user tables, user e-mail
tables, other sorts of user identification (which can be one entry or many
more), lists of things users are interested in (like hobbies),
when they last verified their e-mail addresses, and on and on. Once I get
past a single table though, I can find no help
<span   class="emphasis"><em>anywhere</em></span>.
</p><p>
Please, point me to a book or <span   class="emphasis"><em>something</em></span> that goes beyond a one or
two table database into the &ldquo;real world&rdquo;. This is a
&ldquo;spare-time&rdquo; project
for a nonpaying hobby. I've been fooling with this now for more than ten years
(I started with Perl, but gave up on Perl once I had all the database entry done
and had to start working on the database searching).
Help!

<br><br>&mdash;<br> 
Rusty   <br><br>
</p><p>
<span   class="bold"><b>Reuven M. Lerner replies:</b></span> Unfortunately, you're right. Most tutorials
(including my own!) have one table, or maybe two, and don't go much beyond
that. It's hard enough to write something understandable that fits into
a normal-sized article length. Several tables would require even more time and
space, which would make things even more complicated.
</p><p>
One solution is just to extrapolate a bit from those examples. An association
between two tables works the same way between any pair of tables. Indeed,
associations only exist between two tables, so you just need to repeat the
association between however many tables you have.
</p><p>
But I believe, based on what you've written here, that you're looking for
something more concrete&mdash;something you can really sink your teeth into to
understand the techniques.
</p><p>
One of my favorite Rails books is <span   class="emphasis"><em>Enterprise Rails</em></span> written by Dan
Chak and published by O'Reilly. His examples might be too much in the other
direction, using a variety of advanced techniques that might be overkill for
your simple application or for simply seeing how many tables can fit together.
But, several of the examples involve multiple tables joined in different ways
to demonstrate a variety of Rails techniques.
</p><p>
However, if you're really looking to understand how a number of tables might
fit together, look at one of the Rails-based
open-source applications available on the Internet. There are a number of
social-networking platforms (such as Insoshi and LovedByLess), at least one
e-commerce system (Spree), and at least one content-management system
(Radiant). You can download, explore and try to understand the code. In your
particular case, it sounds like the most interesting part of these applications
will be the models and the associations among them, but there are lots of
other parts to a Rails application, and looking at these open-source
applications can help you better understand those too.
I hope this is helpful! Please let me know if you have any further
questions.
</p><a name="N0x2086580.0x217ea38"></a><h4 class="title"><a name="N0x2086580.0x217ea38"></a>
Xen Correction</h4><p>
I have been a reader and subscriber to <span   class="emphasis"><em>Linux Journal</em></span> for a number of years.
Almost every month I learn something new that can be applied immediately.
With the help of the excellent <span   class="emphasis"><em>Linux Journal</em></span> articles
over the years, I have
had the opportunity to install database servers, backup servers, network
monitoring systems and PBX systems.
</p><p>
This month, I was trying out Xen server with the intention of installing
sogo. As I was preparing to deploy my first appliance, I followed the
commands on page 74 of the January 2010 issue [&ldquo;Simple Virtual
Appliances with Linux and Xen&rdquo; by Matthew Hoskins] and promptly wiped out my previous work. The tar
command should read:

<pre     class="programlisting">
tar -cvzf appliance-base.img.tar.gz 
 &#8618;appliance-base.img appliance-base.cfg
</pre>
</p><p>
instead of:

<pre     class="programlisting">
tar -cvzf appliance-base.img appliance-base.cfg
</pre>
</p><p>
Keep up the good work.

<br><br>&mdash;<br> 
Rob Underwood  <br><br>
</p><p>
<span   class="bold"><b>Matthew Hoskins replies:</b></span> Rob, my sincerest apologies. I don't know how that
typo crept in there. You are correct. Thanks for your feedback. 
</p><a name="N0x2086580.0x217f0c0"></a><h4 class="title"><a name="N0x2086580.0x217f0c0"></a>
Dave Taylor's Trap</h4><p>
As a bash teacher at Marseille University, I like to read Dave Taylor's
columns. In the February 2010 issue, on page 24, see the line that says
<tt  >trap "..." 0 1 9 15</tt>. If you try <tt  >trap
-l</tt> to get
the list of UNIX signals, you'll see that 0 is not a signal (but has
special meaning for kill: <tt  >kill -0 pid</tt> succeeds if pid exists, without
sending any signal). Moreover, 9 stands for SIGKILL, which is not
&ldquo;trapable&rdquo;.
Finally, a reasonable choice is: <tt  >1 2 3 15</tt>.

<br><br>&mdash;<br> 
E. Thiel  <br><br>
</p><p>
<span   class="bold"><b>Dave Taylor replies:</b></span>
<span   class="emphasis"><em>Sacr&eacute; bleu!</em></span> You're right, there is no <tt  >trap
0</tt> signal
to catch, and you can't catch SIGKILL. Thanks!
</p><a name="N0x2086580.0x217f6f0"></a><h4 class="title"><a name="N0x2086580.0x217f6f0"></a>
Always Innovating Touch Book</h4><p>
Daniel Bartholomew's review of the Always Innovating Touch Book in the
February 2010 issue mentioned that the software wasn't very good. I was
wondering if there was a way to install Ubuntu or Windows XP instead?

<br><br>&mdash;<br> 
jeff   <br><br>
</p><p>
<span   class="bold"><b>Daniel Bartholomew replies:</b></span>
The Touch Book is built around an ARM Cortex-A8 CPU from Texas
Instruments. Because of this, your choices are limited. Windows, for
example, does not have an ARM-compatible version. There are some
choices available though. Ubuntu has an ARM port, and both
Android and Chrome OS run on ARM processors. Also, other Linux
distributions run on ARM processors that probably could be made
to run on the Touch Book. The Touch Book Wiki has the best information
on the various distributions you can run on the Touch Book:
<a href="http://www.alwaysinnovating.com/wiki" target="_self">www.alwaysinnovating.com/wiki</a>.
</p><p>
Always Innovating also seems to have recognized that its Linux OS is
not the greatest, because the latest version of the Touch Book OS (at the
time of this writing, it's 
version 2010-01.b) has Ubuntu and Android included as
boot-time options with Chrome OS promised in a future version.
</p><p>
The Ubuntu boot option boots you into a vanilla Ubuntu Xfce desktop
environment. In my limited testing, it appears to work well enough, but
I wish they would have used the Ubuntu Netbook Remix or the MID
edition, as what you get isn't optimized for the touchscreen, and there
doesn't appear to be an on-screen keyboard either. The Android boot
option isn't fully functional yet. It boots, and you get to the
desktop, but you can't do much else. For example, the two
hardware buttons aren't mapped to any of the standard Android hardware
buttons (home, menu and back), and there doesn't appear to be anything
set up to emulate them, which makes Android unusable for now.
</p><p>
The default Touch Book OS has improved during the past few months, but
it still has too many issues for me to recommend it, unless you
like getting up close and personal with your hardware and software.
</p><a name="N0x2086580.0x217fbc0"></a><h4 class="title"><a name="N0x2086580.0x217fbc0"></a>
Troubleshooting Clarification</h4><p>
Kyle Rankin is usually spot on with his Hack and / column, but he may have confused
readers with his explanation of CPU load and the output of the
<tt  >w</tt>/<tt  >uptime</tt>
command on Linux [March 2010 issue, &ldquo;Linux
Troubleshooting, Part I: High Loads&rdquo;]. Contrary to what
he says, <tt  >w</tt> <span   class="emphasis"><em>does not</em></span> show the number
of processes waiting for the CPU to become available.
</p><p>
On Linux, it includes both those ready to run and those waiting for any type
of I/O. Later in the article, he talks about CPU and I/O bound load
situations and is correct on how they can be monitored. It's just a bad summary
that might confuse folks. That is why you can have a responsive system
even though <tt  >w</tt> reports a load of 40.
</p><p>
I used to administer Sun OS/Solaris servers, and on those,
<tt  >w</tt> output
was genuinely the number of processes ready to use the CPU. I got confused
myself when I started working on Linux&mdash;the semantics of the command were
different.

<br><br>&mdash;<br> 
John   <br><br>
</p><p>
<span   class="bold"><b>Kyle Rankin replies:</b></span>
Thanks for the clarification! In trying to explain the idea of load in a
simple way, I definitely left out the more complete definition. Here it is
from the uptime man page: &ldquo;System load average is the average
number of processes that are either in a runnable or uninterruptable state.
A process in a runnable state is either using the CPU or waiting to use the
CPU. A process in an uninterruptable state is waiting for some I/O access, eg waiting for 
disk.&rdquo;
</p><a name="N0x2086580.0x2176b30"></a><h4 class="title"><a name="N0x2086580.0x2176b30"></a>
Re: Security Tip</h4><p>
In the March 2010 issue, Paul wrote a very interesting letter about filling the
/etc/hosts file with IPs of important DNS names to avoid any man-in-the-middle spoofing or phishing attacks that could be used on free/public
LANs. I use OpenDNS for all my computers, mainly because they offer a
faster service than my ISP (in the UK) as well as running an anti-phishing
database service to protect the rest of the family.
</p><p>
I was wondering if setting the computer to use OpenDNS instead of the
default (and the possibly corrupt) DNS servers issued by the router/DHCP server
is as safe as inserting IPs into the hosts file?
</p><p>
Is it possible for a compromised DNS server (say, inside a router) to
intercept DNS queries destined for an external IP address and return false
address data to the original node?

<br><br>&mdash;<br> 
Daniel Craigie  <br><br>
</p><p>
Sadly, while a compromised DNS server wouldn't be able to poison your DNS
results, a compromised router certainly could. And in that instance, it
doesn't matter if we're talking about DNS or just traffic in general&mdash;an untrusted network is quite untrustworthy!
</p><p>
As an example, the router in your hypothetical network could just reply,
pretending to be the OpenDNS servers. Because the router routes traffic,
and there is no way to verify where it's coming from, it's easy to spoof.
In fact, that's the reason so many people at coffee shops immediately start
a VPN session, because the encryption guarantees you're connecting to the
proper endpoint.
</p><p>
So in the end, the only way to be safe behind an untrusted router is to use
some sort of VPN. Hope that helps!&mdash;Ed.
</p><a name="N0x2086580.0x2177000"></a><h4 class="title"><a name="N0x2086580.0x2177000"></a>
H Note?</h4><p>
Concerning John Knight's description of wxGuitar in his New Projects column
in the March 2010 issue:
H is the German name for the note we know in English as B. B to the German
means our English B-flat. So wxGuitar probably comes from Germany or
another country with a German-speaking musical heritage.
Bach's B minor mass is, in German, in the key of H moll.

<br><br>&mdash;<br> 
Charles McCarthy  <br><br>
</p><a name="N0x2086580.0x21772c0"></a><h4 class="title"><a name="N0x2086580.0x21772c0"></a>
Legally Using Linux?</h4><p>
The company I work for takes legal compliance with licenses seriously. This
presents a difficulty when using free Linux distros, because the
clearest statement they seem to make (if you're lucky), is that the
licenses of the software in the distro are compatible. Since distros
typically contain 1,000s of packages, each with its own license, for a
company to check that it can comply with the terms of each (a simple
example: that no package says it may not be used for commercial purposes)
is quite expensive. It could tie up a legal department for weeks.
</p><p>
IANAL, but even Red Hat's licenses look slightly tricky. They say that the
core stuff is all GPL2, but they also say that many contain many components
that each have their own license. I guess Red Hat doesn't distribute OOo (now
GPL3). Red Hat also has a set of 16 third-party licenses, one of which
(Monotype) says you may take only a single copy for backup. So, let's hope
no one has multiple level 0 system backups! Another (the
&ldquo;Macromedia&rdquo; aka
Adobe) license would be even harder to comply with. If you install the
Adobe Reader on two servers (one for failover), you're in breach.
</p><p>
I just used Red Hat as an example, because you would think commercial distros 
would have the clearest statement of a user's legal obligations, but even
their licenses would require a while to check properly. (Did I mention
that the &ldquo;Macromedia&rdquo; links to a further set of dozens of licenses for
other Adobe software that may be relevant?)
</p><p>
This seems like a crazy situation. Surely it makes sense for the legal
position of each distro to be clearly set out and summarized, for companies
who want to use it in good faith. Instead, it seems every user is
expected to duplicate the effort of checking for the typical problematic
restrictions (such as not for commercial use or NAP).
</p><p>
Of course, the same situation applies to other software collections, like
the wonderful Cygwin. I'm writing to you to bring the matter to the
community's attention, and in the hope that the situation is not really as
impossible as it seems.

<br><br>&mdash;<br> 
luke   <br><br>
</p><p>
I know exactly what you mean, and our community (Linux users) knows all too
painfully how licensing, even open source, can be so controversial. The
GPL itself, like you mention, with multiple versions, is confusing.
I'm not a lawyer either, but I fear this won't end any time soon. When
companies like Adobe try to stretch their comfort level and delve into open
source, they do so cautiously, so that their intellectual property isn't
stolen. Quite frankly, I understand their concerns, and I applaud them for
making any movement into open source at all.
</p><p>
Perhaps in the future, licensing will be less complex, as time proves open
source is a &ldquo;safe&rdquo; environment to work in and still make money. Until that
time, it is a complicated mess to say the least.&mdash;Ed.
</p><a name="N0x2086580.0x2177898"></a><h4 class="title"><a name="N0x2086580.0x2177898"></a>
Photo of the Month</h4><p>
Have a photo you'd like to share with <span   class="emphasis"><em>LJ</em></span> readers?
Send
your submission to
<a href="mailto:info@linuxjournal.com">info@linuxjournal.com</a>. If we run yours in the
magazine,
we'll send you
a free T-shirt.
</p><div       class="mediaobject"><a href="10728f1.large.jpg"><img src="10728f1.jpg"></a><div class="caption"><p>
Since there were no moose, I decided to catch up on my reading. Submitted
by
Matt Vermette.
</p></div></div></div></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../193/toc193.html">Issue Table of Contents</a>
    <a class="link3" href="../193/10728.html">Article</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>