<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Ext2tools&mdash;Reading Linux files from DOS</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;    Robert admits he uses Windows on his PC along with Linux.  Here's&#10;    how he survives his divided existence.&#10;    "><meta name="keywords" content="applications, development, shell, utility, programming"><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0xe73580.0xf6aab0"></a>Ext2tools&mdash;Reading Linux files from DOS</h1></div><div><div class="author"><h3 class="author">Robert Dalrymple</h3></div><div class="issuemoyr">Issue #23, March 1996</div></div><div><p>
    Robert admits he uses Windows on his PC along with Linux.  Here's
    how he survives his divided existence.
    </p></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0xe73580.0xf6b4a8"></a></h2></div></div><p>I don't know about you, but I will admit
to using Windows on my PC along with Linux. It's just that some
Windows applications are still better than those available for the
X windows system. (No flames, please. I didn't mention any names!)
</p><p>Unfortunately, using both Windows and Linux on the same
machine means I sometimes have important files on the MS-DOS
partition, which I need while using Linux. I can access files on
the MS-DOS partition with Linux, but often the opposite is true&mdash;I
need to access Linux files from DOS or Windows 95. This used to
involve getting out of Windows, booting Linux, moving a file to the
DOS partition, and then rebooting Windows. Not a particularly
convenient method!</p><p><span   class="bold"><b>NB:</b></span> Be sure to have
<span   class="bold"><b>Loadlin</b></span> working or a working Linux
boot disk before you try loading Windows 95 if you use LILO to
start Linux, as the installation of Windows will overwrite the
Master Boot Record.</p><p>But it isn't that complicated any more, thanks to ext2tools,
a collection of DOS programs written by Claus Tondering
(<a href="mailto:ct@loglin.dknet.ck">ct@loglin.dknet.ck</a>
). ext2tools allows me to read Linux (ext2) files directly from DOS
or Windows. Five of ext2tools' DOS programs mimic Unix commands,
and a sixth is used for set-up. The programs are E2CAT, E2CD, E2CP,
E2LS, E2PART and E2PWD.</p><p>Using these commands is straightforward. From DOS, or a DOS
window, you get a listing of the files in your Linux root directory
with the command <b  >e2ls</b>. If you want a listing of
another directory, just add the directory name.</p><p>To change to another Linux directory, say, home, you enter
<b  >e2cd home.</b> Another <b  >e2ls</b> then
lists the files in home. If you find the file you need in the home
directory, say it is called stuff.ext, typing <b  >e2cp
stuff.ext stuff.dos</b> will copy the file into stuff.dos in
your present DOS directory. To just look at the file instead,
<b  >e2cat stuff.ext</b> will list it on your DOS
screen.</p><p>The other DOS programs included in ext2tools are E2PWD, which
gives the Linux directory you are currently in, and E2PRT, which is
used to determine the partitions on a hard disk, which is to be
signified by the disk number discussed below.</p><p>The set-up of ext2tools is really simple. It just requires
you to add one line to your DOS autoexec.bat file to define the
environmental variable e2cwd. The value of this variable is set to
a two (or three) part number. I use:</p><p><b  >set e2cwd=128:2</b></p><p>The 128 indicates the first hard disk (129 would be the
second.). The 2 denotes the partition number of the ext2 file
system on that disk. A third number, which I omit, is the inode
number of the current working directory. Leaving it blank results
in the default value of 2, which identifies the root directory.
After re-running autoexec.bat in a DOS window, typing that command
on the command line, or simply rebooting DOS/Windows, you should be
ready to use the tool program.</p><p>Claus Tondering, the author of the program and a Unix
programmer/electrical engineer at Olicom in Denmark, says there are
two limitations of ext2tools that he knows of. If there are three
or more partitions inside an extended partition table, the table is
read incorrectly. Secondly, if you have more than two hard disks,
there is no way to get to the third, due to limitations on the use
of BIOS for disk information. He hopes that the next version should
take care of both these problems and may even support wild cards,
but no promises.</p><p>The access to the Linux file system by ext2tools is
read-only. To write Linux files you must be in Linux. In fact,
Tondering does not plan to add write capabilities to these DOS
programs as he fears that it could be dangerous for a variety of
reasons.</p><p>Finally, a <span   class="bold"><b>big warning</b></span>.
ext2tools gives superuser status to the DOS user, as it does not
respect the access permissions of the Linux file system. This was
by design, since having DOS on a Linux system is an inherent
security risk anyway. Be careful if you install it on a multi-user
system.</p><p>See <a href="1209s1.html" target="_self">Getting ext2tools</a>
sidebar for more information.</p></div></div>
<div class="authorblurb"><p>
      <span   class="bold"><b>Robert A. Dalrymple</b></span>
      (<a href="mailto:rad@udel.edu">rad@udel.edu</a>)
      works at
      the University of Delaware and tends two machines that are
      half-and- half (Win95/Linux). He thanks Claus Tondering for helpful
      comments.
    </p></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../023/toc023.html">Issue Table of Contents</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>