<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>
Cooking with Linux</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;Think you can't run a real&#10;on-line community in about 64k? Try a bulletin board system.&#10;"><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0x2092580.0x2189ab0"></a>
Cooking with Linux</h1></div><div><h3 class="subtitle"><i>
L'Intranet Originale</i></h3></div><div><div class="author"><h3 class="author">Marcel Gagn&eacute;</h3></div><div class="issuemoyr">Issue #134, June 2005</div></div><div><p>
Think you can't run a real
on-line community in about 64k? Try a bulletin board system.
</p></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x2092580.0x218a3f8"></a></h2></div></div><p>
That's right, it's completely nongraphical, but there is color,
<span   class="emphasis"><em>mon ami</em></span>. Why? Well, Fran&ccedil;ois, I suppose I'm feeling a bit
nostalgic. When I read that this issue's theme would be intranets,
it started me thinking about the whole idea of an intranet, literally
an internal network&mdash;a private little universe, if you will, for a
specific set of users. Usually, we think of a business or an organization
making use of this, but intranets also are perfect for hobby or user
groups. When we talk about intranets, we tend to think of Web contact
management systems and portals that perform these functions.
</p><p>
<span   class="emphasis"><em>Quoi?</em></span> The text-only screen? That's easy. The original intranet
existed long before we all started getting on the Internet, <span   class="emphasis"><em>mon
ami</em></span>, and communication was nongraphical. <span   class="emphasis"><em>Mon
Dieu</em></span>, why are we still talking? Our guests are already here.
Welcome, <span   class="emphasis"><em>mes amis</em></span>, make yourselves
comfortable while Fran&ccedil;ois brings you your wine. To the wine cellar,
Fran&ccedil;ois. Please bring back the 2003 Coastal Sauvignon Blanc.
<span   class="emphasis"><em>Vite!</em></span>
</p><p>
I was just telling Fran&ccedil;ois about the original intranets, <span   class="emphasis"><em>mes
amis</em></span>.
Way back when I was just getting out of my teens, I started running one
of these original intranets on an old Commodore 64. They were called
bulletin board systems, or BBSes. In fact, I wrote and ran
my own BBS all those years ago. The one I operated had one phone line,
which meant only one user could dial in at a time. This was a
non-networked system, but it was an intranet and at its peak, 40 or 50
users took advantage of it. That little trip down memory lane
is why I put together a menu of BBS programs.
</p><p>
You might think that in this heavily graphical age, no one uses or
continues to work on text-style BBS programs. In truth, many
BBSes still
are in operation, and developers continue to work on and
develop the programs.
</p><p>
The first item on tonight's menu is Bryan Burns' NexusChat. NexusChat,
or NChat, is an excellent BBS-style program that provides
different user levels, multiple rooms, private and group chats,
e-mail messaging, on-line configuration, on-line help and a whole lot more.
Furthermore, you don't need to be root to run NexusChat, nor do you need
to be root to install it. Start by creating a directory where you would
like the chat server to be installed. For instance, I created a directory
called nexuschat in my home directory. The next step is to
extract the source package:

<pre     class="programlisting">
tar -xzvf nchat-3.31.tar.gz
cd nchat-3.31
./setup.sh
</pre>
</p><p>
The questions you have to answer are pretty basic, and you can accept the
defaults, with a few exceptions. When asked where you would like
the binaries installed, indicate the chat directory you created earlier.
The base data directory, which defaults to /home/nchat/etc, now can
be an etc subdirectory wherever you chose to install it.
Next, you are asked for the number of ports. That's the maximum number
of people who can connect to your chat server at any given time.
The default here is 15. When you have answered this last question, it's
time to type <tt  >make</tt>. After a few seconds of
compiling, the final step is to create the user database. By default,
you should create 999 slots for possible users.
</p><p>
That's it; there's no install here. The final step involves
moving the etc directory to its final location manually. You also need to do the
same for the nchat and userdb binaries. In my case, I chose to run the
server in /home/marcel/nexuschat, so I executed the following commands:

<pre     class="programlisting">
mv etc /home/marcel/nexuschat
mv nchat /home/marcel/nexuschat
mv userdb /home/marcel/nexuschat
</pre>
</p><p>
Switch to your NexusChat directory and prime the user database with
<tt  >userdb -z -s 999</tt>. Aside from prepping the
database, you need to create the 000 user with a password of root. To
start the server, which runs on port 4000 by default, simply type
<tt  >/path_to/nchat</tt>. Now,
from another terminal, connect to your chat server and log in as 000:

<pre     class="programlisting">
telnet your_server 4000
</pre>
</p><div       class="mediaobject"><a href="8162f1.large.jpg"><img src="8162f1.jpg"></a><div class="caption"><p>
Figure 1. Telnet to the NexusChat port and get this login screen.
</p></div></div><p>
One of the first things you need to do once connected is change your password. You do that by
typing <tt  >/passwd topsecret</tt> where topsecret is
the new password you choose. Once you are connected and chatting,
a number of different commands are at your disposal. As with the password
change command, these all begin with a slash
character. To get a list of available commands, type
<tt  >/?</tt>. If, for some strange reason, you can't
see what you are typing, type <tt  >/echo</tt>.
</p><p>
At this point, guests also can log in. All they have to do is press
Enter, and they automatically are entered as a guest. They can type
<tt  >NEW</tt> to
register themselves as a user on the system, but the SysOp has to confirm
their registration before they can log in. At this point,
they can change their handles and chat with a limited set of commands.
The administrator&mdash;that is, the person running the nchat
program&mdash;can add permanent users or activate a self-registered user
while logged in by calling up the user editor; use the <tt  >/ue username</tt> command.
You also can do this from the command line with
<tt  >userdb</tt>, the other binary that was installed. To add a user
from the NexusChat directory, then, you would enter the following:

<pre     class="programlisting">
./userdb -a user -u -l 003 -h Francois -p 123 -t 3600
</pre>
</p><p>
You are adding a user-level account (-a), there is also sysop; updating the
user database (-u); creating user number 003 (-l); assigning the user a
handle of Francois (-h); assigning a password of 123
(-p); and setting a session timeout of 3600 seconds (-t). If
you simply type <tt  >userdb</tt> without any options, a list of
all the various options is returned.
</p><p>
I mentioned that the default port number was 4000. This and a few
other parameters can be changed by editing the etc/nchatrc
file. You likely want to change chat_name to something
of your choosing, as this is the BBS' name. Some parameters, such as
<tt  >ask_ansi = true</tt>, are commented out. Also,
although most terminals can handle the ANSI colors without a problem,
it might be nice to offer that choice to users when they log on.
</p><p>
Some other interesting files are located in the etc directory.
The nc_login file, for example, is what the user sees upon logging
in, along with an equivalent nc_ansi_login, and nc_motd is the
message of the day.
</p><p>
NexusChat is a lot of fun and easy to run, with minimal administrative
issues. It's also quite flexible and offers simple user and chat room
creation options. There's even a basic e-mail function so you can
leave private messages for users that aren't currently on-line. Should you
decided to try NexusChat, it's worth checking out the NexusChat Web site
for a comprehensive list of its many features (see the on-line Resources).
</p><p>
While Fran&ccedil;ois refills your glasses, let's look at another example of
the venerable BBS. Some programs offer more sophisticated
features than NexusChat does, such as full message facilities, complex
room creation&mdash;some for messaging, others just for chatting&mdash;statistical
information, world clocks and calendars and more. One such
BBS is Walter de Jong's bbs100.
</p><p>
To get bbs100 ready to use, you need to build it from source, which
you can get from the bbs100 Web site (see Resources). Compiling and
installing the program is fairly easy, but the steps might seem a
bit strange:

<pre     class="programlisting">
tar -xzvf bbs100-2.1.tar.gz
cd bbs100-2.1/src
./configure --prefix=/home/bbs100
make dep
make
make install
</pre>
</p><p>
In particular, notice the prefix above. It's important not
to use the /usr/local default, because the BBS needs to be
able to write in various directories under that prefix, and permissions
may not allow it under /usr/local. I also didn't do a <tt  >make
install</tt> as root, because it isn't necessary. That said,
you need to make sure your login has access to the directory
in which you are trying to install. I created a /home/bbs100
directory for this particular BBS.
</p><p>
When you are done with the installation, switch to the installation
directory, in my case /home/bbs100, and open etc/param
in your favorite editor. A few settings here should be changed right
away, such as the ones that include the BBS name, the port on which you
want to run the program and the base directory for the installation,
mostly for confirmation:

<pre     class="programlisting">
bbs_name                The Cellar
port_number             12345
basedir                 /home/bbs100
</pre>
</p><p>
Before we move on, I suggest you take some time to
become familiar with the various files in the etc directory.
They include welcome screens, the message of the day, help files, system
rules displayed on first login and a lot of other interesting things.
</p><p>
You're almost there. Because we made Francois the SysOp, we also need to
give him a password to log in. From the directory where you installed the BBS, type
<tt  >bin/mkpasswd SysOP_Name</tt>; you then are asked for a passpharase
for that user:

<pre     class="programlisting">

bin/mkpasswd Francois
bbs100 2.1 mkpasswd by Walter de Jong
&lt;walter@heiho.net&gt; (C) 2004
Enter password:
Enter it again (for verification):
OIGxutxGpuTowzw2AgMXZRkCNk

</pre>
</p><p>
The last line is the SysOp's encrypted password. To let the BBS know about
it, edit etc/su_passwd and enter the SysOp's name followed by
a colon, followed by the encrypted passphrase:

<pre     class="programlisting">
Francois:OIGxutxGpuTowzw2AgMXZRkCNk
</pre>
</p><p>
To start the BBS, simply type <tt  >/home/bbs100/bin/bbs
start</tt>. Once the d&aelig;mon is running, connect from a terminal
window by doing a telnet to the port you defined:

<pre     class="programlisting">
telnet your_system 12345
</pre>
</p><p>
To change to the BBS equivalent of the superuser, or root, press the
$ hot key. In this case, the superuser is known as the
SysOp, or system operator. Only the person with his or her handle in the
etc/su_passwd file has this hot key at his or her disposal. In all other
cases, a nice calendar is displayed showing times in various worldwide
locations. Once you are SysOp, you have access to a number of additional
commands; simply press Ctrl-S to enter the SysOP menu. Once you are the
SysOp, you have the option of configuring various system parameters,
creating rooms (message as well as live chat rooms) and dealing with
pesky users if need be.
</p><div       class="mediaobject"><a href="8162f2.large.jpg"><img src="8162f2.jpg"></a><div class="caption"><p>
Figure 2. The bbs100 bulletin board system offers
chat rooms and calendars with memory usage measured
in kilobytes.
</p></div></div><p>
It may take some getting used to, but the BBS concept is powerful
and maybe a little addictive. Here's another reason to consider it.
With six users on-line, my total memory usage, including the running
bbs100 program, was 66,917 bytes. As you can see, <span   class="emphasis"><em>mes
amis</em></span>, being smaller and simple surely had its advantages.
</p><p>
As we marvel at the popularity of instant messaging and cell phone text
messaging, let's remember that the roots of these technologies go back a
long time. To prove my point, I'm going to end this with a little trip
down memory lane. Once upon a time, there was a command called write
and another called mesg. The mesg
command allowed you to turn on your message facility like this:

<pre     class="programlisting">
mesg y
</pre>
</p><p>
Simply stated, you were allowing others to send you messages. Now,
log on to another terminal session and turn on message there as well.
Let's pretend that I am logged in as marcel on one terminal and
Fran&ccedil;ois is logged in as francois at another. He could open a chat
session with me by doing this:

<pre     class="programlisting">
write marcel /dev/pts/16
</pre>
</p><p>
He then would be able to start writing whatever he wanted, until he
pressed Ctrl-D to finish the chat session. On my terminal session,
I would see the following:

<pre     class="programlisting">
[marcel@francois marcel]$
Message from francois@francois.salmar.com on pts/14 at 19:30 ...
Hello there, Chef!
Have you decided what kind of wine we will be serving tonight?
</pre>
</p><p>
As the saying goes, <span   class="emphasis"><em>Plus &iuml;&iquest;&frac12; change, plus c'est la m&iuml;&iquest;&frac12;e
chose</em></span>.
</p><p>
It appears, <span   class="emphasis"><em>mes amis</em></span>, that closing time is once again upon us. Take
your time though, and finish your conversations. In the world of text, it
somehow feels easy to sit back and enjoy a glass of wine without
rushing. Therefore, <span   class="emphasis"><em>mes amis</em></span>, let us all drink to one another's
health. <span   class="emphasis"><em>A votre sant&eacute; Bon app&eacute;tit!</em></span>
</p><p><span   class="bold"><b>Resources for this article:</b></span>
<a href="../134/8198.html" target="_self">/article/8198</a>.
</p></div></div>
<div class="authorblurb"><p>
Marcel Gagn&eacute; is an award-winning writer living in Mississauga,
Ontario. He is the author of <span   class="emphasis"><em>Moving to the Linux
Business Desktop</em></span> (ISBN 0-131-42192-1), his third book from
Addison-Wesley. He also is a pilot, was a Top-40 disc jockey, writes
science fiction and fantasy and folds a mean Origami T-Rex. He can be reached
at <a href="mailto:mggagne@salmar.com">mggagne@salmar.com</a>. You can discover a lot of other
things, including great WINE links, from his Web site at <a href="http://www.marcelgagne.com" target="_self">www.marcelgagne.com</a>.
</p></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../134/toc134.html">Issue Table of Contents</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>