#!/usr/bin/perl

$date = `date`;
chop $date;

print <<HEADER;
%!PS-Adobe-1.0
%%DocumentFonts: (atend)
%%Title: histogram
%%Creator: Hans de Vreught
%%CreationDate: $date
%%Pages: (atend)
%%BoundingBox: (atend)
%%EndComments

/Times-Roman findfont 10 scalefont setfont

/Histo-y {
	30 mul 100 add /y exch def
	1993 sub 50 mul 150 add /x exch def
	0.9 setgray newpath
	x 100 moveto x y lineto x 20 sub y lineto x 20 sub 100 lineto
	closepath fill
	0 setgray newpath
	x 100 moveto x y lineto x 20 sub y lineto x 20 sub 100 lineto
	closepath stroke
} def

/Histo-z {
	30 mul 100 add /y exch def
	1993 sub 50 mul 150 add /x exch def
	0.1 setgray newpath
	x 100 moveto x y lineto x 20 add y lineto x 20 add 100 lineto
	closepath fill
	0 setgray newpath
	x 100 moveto x y lineto x 20 add y lineto x 20 add 100 lineto
	closepath stroke
} def

%%EndProlog

%%Page: 1 1
save

0.01 setlinewidth

newpath 100 400 moveto 100 100 lineto 400 100 lineto stroke

newpath 100 100 moveto 95 100 lineto stroke
newpath 100 250 moveto 95 250 lineto stroke
newpath 100 400 moveto 95 400 lineto stroke

87  97 moveto  (0) show
87 247 moveto  (5) show
83 397 moveto (10) show

newpath 150 100 moveto 150 95 lineto stroke
newpath 200 100 moveto 200 95 lineto stroke
newpath 250 100 moveto 250 95 lineto stroke
newpath 300 100 moveto 300 95 lineto stroke
newpath 350 100 moveto 350 95 lineto stroke

140 85 moveto (1993) show
190 85 moveto (1994) show
240 85 moveto (1995) show
290 85 moveto (1996) show
340 85 moveto (1997) show

1 setlinewidth

HEADER

while (<>) {
	chomp;
	($x, $y, $z) = split;
	print "$x $y Histo-y $x $z Histo-z\n";
}

print <<TRAILER;

restore showpage

%%Trailer

%%DocumentFonts: Times-Roman
%%Pages: 1
%%BoundingBox: 83 85 400 405
TRAILER
