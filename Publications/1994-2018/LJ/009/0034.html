<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Unix Systems for Modern Architectures</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;    Understanding the subtleties of hardware-cache-bus-memory&#10;    interactions&#10;    is an essential component of &ldquo;doing&rdquo; a kernel for a multiprocessor&#10;    system.&#10;    "><meta name="keywords" content="UNIX, architecture"><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0x1a18580.0x1b0fab0"></a>Unix Systems for Modern Architectures</h1></div><div><div class="author"><h3 class="author">Randolph Bentson</h3></div><div class="issuemoyr">Issue #9, January 1995</div></div><div><p>
    Understanding the subtleties of hardware-cache-bus-memory
    interactions
    is an essential component of &ldquo;doing&rdquo; a kernel for a multiprocessor
    system.
    </p></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1a18580.0x1b103a0"></a></h2></div></div><p>Book Review</p><p>Unix Systems for Modern Architectures</p><p><span   class="bold"><b>Author:</b></span> Curt Schimmel</p><p><span   class="bold"><b>Publisher:</b></span>
Addison-Wesley</p><p><span   class="bold"><b>ISBN:</b></span> 0-201-63338-8</p><p><span   class="bold"><b>Reviewer:</b></span> Randolph Bentson
(bentson@grieg.seaslug.org)</p><p>&ldquo;What is involved in a multiprocessor version of Linux?&rdquo; has
almost become a &ldquo;Frequently Asked Question&rdquo; in the Linux
newsgroups. The answer is contained in Curt Schimmel's
<span   class="emphasis"><em>UNIX Systems for Modern Architectures.</em></span></p><p>Schimmel can speak from experience on this topic. He worked
on Unix systems at AT&amp;T Bell Laboratories and at Silicon
Graphics, Inc., and has offered tutorials on symmetric
multiprocessor Unix systems at USENIX and UKUUG. This book is an
outgrowth of those tutorials.</p><p>At first glance, the book seems to offer too much detail
about hardware for a programmer. But as one proceeds, one sees that
understanding the subtleties of hardware-cache-bus-memory
interactions is an essential component of &ldquo;doing&rdquo; a kernel for a
multiprocessor system.</p><p>After a brief (17 page) description of Unix processes,
another 130 pages are devoted to discussing uniprocessor cache
systems. I was surprised and delighted to find out how hard it can
be to get the right results. Fortunately, folks do seem to have
done this right on the systems I've used.</p><p>With this foundation well established, the remainder of the
book deals with the new domain of multiprocessor systems.</p><p>The keys to any such system are protecting shared data and
efficient interprocess communication. Mutual exclusion mechanisms
are cast in three forms - short term, medium term, and long term.
We are shown how uniprocessor implementations of Unix depended on a
single-threaded kernel and interrupt masking to protect shared data
and, more importantly, we are shown how these methods are
inappropriate for a multiprocessor system.</p><p>Schimmel shows how one can build locks for all three levels
of mutual exclusion (and points out where they are needed in a
typical Unix kernel). Although the master/slave scheme is
straightforward to implement, it has much the flavor (and
bottlenecks) of a uniprocessor system. The more promising symmetric
multiprocessor scheme is not as easy to do correctly. The essence
of the problem is finding the right granularity (or size) for the
critical sections. Granularity that is either too large or too
small can harm system performance. We are shown the analysis that
leads to good designs.</p><p>The book concludes with more memory access and caching issues
- this time with multi-processor systems. Some recent RISC chips
have memory models which allow for stores and loads to be
re-ordered from what the programmer intended, in order to gain
performance. We are shown how RISC chips have mechanisms to force
the correct results for implementing locks and accessing data in
critical sections. Even when memory requests are issued in the
order they were programmed, cache consistency is a serious issue in
multiprocessor systems. The final chapters of the book address the
interactions that must be dealt with by a serious system
designer.</p><p>This book is written as a textbook, with questions and
references at the end of each chapter. Selected questions have
answers provided in an appendix. Another appendex summarizes a
dozen popular chips found in Unix systems.</p></div></div>
<div class="authorblurb"><p>
           <span   class="bold"><b>Randolph Bentson</b></span> can be reached at:
           (<a href="mailto:bentson@grieg.seaslug.org">bentson@grieg.seaslug.org</a>)
        </p></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../009/toc009.html">Issue Table of Contents</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>