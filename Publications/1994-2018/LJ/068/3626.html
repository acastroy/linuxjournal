<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Developing Linux Applications with GTK+ and GDK</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;    Although not meant for the experienced user,&#10;    this book does have its high points, even for the old hands of GTK+&#10;    like me.&#10;    "><meta name="keywords" content="book, review, GTK+"><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0x1426580.0x151dab0"></a>Developing Linux Applications with GTK+ and GDK</h1></div><div><div class="author"><h3 class="author">Michael Hammel</h3></div><div class="issuemoyr">Issue #68, December 1999</div></div><div><p>
    Although not meant for the experienced user,
    this book does have its high points, even for the old hands of GTK+
    like me.
    </p></div></div><div       class="mediaobject"><img src="3626f1.jpg"></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1426580.0x151e5b0"></a></h2></div></div><div class="itemizedlist"><ul type="disc"><li><p>Author: Eric Harlow</p></li><li><p>Publisher: New Riders</p></li><li><p>URL:
<a href="http://www.newriders.com" target="_self">http://www.newriders.com/</a></p></li><li><p>Price: $27.99 US</p></li><li><p>ISBN: 0-7357-0021-4</p></li><li><p>Reviewer: Michael J. Hammel</p></li></ul></div><p>I've been working with GTK+ since its early introduction with
the GIMP several years ago. I've watched it mature and become a
fairly sophisticated widget set&mdash;one of the best I've seen for use
under X. Until recently, GTK+ could be mastered only by those
willing to dig into the source code, a feat not always for the
faint of eyes and fingers.</p><p>Fortunately, the first of what I'm sure will be many texts on
GTK+ has already hit the shelves. Eric Harlow's text
<span   class="emphasis"><em>Developing Linux Applications with GTK+ and
GDK</em></span>, published by New Riders, is an introduction to the
world of GTK+ that many refugees from the world of MS Windows will
find useful. Although not meant for the experienced user, this book
does have its high points, even for the old hands of GTK+ like
me.</p><p>The book is laid out in four sections:</p><div class="orderedlist"><ol type="1"><li><p>Programming in GTK+</p></li><li><p>Application Examples</p></li><li><p>Drawing, Color and GDK</p></li><li><p>Extending GTK+</p></li></ol></div><p>Chapter 1 isn't actually a chapter&mdash;it's the preface. The
rest of the book starts with GTK+ basics and moves on to more
complex issues with each section, which is made up of two to six
chapters. The layout is a little strange with respect to example
code. The chapters in the first section are introductory in nature,
covering glib and some basic GTK+ features. The chapters in the
second section each cover an example application, aimed at showing
off what was learned in the first section. The third section,
however, has its example code as the last two of its four chapters.
The fourth section has the examples intermixed in each chapter. You
might not really notice this layout pattern unless you step back
and look at it from a reviewer's point of view, as I did, but it is
a little strange to see the material broken down in that way. I
would have expected examples simply to be intermixed with each
chapter.
</p><p>Chapter 2 describes glib, the library of utility routines for
handling hashes, linked lists and memory management. I don't
personally use glib all that much&mdash;I have simple library routines
of my own to do these things I'd written long ago and carry from
place to place. However, some widgets make use of certain glib
features directly, so it helps to become familiar with what it is
and what it does.</p><p>The next chapter shows how a simple GTK+ application is laid
out. This leads into Chapter 4's introduction to basic widgets:
buttons, labels, menus and text-entry widgets. Chapters 5 and 6
also describe widgets. Although several chapters are on widgets,
you need to realize they can be fairly complex and offer many
options and their accompanying support and convenience routines. No
widget description takes up more than two pages (except the Clist
and Text widgets, which are introduced very late in the book).
Don't expect detailed API descriptions here&mdash;this text is very
introductory in nature.</p><p>On pages 27 and 28, Eric did get one minor thing wrong&mdash;he
said GTK+ came from the GIMP, and that it stands for the GNU Image
Manipulation Project. The P in GIMP actually stands for
&ldquo;Program&rdquo;. He also said GTK+ was born over licensing issues
relating to the GIMP's original widget set, Motif (though not in so
many words). I don't believe that was the driving reason. Motif was
limited in some areas, and not having source made it difficult to
extend it. Plus, I think the programmer wanted to work on a widget
set from scratch anyway.</p><p>Eric describes accurately how to build applications using a
single command line, including the recommended use of the
<span   class="bold"><b>gtk-config</b></span> script. One additional
item might be the use of the <b  >GTK_CONFIG</b>
environment variable. If you use this in your projects, you allow
people who have multiple versions of GTK+ installed (it's a
constantly evolving library) to build whichever version of the
library they need.</p><p>The section on container widgets in Chapter 3 could have used
some finer detail. Packing with boxes and tables is often a
confusing area for recent converts.</p><p>Chapter 4 starts off with some discussion on the casting of
widgets. GTK+ widgets are generic when created, so to use them with
type-specific functions such as
<span   class="bold"><b>gtk_label_set_text</b></span>, you need to
cast the widget to the correct type. This is done with macros, such
as <span   class="bold"><b>GTK_LABEL</b></span>. The discussion in
the text is good but brief. A table showing inheritance for widgets
would have been nice, but this isn't a reference text.</p><p>On page 51, Eric had a somewhat strange segue into the
paragraph on signals after finishing off the discussion on casting.
The information is useful, though it seemed to come in out of the
blue.</p><p>The rest of Chapter 4 introduces the reader to labels,
buttons, text input (known as entry widgets), simple lists, combo
boxes (lists with text input fields), option menus and generic
containers (widgets that hold other widgets). This is where some
discussion on naming schemes for widget-specific functions would
probably have been helpful for those willing to rummage through the
GTK+ source code.</p><p>Chapters 4, 5 and 6 are descriptions of various widgets.
Chapter 7 begins the second section and its example applications.
The use of the notepad application as an example was a good
idea&mdash;it's a familiar application to developers&mdash;but the section on
the text widget should be tempered with the knowledge that it's
likely to change in the next major release of GTK+. Owen Taylor,
the man who wrote the original text widget, has said the design
doesn't lend itself well to new features, and he has some better
ideas on how to redesign it. Whether that will mean applications
using the widget will no longer work is unknown. These changes will
probably not happen for some time, however.</p><p>One problem with printed texts is the amount of time it takes
publishers to get them to market and onto shelves. Because of this,
the text is a little behind the curve for the current version of
GTK+, which is version 1.2. I believe Eric was working with version
1.1.5 at the time he wrote the text. Some of the examples, although
they work, use outdated functions. For example, he uses
<span   class="bold"><b>gtk_label_set</b></span> in many places in
the code. The correct function to use with GTK 1.2 is
<span   class="bold"><b>gtk_label_set_text</b></span>. You can check
the GTK+ web site
(<a href="http://www.gtk.org" target="_self">http://www.gtk.org/</a>) to
find changes from GTK 1.0 to 1.2, if you are uncertain about any of
the other code in the book.</p><p>One common concern about labels, not mentioned until the last
chapter on creating your own widgets, is that labels are subclassed
from the GtkMisc widget, which means labels don't receive signals.
Thus, they must be wrapped in other widgets. For event handling,
you would drop the label inside a GtkEventBox widget. Remember this
bit of information&mdash;you're bound to need it eventually.</p><p>Chapters 10 through 13 make up the third section, covering
issues relating to color and drawing with low-level GDK routines. I
found chapter 10 to be the most useful, as I finally figured out
how to do double buffering. Double buffering is simply a matter of
drawing in an off-screen (non-visible) region&mdash;a pixmap&mdash;and then
copying that region over the currently visible version. The
technique is simple once you learn it. It's a subtle piece of code,
and often hidden in the bowels of more expansive subroutines. Eric
explains double buffering clearly and provides good examples of how
to use it.</p><p>Chapter 11 moves into styles, colors and fonts. The
discussion here is like the rest of the text: brief but accurate.
The styles section, however, talks about the use of styles
programmatically. It doesn't discuss them from the point of view of
gtkrc files. Styles are, specifically, an API term for GTK+, but
adding <span   class="emphasis"><em>themes</em></span> (what an end user might refer to
as a style) is a big deal with applications using GTK+. The gtkrc
files add a &ldquo;look&rdquo;, but are far less sophisticated than the
application-default files common with Motif. The latter allow
external definition of command-line arguments, for example.
Currently, gtkrc strictly handles look-and-feel issues.</p><p>There is no discussion on the use of command-line arguments
with GTK+. Motif programmers are probably used to Motif's built-in
command-line parser. GTK+ doesn't have such a thing. If you plan on
having command-line arguments, you will probably want to use
<span   class="bold"><b>getopt_long</b></span>, unless you're worried
about portability to non-Linux platforms. In that case, you may
have to roll your own parser, since not all UNIX boxes have
getopt_long.</p><p>Source code for the book is available from New Riders' web
site. It comes in gzipped tar format, with the examples broken out
into chapter-by-chapter directories. There is no top-level
Makefile, but the individual directories build easily enough. Be
sure to have the <span   class="bold"><b>gtk-config</b></span> script
in your path. Most of the applications worked fine for me. The
<span   class="emphasis"><em>molecule</em></span> example didn't seem to draw any
molecules, unfortunately. And the double buffering example&mdash;one
clock without and one clock with&mdash;didn't show the advantage of
double buffering on my system, because it's fast enough (400MHz)
that the redraws in the unbuffered version were hardly noticeable.
But you <span   class="emphasis"><em>should</em></span> pay attention to that example.
Double buffering is a good thing to learn if you're doing any
serious amount of drawing with GDK.</p><p>Considering the introductory nature of this book, I wonder
how useful the last chapter on writing your own widgets will be to
others. This space might have been better used to cover more
details on widget specifics.</p><p>Eric's writing style is succinct and clear. The book has few
typos&mdash;on-line documentation is notorious for poor editing, which
is one reason why printed, professional documentation is here to
stay. Reading this book is certainly easier than reading many of
the on-line documents I've seen.</p><p>This book is a beginner's guide to writing GTK+ applications.
It is not a reference, and leaves much to be desired regarding
in-depth widget explanations. If you need only an introduction and
you're looking to migrate to Linux and GTK+, it isn't a bad place
to start.</p></div></div>
<div class="authorblurb"><p>
        <div       class="mediaobject"><img src="3626aa.jpg"></div>

        <span   class="emphasis"><em>Michael J. Hammel
      (mjhammel@graphics-muse.org) is a graphic artist wanna-be, a writer
      and software developer. He wanders the planet aimlessly in search
      of adventure, quiet beaches and an escape from the computers that
      dominate his life. He is the author of</em></span> The Artists'
      Guide to the Gimp.</p></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../068/toc068.html">Issue Table of Contents</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>