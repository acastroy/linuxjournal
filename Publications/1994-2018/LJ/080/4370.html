<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Best of Technical Support</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;    Our experts answer your technical questions.&#10;    "><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0x24b9580.0x25b0ab0"></a>Best of Technical Support</h1></div><div><div class="author"><h3 class="author">Various</h3></div><div class="issuemoyr">Issue #80, December 2000</div></div><div><p>
    Our experts answer your technical questions.
    </p></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x24b9580.0x25b10e0"></a>Trouble with Netscape</h2></div></div><p>I am having trouble getting Netscape to run on Linux. I have
Windows NT in the first 4G and installed Linux in the remaining 4G
partition. Linux detects the Ethernet card when first installed,
but when I log off to use NT and then go back to Linux, Linux no
longer sees my Ethernet card. It gives me a &ldquo;domain not bound&rdquo;
error. I would like to know what is happening.  &mdash;Yong,
yboone@novell.com</p><p>Netscape is known to have lots of bugs and problems and not
only with Linux in my experience. I recently reinstalled the
4.75RPMs (from the Red Hat ftp site) and, as of now, there seem to
be fewer problems, especially related to Java. It is still quite
usual for the first process of Netscape to die, but new instances
of the program will run fine. Regarding your Ethernet card, you do
not mention the brand/model, but I solved a similar problem by
turning off the PnP feature of a 3Com 3c590 Ethernet card and,
under Windows, making it work as ISA or EISA. Linux worked fine
after that.  &mdash;Felipe E. Barousse Bou&eacute;,
fbarousse@piensa.com</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x24b9580.0x25b1240"></a>Adjusting Ethernet Cards</h2></div></div><p>I am setting up a cable modem. I have a 10/100 Ethernet card
running at full duplex. How do I lock the card to 10MB and half
duplex? Is this in the &ldquo;hwconf&rdquo; file? If so what does the syntax
look like? Any additional help is appreciated. Also, I am running a
RCA Cable Modem.  &mdash;David A. Bower, davidbower@iwon.com</p><p>You do not specify the brand of Ethernet card you have. But,
usually there is a diskette that comes with the card (or you can
download it from the card manufacturer's site) that allows you to
turn off the Plug-and-Play and duplexing features of the card. Bear
in mind that for some cards this change doesn't really do anything
to the behavior of the card, in respect to Linux at least. I would
suggest looking at the Ethernet-HOWTO at
<a href="http://www.linuxdoc.org/HOWTO/Ethernet-HOWTO.html" target="_self">www.linuxdoc.org/HOWTO/Ethernet-HOWTO.html</a>
where you can find additional information about your specific
card's settings.  &mdash;Felipe E. Barousse Bou&eacute;,
fbarousse@piensa.com</p><p>Cable modems can be frustrating because they often use a form
of DHCP designed for Windows systems only. Setting your card to run
half duplex may help and can be done by using the driver as a
module rather than as a built-in driver. Then use <b  >insmod
mydriver.o full_duplex=0</b>. Note that there are a few cards
that do not support this parameter. I have had problems even after
doing that. To get my cable modem working under Linux, I had to
specify ALL of the following switches on the command line of
&ldquo;dhcpcd&rdquo;: <b  >-r -h myhostname.in.windows -I
1:xx:xx:xx:xx:xx:xx -l 3600 eth0</b>. This tells the program
to use the RFC1541 (obsolete) protocol, to specify the host name
(which you can get by running WINIPCFG from your working Windows
system), and to specify the Ethernet address and card (from the
same machine; may not be required for you).  &mdash;Chad Robinson,
crobinson@rfgonline.com</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x24b9580.0x25b1500"></a>Num Lock on Dual-Boot</h2></div></div><p>My machine is set up to dual-boot Red Hat Linux 6.2 and
Windows 98. When it boots to Windows 98, the Num Lock stays on, but
when it boots to Linux, the it goes off. Is there a way to change
this behavior so I don't have to press the Num Lock key each time I
start Linux?  &mdash;Michael Kaneshige, kaneshige@uswest.net</p><p>If you are working in text mode, look at the man page for the
<span   class="bold"><b>setleds</b></span> command. In one of the
initialization scripts, let's say /etc/rc.d/rc.local, add something
like:</p><pre     class="programlisting">
for i in 1 2 3 4 5 6 7 8 dosetleds -D +num &lt; tty$i done
</pre><p><span   class="emphasis"><em>This will turn on Num Lock by default when booting
up your system. If you are using a Graphic User Interface, there is
usually an Options setting specifically for the Num Lock status at
boot time.  &mdash;Felipe E. Barousse Bou&eacute;,
fbarousse@piensa.com</em></span>
</p><p>You can add these commands to your /etc/rc.d/rc.local boot
script:</p><pre     class="programlisting">
INITTY=/dev/tty[1-8] for tty in $INITTY; setleds -D +num &lt; $tty
done
</pre><p><span   class="emphasis"><em>--Pierre Ficheux, pficheux@com1.fr</em></span>
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x24b9580.0x25b1920"></a>PCMCIA Card on a Laptop</h2></div></div><p>I'm installing Red Hat 6.1 on a laptop. How do I get it to
read/load the pcmcia card and not the eth0?  &mdash;Anthony G.,
anthonynvs@relaypoint.net</p><p>You should look at the /etc/rc.d/rc3.d/* startup scripts to
see the order in which the pcmcia and eth0 boards are initialized.
Renaming the files with higher or lower numbers (S10xxxxx, S20xxxx,
etc.) will redetermine that order. Many startup services are stored
there, so be careful when playing with these files. Also, check the
chkconfig --help command, so you can turn one service on and the
other off. Lastly, to manually initialize or stop the pcmcia or
Ethernet boards, use the commands:</p><pre     class="programlisting">
/etc/rc.d/init.d/pcmcia [stop|start|restart]ifdown eth0
ifup eth0
</pre><p><span   class="emphasis"><em>--Felipe E. Barousse Bou&eacute;,
fbarousse@piensa.com</em></span>
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x24b9580.0x25b1b88"></a>Emulating VT100</h2></div></div><p>When I telnet from a Linux PC to a Linux server and edit a
file on the remote PC using vi, I get a screen full of ANSI X3
cursor control characters. My PC does not seem to emulate the
VT100. I have set TERM=vt100 in my .bash_profile and used
EXINIT='term=vt100' and even used command mode in vi (:term=vt100),
all to no avail. What am I doing wrong? Thanks in advance.  &mdash;Dominic
Wild, wildd@optusnet.com.au</p><p>Seems you need to adjust the TERM variable to the correct
values. You are doing the right thing except you may not be using a
vt100 emulation. Try using &ldquo;ansi&rdquo;. Bear in mind that you may have
to set the correct emulation mode on both the machine you are
logging into and the machine you are logging from. That is, every
emulation on your setup must be the same in order for it to work.
To check which emulations are in use on the machine you telnet
from, check the environment variables with the &ldquo;env&rdquo;
command.  &mdash;Felipe E. Barousse Bou&eacute;,
fbarousse@piensa.com</p><p>The terminal settings ($TERM, etc.) have no effect on the
terminal itself. They only tell applications what the current
terminal is, i.e., what escape sequences it generates and accepts.
Therefore, if you force $TERM to vt100, applications will send
vt100 commands to a TTY that is not a vt100. I suspect your
terminal name should be &ldquo;linux&rdquo;, &ldquo;xterm&rdquo;, &ldquo;rxvt&rdquo; or whatever
is appropriate for the terminal emulator you are using. Since $TERM
is propagated across Telnet sessions, you cannot change only its
value.  &mdash;Alessandro Rubini, rubini@linux.it</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x24b9580.0x25b1d40"></a>Cannot Load Tulip Driver</h2></div></div><p>I have a SMC 8432T Ethernet adapter. All the info I've
gathered is that it's a DEC 21041 chip, and the driver is tulip.o.
Problem is that KDE won't load the tulip driver, only 24x5. But my
biggest frustration is that I can't find a tutorial for manual
setup anywhere.  &mdash;Al Smolkin, alik713@home.com</p><p>You have to load the tulip driver from the actual Linux boot
process, not from KDE or any other GUI. My machine also has a
tulip-based card, and I handle it like this in my Red Hat 6.1
system. In file /etc/conf.modules, there is a line:</p><pre     class="programlisting">
alias eth0 tulip
</pre><p><span   class="emphasis"><em>I compiled the module tulip.c into tulip.o and
placed it in <b>/lib/modules/2.2.16-3/net/tulip.o</b>,
where it gets loaded at boot time. Once loaded, you can run level
5; that is, you may turn on any graphic environment you desire. To
manually load the module (after it has been compiled), try the
command:</em></span>
<pre     class="programlisting">
insmod tulip
</pre>


<span   class="emphasis"><em>Then you can
</em></span><span   class="bold"><b>cat</b></span> the file
/proc/modules to check if the tulip module has been loaded into
your system.  &mdash;Felipe E. Barousse Bou&eacute;, fbarousse@piensa.com
</p><p>Make sure the 21041 is really what you have; it might
actually be a 21040, in which case the IRQ and port won't always be
found automatically. You can tell this by looking at the large
black chip on the card, it will have this number stamped on it. To
be quite honest, old SMC Ethernet cards can be a pain; I've used
them for years, and I have to do something different for each one.
You can get your card to work, but if you're frustrated, why not
try the Etherpower II? It will be recognized instantly, and they're
pretty cheap these days.  &mdash;Chad Robinson,
crobinson@rfgonline.com</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x24b9580.0x25b2160"></a>Configuring Sendmail and POP3</h2></div></div><p>Please help me out in setting up sendmail to handle POP mail
for my internal network. The network has one Linux server,
satish.enet.com, which has sendmail and DNS. DNS is configured and
I am able to send and receive mail to users on the Linux machine,
but I am not able to send and receive mail through Outlook Express
in Windows 9x.  &mdash;Dasi Satish, sdasi@manraonline.com</p><p>To enable POP3, you have to uncomment the pop3 entry on the
file /etc/inetd.conf. After that, you have to reinitialize the
inetd process using the command:</p><pre     class="programlisting">
/etc/rc.d/init.d/inet restart
</pre><p><span   class="emphasis"><em>Then, configure the Outlook client to use
satish.enet.com for the POP server (incoming mail server). You need
to have usernames and passwords configured on the Linux server for
POP to work correctly. Also, sendmail must be running on your Linux
server to be able to provide SMTP service (outgoing mail) to your
Outlook clients. Therefore, set up the SMTP server to use the same
machine. You may need to set /etc/mail/access with lines such
as:</em></span>
<pre     class="programlisting">
aaa.bbb.ccc.ddd    RELAY
</pre>


<span   class="emphasis"><em>where aaa.bbb.ccc.ddd are the IP addresses of the PCs on
your LAN. This allows them to use the mail facilities of the Linux
box without getting &ldquo;relaying denied&rdquo; messages. Erase the
/etc/mail/access.db file, restart sendmail with:</em></span>
<pre     class="programlisting">
/etc/rc.d/init.d/sendmail restart
</pre>


<span   class="emphasis"><em>and you should be sending and receiving mail through your
Linux box to the Outlook clients.  &mdash;Felipe E. Barousse Bou&eacute;,
fbarousse@piensa.com</em></span>
</p><p>Sendmail is not a POP server. POP is a pull technology that
clients who are not always connected use to get their mail. SMTP
(Sendmail's bailiwick) is a push technology that expects the remote
system to be connected at all times. You need a POP d&aelig;mon.
There are several available on the Internet, and most likely, one
was installed on your system by default.  &mdash;Chad Robinson,
crobinson@rfgonline.com</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x24b9580.0x25b2580"></a>Setting Inodes for Small Files</h2></div></div><p>I need to fine-tune the ext2 file system of a new server to
handle a large amount of extremely small files (10K or less). How
do I format the drive so that it can handle these small files
without running out of inodes?  &mdash;Ether Trogg,
ethertrogg@mindspring.com</p><p>All you need to do is increase the number of inodes on the
system. You can do so using the &ldquo;-i&rdquo; parameter of &ldquo;mke2fs&rdquo;.
Most systems use 4096 as the default value, which means you will
get one inode for every 4096 bytes on your system. This should be
fine for your 10K requirement, since that will average two or three
inodes per file. However, if you find yourself with many files
&lt;4K in size, try values of 2048 or 1024. Anything lower is
probably counterproductive.  &mdash;Chad Robinson,
crobinson@rfgonline.com</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x24b9580.0x25b26e0"></a>Mapping Keys Independently</h2></div></div><p>I need to map keys to mean different things depending on
which console I am using. For example, I need to have a menu screen
on one session and a POS order taker on the other. Each has to have
keys set up to mean different things. So far, it appears that Linux
only supports a global change. I need them to act independently,
which worked well under SCO UNIX. We are using Debian Potato.  &mdash;Dave
A., anderson@webace.com.au</p><p>You can do this under Linux in much the same way as you do in
SCO. The problem is that most default distributions don't except
you to, so you have to do a bit of work yourself. The /etc/termcap
file determines the keyboard mapping definitions (among other
things). What you need to do is define two entries, for example,
linuxtty1 and linuxtty2. Once you do this, modify your
/etc/profile. You may optionally place these changes in the user
account's .profile or .cshrc, depending on the shell used. You must
write code to determine the user's login TTY and set the TERM
environment variable based on that. I can't give you an example
without knowing which shell you are using, but a less-than-trivial
bash example can be found in /etc/profile on most systems. (It sets
TERM based on local versus Telnet logins.)--Chad Robinson,
crobinson@rfgonline.com</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x24b9580.0x25b2840"></a>Running a Slave Name Server in a Chroot
Environment</h2></div></div><p>In the October 2000 <i  >Linux Journal</i>,
Michael D. Bauer's article on Securing DNS and BIND explained how
to run your name server in a chroot environment. When my name
server also works as a slave for some domains, it needs to be able
to run <b  >/usr/sbin/named-xfer</b>, to transfer
zonefiles from the master. I spent quite some time solving why my
slave domains didn't work, and I finally got it. But lots of less
experienced users might waste too much time on this with a final
result of &ldquo;it doesn't work&rdquo;, and run non-chrooted names again,
which decreases their security.</p><p>The solution is as follows. $CHROOT is the directory in which
you are running your chroot BIND.</p><div class="orderedlist"><ol type="1"><li><p>Check which shared libraries named-xfer uses, using
the command:</p></li></ol></div><pre     class="programlisting">
ldd /usr/sbin/named-xfer
</pre><div class="orderedlist"><ol type="1"><li><p>Create a new directory, $CHROOT/lib, and copy the
required libraries into the new directory.</p></li><li><p>Make the other required directories inside the
chroot environment, with</p></li></ol></div><pre     class="programlisting">
mkdir -p $CHROOT/etc $CHROOT/usr/bin $CHROOT/lib
</pre><div class="orderedlist"><ol type="1"><li><p>Make an empty ld.so.conf file and create the
necessary symlinks to the libraries:</p></li></ol></div><pre     class="programlisting">
touch $CHROOT/etc/ld.so.confldconfig -v -r $CHROOT
</pre><div class="orderedlist"><ol type="1"><li><p>Copy named-xfer into the new usr/sbin directory
under the chroot directory:</p></li></ol></div><pre     class="programlisting">
cp /usr/sbin/named-xfer $CHROOT/usr/sbin
</pre><p>And voil&agrave;--it works! Of course, your directory for
slave-files needs to be writable for users who runs named.  &mdash;Michal
Ludvig, michal@logix.cz
</p></div></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../080/toc080.html">Issue Table of Contents</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>