<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2//EN">

<html>
<head>
  <title>Typesetting with groff Macros</title>
<link rel="stylesheet" href="../../css/archive.css" type="text/css" />
</head>

<body>
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <h3>Blank Line Macro</h3>

  <p>A useful extension that groff offers the macro writer is the possibility to define a macro that is executed in the presence of blank lines in the input file. This feature is first useful when preparing a macro command file itself, as any blank lines that creep in will turn up in the output document. Later, the blank line macro can be reassigned to, say, the default paragraph formatting for the user's document.</p>

  <p>The following macro defined near the top of a macro collection will alert the user (through <b>stderr</b>) to the presence of any blank lines in the file:</p>
  <pre>
\# continuing the alias scheme:
.ALIAS     BLANKMAC    blm
.ALIAS     MESSAGE     tm
.ALIASNR   _FILE       .F
.ALIASNR   _LINE       .c
\# define the macro:
.MACRO     GOTBLANK    __END__
.  MESSAGE \
Notice: blank line in file \\n[_FILE], line \\n[_LINE].
.__END__
\# assign this macro to fire at blank lines:
.BLANKMAC  GOTBLANK
</pre>At the end of the macro command file, the blank line macro could be reassigned to another macro, such as the default paragraph control:
  <pre>
.BLANKMAC  &lt;p&gt;
</pre>Notice also from this example that the technique of reporting messages during groff processing can be built into any macro definition.
  <pre>
.MACRO  MYMACRO  __END__<br>
(some stuff here)
.  MESSAGE  Execution of \\$0 in file \\n[_FILE], line
\\n[_LINE].
(some more stuff)
.__END__
</pre>Groff enables the <tt>\\$0</tt> escape inside a macro to list the name with which the macro was called. While you are developing macros, such messages can be used to show the state of internal variables and otherwise help in debugging.

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../080/toc080.html">Issue Table of Contents</a>
    <a class="link3" href="../080/4375.html">Article</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body>
</html>
<!--
## vim: tabstop=2: shiftwidth=2: expandtab:
## kate: tab-width 2; indent-width 2; replace-tabs true;
-->
