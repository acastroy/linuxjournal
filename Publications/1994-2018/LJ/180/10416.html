<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>UpFront</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;Stop Telling sudo Your Password&#10;"><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
<div class="article" lang="en">
  <div class="titlepage">
    <div>
      <h1 class="title">UpFront</h1>
    </div>
<a name="mpart"></a>
<ul class="mpart-list"><li class="mpart-listitem"><a href="#mpart1">Tech Tip</a></li>
<li class="mpart-listitem"><a href="#mpart2">Tech Tip</a></li></ul>

<a name="mpart1"></a>
<h2 class="title">Tech Tip</h2>
<div class="titlepage"><div><div class="author"><h3 class="author">
Pieter
 
de Rijk
</h3></div><div class="issuemoyr">Issue #180, April 2009</div></div><div><p>
Stop Telling sudo Your Password
</p></div></div><div class="simplesect" lang="en"><p>
If you get tired of typing your password for sudo, but you don't want
(or don't have permissions) to put NOPASSWD in your sudoers file, you can
use the following procedure to update the sudo password timestamp and
avoid typing your password.
</p><p>
Step 1) Create $HOME/bin/sudo-hack.sh:

<pre     class="programlisting">
#!/bin/bash
while [ true ];
do
    sudo -u root /bin/true &gt; /dev/null 2&gt; /dev/null
    sleep 60
done
</pre>
</p><p>
Step 2) Do an initial run of sudo to set its password timestamp:

<pre     class="programlisting">
$ sudo -u root /bin/true
Password: *******
</pre>
</p><p>
Step 3) Start $HOME/bin/sudo-hack.sh in the background:

<pre     class="programlisting">

$ HOME/bin/sudo-hack.sh &amp;

</pre>
</p><p>
Now you can use sudo without getting a password prompt, regardless of how
long it's been since the last time you ran sudo.
</p><p>
Note: there are most certainly security implications related to using
this procedure; of course, that's also true of using NOPASSWD in the
sudoers file.
</p></div>

<a name="mpart2"></a>
<h2 class="title">Tech Tip</h2>
<div class="titlepage"><div><div class="author"><h3 class="author">
Dashamir
 
Hoxha
</h3></div><div class="issuemoyr">Issue #180, April 2009</div></div><div><p>
Resetting the Root Password
</p></div></div><div class="simplesect" lang="en"><p>
The following methods can be used for resetting the root password if
the root password is unknown.
</p><p>
If you use GRUB for booting, select the system to be booted, and add
<tt  >1</tt>
to the end of the kernel boot command. If you're not presented with an
edit &ldquo;box&rdquo; to add boot parameters, try using GRUB's edit command (the
letter e). The 1 tells the kernel to boot to single-user mode.
</p><p>
The system now should boot to a root prompt. At this point, simply use the
passwd command to change the root password.
</p><p>
Another option is to boot a rescue CD or an installation CD that lets
you get to the command line. Once you're at a command prompt, mount the
system's root directory if it's not already mounted:

<pre     class="programlisting">
$ mkdir /mnt/system
$ mount /dev/sda1 /mnt/system
</pre>
</p><p>
Now, do a chroot and reset the password:

<pre     class="programlisting">
$ chroot /mnt/system
$ passwd
</pre>
</p></div>
  </div>
</div>


  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../180/toc180.html">Issue Table of Contents</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>