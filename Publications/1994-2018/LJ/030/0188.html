<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Letters to the Editor</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;    Readers sound off.&#10;    "><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0x237c580.0x2473ab0"></a>Letters to the Editor</h1></div><div><div class="author"><h3 class="author">Various</h3></div><div class="issuemoyr">Issue #30, October 1996</div></div><div><p>
    Readers sound off.
    </p></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x237c580.0x24740e0"></a>On with the Masquerade</h2></div></div><p>I read with interest Chris Kostick's article in
<i  >Linux Journal</i> July 1996 (Issue 27). I was a
bit disappointed that he concentrated on 1.2.x kernels and didn't
mention the advantages of using a 1.3.85+ or pre2.x kernel, and
that he didn't explain the use of ipfwadm. For instance, although
many ICMP packet programs do not work, with recent kernels ICMP
support has been added for some programs such as traceroute (ping
still does not, and probably never will work).</p><p>I was also bothered by his insistence that you couldn't pass
remote X clients to a masqueraded server. I was sure you could,
because I remembered doing it! Using ssh (a secure rlogin variant
available at
<a href="http://www.cs.hut.fi/ssh" target="_self">http://www.cs.hut.fi/ssh/</a>)
to connect to a remote host from the masqueraded server, your X
display environment variable is automatically set, and &ldquo;X11
connection forwarding provides secure X11 sessions !&rdquo;</p><p>So you can pass X clients through a masquerading machine if
you initiate a connection from the masqueraded machine using
ssh.</p><p>&mdash;Daniel
Morrison <a href="mailto:daniel@hartco.ca">daniel@hartco.ca</a> </p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x237c580.0x24743f8"></a>The Author Responds</h2></div></div><p>At the time I wrote the article, 1.3.57 was the latest
&ldquo;stable&rdquo; release. The 60's were available but most of them were
to be avoided. I was using 1.3.56 so that's what I based the
article on, pointing out that 1.2.x kernels were compatible.</p><p>Actually, ping could work. ICMP echo request/echo reply
messages can be masqueraded for. The key is the identifier field in
the ICMP message. The problem is matching replies that come back
from the external networks to the originator. The masquerading
would function as shown in Figure 1.</p><div       class="mediaobject"><a href="ltefig.large.jpg"><img src="ltefig.jpg"></a></div><p>The masquerading machine will have to maintain a cache that
will map the originating IP_Addr+ID --&gt; ID numbers of the
requests originating from the Masq host. The ID numbers start at a
value that should not conflict with 'real' ICMP echos from the Masq
host. I chose 60000 to keep in concert with the masquerading port
numbers. The ICMP code within the kernel would also have to be
modified so as not to conflict with internal ID numbers never
exceeding 59999.</p><p>Matching the replies is a matter of checking the cache for
the return mapping, and sending the ICMP echo reply to the original
host.</p><p>There are other protocol details not discussed here, and I
haven't looked at all of the nuances of the protocol so I leave the
theory of whether it would really work up for discussion.</p><p>I didn't consider passing X (or any other protocol)
encapsulated the same as sending the real thing. Therefore because
the X client has to identify the address of the server in the
DISPLAY variable or -display argument, and the server's address is
hidden, it won't work.</p><p>&mdash;Chris
Kostick <a href="mailto:ckostick@csc.com">ckostick@csc.com</a> </p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x237c580.0x2474870"></a>Virus Cleaners May Like DOS</h2></div></div><p>Thanks again for another great issue of the <i  >Linux Journal</i>. On the day it arrives all activity in the house
(on my part anyway) stops until I have read it from front to
back.</p><p>I would like to make a comment on Michael Johnson's article
<span   class="emphasis"><em>Serving Two Masters</em></span>. The &ldquo;Recovery Recipe&rdquo;
that Michael presents was something that I had to discover the hard
way myself a month or two ago. The situation had nothing to do with
Win95, although it did involve a dual boot PC. This PC runs both
Linux and DOS/Win3.1 (thank you LILO), and in one of the DOS
sessions I managed to acquire a virus that infected the MBR. No
problem says I&mdash;I'll just use McAfee Virus Clean, and all will be
back to normal. Virus Clean worked fine, but all of a sudden LILO
was gone. It appears that (at least with McAfee) the process of
cleaning a boot sector virus just restores the DOS flavour MBR. I
was not brave enough to re-infect my PC with the same virus to see
if other virus cleaning programs act the same way, but I would
suspect that they do (as most do not take periodic copies of the
MBR to restore from).</p><p>I found the second edition of &AElig;leen Frisch's book
<span   class="emphasis"><em>Essential System Administration</em></span> (published by
O'Reilly) absolutely invaluable in this effort. If you are a Linux
user&mdash;run, don't walk and get this book!! Make sure that it is
the second edition though as the first edition does not really deal
with Linux.</p><p>&mdash;Kris
Boyle <a href="mailto:kboyle@synapse.net">kboyle@synapse.net</a> </p></div></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../030/toc030.html">Issue Table of Contents</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>