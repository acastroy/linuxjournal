<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2//EN">

<html>
<head>
  <title>An Introduction to Using Linux as a Multipurpose Firewall</title>
<link rel="stylesheet" href="../../css/archive.css" type="text/css" />
</head>

<body>
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <h3>Setting Services</h3>

  <p>To set which services are open and to whom (names or IP addresses) they are open, edit the /etc/hosts.allow and /etc/hosts.deny files.</p>

  <p>By adding the line <tt>ALL: ALL</tt> below, we are not going to allow connections on all ports from all IP addresses (except those allowed in via the /etc/hosts.allow below). The <tt>ALL: PARANOID</tt> will deny access if the name found in the incoming stream does not match the name found via the IP address and DNS.</p>
  <pre>
# /etc/hosts.deny: list of hosts that are _not_
# allowed to access the system. See hosts_access(5)
# and /usr/doc/net/portmapper.txt
#
# Example:
#  ALL: some.host.name, .some.domain
#  ALL EXCEPT in.fingerd: other.host.name, .other.domain
#
# The ALL: PARANOID wild card matches any host
# whose name does not match its address. ALL: ALL
</pre>In the following file, you need to specify which ports on your firewall will be open to which IP addresses on either the Internet or your local network. In the example below, I have allowed everyone in the local network to use TELNET to log in, but only one PC in the local LAN to use TELNET and FTP. Be careful what you open up and to whom.
  <pre>
# /etc/hosts.allow: list of hosts that are
# allowed to access the system. See
# hosts_access(5) and /usr/doc/net/portmapper.txt
#
# Example:
#   ALL: LOCAL @some_netgroup
#   ALL: .foobar.edu EXCEPT terminalserver.foobar.edu
#
# Allow telnet connections from some of the local
# PCs in our LAN
telnet: 192.168.0.
#
# Allow ALL connection types from one of our PCs
# in our LAN
ALL: 192.168.0.10
</pre>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../071/toc071.html">Issue Table of Contents</a>
    <a class="link3" href="../071/3546.html">Article</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body>
</html>
<!--
## vim: tabstop=2: shiftwidth=2: expandtab:
## kate: tab-width 2; indent-width 2; replace-tabs true;
-->
