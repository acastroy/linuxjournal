<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Maceater</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;    Linux provides&#10;    a very inexpensive alternative to high-cost commercial&#10;    servers and routers.&#10;    "><meta name="keywords" content="network, Macintosh, system, admin, communication, operating, system"><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0x287a580.0x2971ab0"></a>Maceater</h1></div><div><div class="author"><h3 class="author">Jonathan Gross</h3></div><div class="issuemoyr">Issue #27, July 1996</div></div><div><p>
    Linux provides
    a very inexpensive alternative to high-cost commercial
    servers and routers.
    </p></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x287a580.0x2972558"></a></h2></div></div><p>Many small businesses are becoming
interested in Internet connectivity, but they are unwilling (or
unable) to fork over the cash for the necessary hardware. With
routers costing close to $2000 and bandwidth as expensive as it is,
there doesn't seem to be a viable method of putting small networks
on the Internet. However, that depends on what you need&mdash;high
bandwidth is not required for basic services, like e-mail, and
Linux provides a <span   class="emphasis"><em>very</em></span> inexpensive alternative
to high-cost commercial servers and routers.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x287a580.0x29726b8"></a>The Birth of &ldquo;maceater&rdquo;</h2></div></div><p>About six months ago, I was sitting around drinking beer with
Rob, a graphic artist friend of mine. He was complaining about the
lack of connectivity at his office and trying to figure out how to
get at least e-mail at work. His network consisted of Apple
PowerMacs, Quadras, and Performas connected via Ethernet and
speaking Appletalk, Apple's networking protocol.</p><p>A bell in my head went off, and I set about building a Linux
box that would solve his problems. I went out the next weekend and
bought a used 386DX25 with 4MB of RAM, a 340MB hard drive, and an
NE2000 ethernet card for $600. Add to that a 28.8 modem for another
$200, and the frame for &ldquo;maceater&rdquo; was born. I screwed everything
together, and fired it up with DOS to make sure the hardware would
actually function. Finding no problems, I repartitioned the drive
and built a lean, mean, 1.2.13 a.out Slackware-based system with
<b  >IP_FORWARD</b> turned on.</p><p>Everything that wasn't needed for networking, system
administration, and basic user functions I left out. The resulting
system used very little space, leaving plenty of space for user
directories, swap, and building new programs.</p><p>After some hacking with the PBX, I got the phone line hooked
up and a PPP link established with our ISP (from whom we had
purchased a dedicated phone line). Our domain had been registered,
and we had a full class C to start assigning IPs. I gave Rob a
crash course in Unix, DNS, and pico, and we were off. Several users
had requested dial-in PPP, so we started assigning office
workstations one end of the IP range and off-site workstations to
the other.</p><p>We had to install MacTCP on all the machines and reconfigure
them to speak TCP to each other (and to &ldquo;maceater&rdquo;, the Linux
box). Setting up the Macs was fairly easy, and despite the tendency
of MacTCP (and its newer sibling &ldquo;Open Transport&rdquo;) to puke all
over System 7.5.3 at random intervals, we had everything routing
internally in about four hours. We could ping all the Macs from
maceater, and all the Macs could telnet into the Linux box. A word
of warning: make sure you apply all the patches from Apple for
MacTCP and Open Transport, as they have a number of potentially
nasty bugs in them.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x287a580.0x2972978"></a>Linux and Appletalk</h2></div></div><p>As we were fighting with the Macs, the topic of disk space
(and the lack thereof on the Macs) came up. Another bell went off
in my head, and I grabbed the source for Netatalk, a package for
Unix boxes that allows them to speak Appletalk and perform a number
of services, including printing from a Unix machine to an
Appletalk-connected printer, printing from a Mac to a Unix printer,
and accessing Unix file systems from a Mac. (Netatalk is available
at
<a href="http://www.umich.edu/~rsug/netatalk" target="_self">www.umich.edu/~rsug/netatalk</a>.)</p><p>Netatalk works best with a newer kernel, so I built a 1.3.74
kernel (the latest kernel available at the time of the
installation) with Appletalk enabled and IP forwarding on. I
started to compile Netatalk and left for dinner. Three hours later
(it's a 386, remember), I installed the binaries, and fired up
afsd, the apple file system daemon. After reading some of the docs
and setting up a mountable volume, I re-opened the Chooser on one
of the Macs and presto! There was an entry for Linux sitting
amongst the other Macs. Clicking on &ldquo;Linux&rdquo; opened up a folder
that contained /usr/local/bin, the volume that I had mounted,
looking like any regular Mac folder. I copied some files back and
forth, and since nothing was corrupted, declared it a success&mdash;and
much easier than using something like Fetch to move files
around.</p><p>It took about a full weekend of work, mostly because
compiling anything on a 386 is painfully slow. We did as much
remote compiling on my workstation at work (a DX4-100) as we could,
transferring the resulting binaries over to the maceater.</p><p>Thus far, maceater performs the following major
functions:</p><p>1. Runs sendmail for hlm.com (version 8.7.5)</p><p>2. Functions as a pop-mail server for ~20 workstations</p><p>3. Provides the primary nameservice for hlm.com (bind,
version 4.9.3)</p><p>4. Runs an experimental web server (Apache 1.0.0)</p><p>5. Provides one line of dial-in PPP or shell access for
employees (PPP 2.0.0e)</p><p>6. Routes packets for the entire network</p><p>7. Serves as an FTP site</p><p>8. Acts as an native Appletalk fileserver (Netatalk version
1.3.3b2)</p><p>As of this writing, maceater has been up for 82 days, during
which we have compiled and upgraded sendmail, bind, and pppd. Load
averages about 0.5, depending on how many people are running
shells.</p><p>All in all, the hardware for maceater cost us about $800 and
a weekend to get it running smoothly, although much of that was
fighting with MacTCP and ironing out problems with our ISP. Hardly
anyone in the office knows the Internet gateway/fileserver for
their beloved Macs is an old clunky-looking PC sitting on the shelf
in their supplies closet and was built in a weekend from spare
parts. If only they knew...</p></div></div>
<div class="authorblurb"><p>
      <span   class="bold"><b>Jonathan Gross</b></span>
      is Editor of <span   class="emphasis"><em>WEBsmith</em></span>
      magazine and likes to infiltrate Windows and Macintosh networks
      with Linux boxes in his &ldquo;spare&rdquo; time.
    </p></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../027/toc027.html">Issue Table of Contents</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>