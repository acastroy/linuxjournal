<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>A Linux-Based Steam Turbine Test Bench</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;    How the Central Boiler and Turbine Institute in St.&#10;    Petersburg ensures safety and accurate control when testing&#10;    turbines for power plants.&#10;    "><meta name="keywords" content="data, aquisition, test, bench, Tanja, industry"><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0x181d580.0x1914ab0"></a>A Linux-Based Steam Turbine Test Bench</h1></div><div><div class="author"><h3 class="author">Alexandr E. Bravo</h3></div><div class="issuemoyr">Issue #106, February 2003</div></div><div><p>
    How the Central Boiler and Turbine Institute in St.
    Petersburg ensures safety and accurate control when testing
    turbines for power plants.
    </p></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x181d580.0x19156b8"></a></h2></div></div><p>Despite the fact that mathematical models
and the incredible growth in computer power allow one to imitate
and calculate almost everything now, there are some areas where
real experiments are still very important and can't be replaced
with computer models.
</p><p>One of these areas is the design of low-pressure steam
turbines (LPMTs). LPMTs are an important part of any power plant
working on a steam or combined gas-steam cycle and generate up to
20% of the power plant's energy. Unlike high- and middle-pressure
turbines, where steam has well-known properties, the LPMT works
with nonstructured, nonsymmetric wet steam. No fully proved
mathematical models exist yet for this kind of flow. Real
experiments are crucial for design of the turbine flow path and
improvement of the turbine computer models.</p><p>There are only a few such test benches in the world. One of
them is a part of the Central Boiler and Turbine Institute in St.
Petersburg, Russia, where I have worked for the last seven years.
Imagine a hall 18 meters in height and 700 square meters in area
filled with pipes, wires and measurement equipment. There is a
cyclopic construction in the centre (see Figure 1), which is the
casing of the model turbine with two huge exhaust pipes. During the
tests, it consumes 40 tons of steam per hour, using live steam at a
pressure of 30 bars and a temperature of 400&deg;C on the bench
inlet, about 4 bars and 200&deg;C on the model turbine inlet and
deep vacuum, as low as 30 mbars absolute, on the exhaust.</p><div       class="mediaobject"><a href="6425f1.large.jpg"><img src="6425f1.jpg"></a><div class="caption"><p>
Figure 1. The turbine under test is in the center, surrounded by
steam pipes and test equipment.
</p></div></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x181d580.0x1915a28"></a>Computer and Measurement Equipment
Structure</h2></div></div><p>During our joint project Tanja with Alstom Power, the
information infrastructure of the test bench was renewed. Now it
includes three main parts: 1) a high-accuracy scientific measuring
system, called Data Acquisition System for flow path measurement,
or DAS-Flow; 2) a technological measuring system, called Data
Acquisition System for Operational Personnel, or DASOP; and 3)
workstations for researchers and engineers.</p><p>The DAS-Flow system originally was supplied mostly by our
customers. It provides the capabilities to measure more than 200
pressures and 50 temperatures along the flow path. A separate part
of this system allows us to investigate the distribution of
pressures inside the turbine with 12 movable probes. Each probe can
be moved in two directions, axis and angle, by stepper motors
through a remote-control system. All the pressure measurements are
based on PSI-9000 series pressure transmitters from PSI, Inc. These
transmitters provide very high-measurement accuracy: below 0.01%
for a few reference pressures and below 0.1% for the rest. The
system performs the measurements only from time to time, under
stable conditions. It's not designed for dynamic pressure
measurements.</p><p>The DASOP system was built by ourselves to provide on-line
control of the whole bench during the test. It works in real-time
mode, collecting data from more than 150 pressure, temperature,
speed of rotation and vibration sensors. This data is presented for
operational personnel on two monitors and a serial terminal in the
control room (see Figure 2) and includes information about the
current state of water, oil and steam systems of the bench. DASOP
also provides a safety control, with some warning and emergency
levels.</p><div       class="mediaobject"><img src="6425f2.jpg"><div class="caption"><p>
Figure 2. DASOP shows operational and safety information in real
time.
</p></div></div><p>All the computers we use, except one IBM RISC workstation,
are normal PCs, ranging from 386s up to Pentium 4s and
Athlons.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x181d580.0x1915df0"></a>Why Linux?</h2></div></div><p>When I came to the Tanja Project in 1995 I had a lot of
practice building data acquisition and evaluation systems based on
Russian clones of the Digital PDP-11 running the RT-11 or RSX-11
operation systems. In 1994, I started to play with my first PCs and
quickly realized that DOS is not suitable for our tasks because of
its single-task and single-user nature. During that time, my
brother Mike brought me my first Linux distribution, Slackware as I
recall, based on a Linux kernel version somewhere around 0.99. I
discovered right away that I could solve almost all of my tasks by
studying the sources of similar programs and using them as
prototypes. My first data acquisition system was finished in 1994.
It was ncurses-based, and it still works for my former employer
without any maintenance from me.</p><p>At the beginning of the Tanja Project, we had only the
DAS-Flow system supplied by our customers. It was a zoo of
operating systems. We had MS-DOS, Microsoft Windows 3.11 and NT,
QNX and AIX. The positive side was the fact that all the computers
were joined on a local TCP/IP network.</p><p>Thinking about the development strategy for the whole system
and keeping my experience in mind, we decided to stay on Linux as a
base for the development of our technological measuring system,
DASOP, and for the core of our network. The main reasons were the
following:</p><div class="itemizedlist"><ul type="disc"><li><p>The availability of a wide range of ready-to-use
applications and the source code of the applications for studying
and templating.</p></li><li><p>Great stability and reliability on cheap PCs, which
is one of the top requirements for our applications.</p></li><li><p>We have a very limited budget, so the zero cost of
Linux was important.</p></li><li><p>A very friendly community available through Fidonet
echoes and Usenet newsgroups.</p></li></ul></div><p>What do we have now? The core of our IT structure is six PCs
running Linux. Over more than six years there have been no cases of
failure, we have measured uptimes in years, and there have been
only two reasons for rebooting: hardware upgrades and long power
outages our UPS couldn't handle.</p><p>We started with Red Hat, and we still have two computers
running Red Hat 4.1 Vanderbilt and Red Hat 5.0 Hurricane. Then we
switched to a Russian localized RPM-based distribution named KSI
and came to Debian last year. For the moment, our main server and
my development machine work under Debian/Woody. We are very
satisfied with Debian, and I think that this year we'll switch all
our Linux boxes to Debian.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x181d580.0x1916370"></a>The Network</h2></div></div><p>All computers are connected to the local network, split into
three segments (see Figure 3). The first segment includes all the
DAS-Flow computers; the second, the DASOP computers and office
computers; and the third looks to the outer world via the leased
line. The third segment includes only one computer, which acts as
our gateway to the Internet, with a firewall based on ipchains and
mail server.</p><div       class="mediaobject"><a href="6425f3.large.jpg"><img src="6425f3.jpg"></a><div class="caption"><p>
Figure 3. The Test Bench Local Network Structure
</p></div></div><p>In the &ldquo;middle&rdquo; of the network is our main server. It acts
as file- and print-server for all the computers, but this is not
its main task. During the tests, we collect a large amount of data.
All this data, as raw, measured values and later as evaluated
parameters, is automatically stored in a MySQL database. An Apache
web server provides a powerful interface to the database for all
users&mdash;our local researchers and our customers abroad&mdash;through
HTTPS.</p><p>Any registered user needs to have only a browser to access
the database, search the data and get results in a text or
graphical form. PNG, CGM and PDF formats are available. We use
mostly PHP, as an Apache mod_php module, for generating data-driven
pages. Almost all graphs are generated on the fly using the gnuplot
program via Perl CGI scripts, which select the parameters from the
database, pipe them to gnuplot and then pass the generated image to
Apache. We wrote more than 50 different CGI scripts to provide
users with all possible kinds of plots, where the user can select
everything&mdash;what parameters to plot, search conditions, kind of
characteristics to plot, auto or manual axes scaling, kind of
smoothing and approximation and other choices.</p><p>I have to mention specifically the important role of gnuplot
in our project. In my point of view, it's one of the greatest
scientific plotting utilities with a wide range of capabilities and
output formats. It's still under active development, and I'm always
trying to use the latest development versions, which are quite
stable even for my production environment. I also use the
well-designed JpGraph PHP classes for generating certain plots,
especially some kinds of fast search results.</p><p>Another important part of the software we developed is the
technological data acquisition system DASOP (see Figure 4). It has
a modular structure and includes the data acquisition module, data
evaluation module, socket communication module and application
modules.</p><div       class="mediaobject"><img src="6425f4.jpg"><div class="caption"><p>
Figure 4. The Structure of the DASOP System
</p></div></div><p>The data acquisition module works with a Programmable Data
Controller (PDC) connected by an RS232 interface to a PC. It gets
about 150 values from the PDC every second and performs some
manipulations with PDC digital I/O if needed. All the measured data
is placed in a shared-memory segment as a two-dimensional array,
where each column is a full set of all parameters' raw values. The
number of columns is fixed, so we always have a fixed number of
last-measured datasets in memory.</p><p>The evaluation module, which is synchronized with data
acquisition modules through a mechanism of semaphores, gets the
last measurement set from the shared memory, makes some on-line
evaluations and places evaluated data in the same column, extending
its length.</p><p>The socket communication module provides access to the
shared-memory segment for the remote application modules. There are
several application modules. Some of them can be run locally with
direct access to the shared-memory segment with measured and
evaluated data; another can do it remotely via the communication
module. Application modules include data logging modules, a safety
control module and data presentation modules.</p><p>Data presentation modules provide different kinds of
graphical presentation of the data in real time. Some examples are
parameters over time plots, bar plots (where the color of the bar
shows the state of the parameter&mdash;normal, warning or emergency) and
panels looking like real external devices.</p><p>
<div       class="mediaobject"><a href="6425f5.large.jpg"><img src="6425f5.jpg"></a><div class="caption"><p>Figure 5. DASOP Data Presentation
Modules</p></div></div>
</p><p>Because of our scheduling requirements we do not need hard
real-time operation. Soft real time is enough for us, so we use the
normal Linux kernel for our hardware. Data acquisition, evaluation
and communication modules are written in plain C and work on the
same PC. Safety, logging and some of the presentation modules work
on that PC also. Part of the presentation modules work on another
PC, which works as an X terminal for the first one. Both PCs, with
their monitors, are located in the control room of the test bench
to provide all the information to operational personnel. Some
presentation modules work on the researchers' PCs, getting
information via the communication module.</p><p>The development of presentation modules has changed over
time. At first, they were ncurses-based programs for the Linux text
console. Later, I switched to X, using only standard X11 and Xt
libraries. The next step was trying Motif, which we bought from
SuSE. The open-source GTK appeared one or two years later, and I
switched to it. Over the last two years, almost all presentation
and other modules have been written in Tcl/Tk, with an extensive
use of the BLT extension. I found Tcl/Tk useful for fast GUI
development, serial and socket communications and data
presentation.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x181d580.0x190d5f8"></a>Conclusion</h2></div></div><p>Several years of software development and use in a real
industrial environment showed us (and our customers) that
open-source solutions are effective from any point of view&mdash;cost,
time, reliability or function set. Our next steps will be replacing
the rest of the proprietary software in our project with
open-source software.</p><p><a href="6425s1.html" target="_self">Resources</a></p></div></div>
<div class="authorblurb"><p>
        <div       class="mediaobject"><img src="6425aa.jpg"></div>

       email: <a href="mailto:abravo@tctube.spb.su">abravo@tctube.spb.su</a>
       </p><p><span   class="bold"><b>Alexandr E.
      Bravo</b></span> was born in 1959 in Leningrad, which is now again
      (as it was 300 years ago) St. Petersburg, Russia. He graduated in
      1982 from Polytechnic University with the specialty &ldquo;Automation
      and Telemechanics&rdquo;. He has worked with Linux since 1994.</p></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../106/toc106.html">Issue Table of Contents</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>