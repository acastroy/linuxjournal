<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Best of Technical Support</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;      Our experts answer your technical questions.&#10;    "><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0xe86580.0xf7dab0"></a>Best of Technical Support</h1></div><div><p>
      Our experts answer your technical questions.
    </p></div></div><div class="qandaset"><a name="N0xe86580.0xf7e138"></a><h4 class="title"><a name="N0xe86580.0xf7e138"></a>
Distributing /etc/shadow</h4><p>
I am hunting for a utility that I think already must
exist somewhere. Here is the problem. Government
computers need to have all passwords updated more
frequently these days, including the
root password. Until now, we had so many flavors
of hardware and OSes that the thought
of SSHing a copy of /etc/shadow or /etc/passwd to
all machines was a moot point, simply because the
different OSes required different entries
for root. Overwriting the root entry on a machine
with the syntax for the wrong OS was
not worth it. I suppose the biggest problem with
doing a blind overwriting of the files would result
in possibly incorrect shells or login paths for root.
However, we have been working at getting rid of all
of the non-PC workstations we had (SGIs, Suns, HPs and so on) so
we can attack the virus and patches problems
with hopefully one OS to worry about.
This means we simply can plop a new copy
of the root entry for /etc/shadow or /etc/passwd to
all machines via SSH.
</p><p>
Do you know if such a tool
exists? I imagine some sort of script has been
written that can be tweaked easily to propagate
the changes. Some machines are on a domain with a
DNS server. The ones not running DNS are running
NIS. I am not familiar with the DNS ones yet, but I
know the ones running NIS still have to have
root changed locally. So far, we have been telnetting
or SSHing to each machine one at a time to get the new
root password in, because the root password won't map
to each machine. The machines need the root accounts
updated, especially if we were to need to go to single-user mode.

<br><br>&mdash;<br> Irene Paradis  <br><br><br><a href="mailto:irene.paradis@us.army.mil">irene.paradis@us.army.mil</a>
</p><p>
NIS has been used classically to solve this problem. However, there is
really only one solution for the root password: you should update the
/etc/shadow file. You also could use a RADIUS server.

<br><br>&mdash;<br> Christopher Wingert  <br><br><br><a href="mailto:cwingert@qualcomm.com">cwingert@qualcomm.com</a>
</p><p>
You can use <tt  >rdist</tt> to push many copies of a file out
to your hosts. See <a href="http://www.magnicomp.com/rdist" target="_self">www.magnicomp.com/rdist</a>.
Alternatively, you could disable, or &ldquo;star out&rdquo; the
root password by putting a * in the encrypted password
field of /etc/shadow, and use <tt  >sudo</tt> for everything.

<br><br>&mdash;<br> Don Marti  <br><br><br><a href="mailto:info@linuxjournal.com">info@linuxjournal.com</a>
</p><a name="N0xe86580.0xf7ea28"></a><h4 class="title"><a name="N0xe86580.0xf7ea28"></a>
How to Pass an Option to the Kernel?</h4><p>
What does the &ldquo;Try <tt  >linux noacpi</tt>,
<tt  >linux disableapic</tt> and <tt  >linux
noacpi disableapic</tt>&rdquo; suggestion on page 72 of the October 2004 issue mean
in response to a Fedora install question? My
AMD dual-MP 2800+ regularly crashes and screen dumps. I just noticed a
comment about acpi or apic&mdash;I need to read and record next
time&mdash;on the
last screen dump. Having just read the article, I was excited to reboot
and try those commands, but I couldn't locate them.

<br><br>&mdash;<br> Doug Baker  <br><br><br><a href="mailto:cfdbaker@qwest.net">cfdbaker@qwest.net</a>
</p><p>
You are asked to pass <tt  >noacpi</tt> or
<tt  >ldisableapic</tt> or
<tt  >noacpi disableapic</tt> as a command-line option to the
kernel. When the bootloader, GRUB or LILO, is asking
which OS or kernel to boot, you can
add these options. On LILO, press Ctrl-X to get a command line,
and then type <tt  >linux noacp</tt>. I
am assuming that Linux is one of the options in the
LILO menu.
If this works outs for you, you can add this to
/etc/lilo.conf permanently.

<br><br>&mdash;<br> Usman Ansari  <br><br><br><a href="mailto:usmansansari@yahoo.com">usmansansari@yahoo.com</a>
</p><p>
On the GRUB bootloader, the default for
Fedora, the process is similar. Check out
the Unofficial Fedora FAQ at
<a href="http://www.fedorafaq.org/#otherinstall" target="_self">www.fedorafaq.org/#otherinstall</a>.

<br><br>&mdash;<br> Don Marti  <br><br><br><a href="mailto:info@linuxjournal.com">info@linuxjournal.com</a>
</p><a name="N0xe86580.0xf7f478"></a><h4 class="title"><a name="N0xe86580.0xf7f478"></a>
Testing CPU under Different Loads</h4><p>
I frequently test Linux machines as part of my job and am looking
for a way to load the CPU smoothly from 0% to 100% to see what happens
to certain applications. When I try to apply a smoothly ramping CPU load,
I usually get either 0% or 100% CPU usage. If I try to sleep for very
small increments, I get 0% alternating with 100%. Do you know of any tool
or proven way to ramp the CPU?

<br><br>&mdash;<br> Patrick Killelea  <br><br><br><a href="mailto:p@patrick.net">p@patrick.net</a>
</p><p>
You could run a program that alternates some
CPU-intensive task, such as generating pseudorandom
numbers, with calls to usleep. Tweaking the values
of BUFSIZE and USLEEP in this program lets me get a
range of CPU loads:


<pre     class="programlisting">

/* Build with 'gcc -Wall load.c -o load' */
#include &lt;stdio.h&gt;
#include &lt;unistd.h&gt;
#include &lt;fcntl.h&gt;

#define BUFSIZE 1024
#define USLEEP 10000

char buf[BUFSIZE];

int main (int argc, char **argv)
{
        int f;
        f = open("/dev/urandom", O_RDONLY);
        while (1) {
                read(f, &amp;buf, BUFSIZE);
                usleep(USLEEP);
        }
        return 0;
}


</pre>
</p><p>
Thanks to Greg Kroah-Hartman for cleaning up the above code. See man
usleep. To exercise individual CPUs on an SMP machine, try the CPU
affinity system calls covered in Robert Love's article &ldquo;CPU
Affinity&rdquo; in the July 2003 issue.

<br><br>&mdash;<br> Don Marti  <br><br><br><a href="mailto:info@linuxjournal.com">info@linuxjournal.com</a>
</p><a name="N0xe86580.0xf7faa8"></a><h4 class="title"><a name="N0xe86580.0xf7faa8"></a>
Single-User Mode</h4><p>
How can I enter single-user mode, runlevel 1, at
boot time?

<br><br>&mdash;<br> Arthur Schroeder  <br><br><br><a href="mailto:showmeyr@yahoo.com">showmeyr@yahoo.com</a>
</p><p>
Edit your boot line in GRUB and add a <tt  >single</tt> to the command line.

<br><br>&mdash;<br> Christopher Wingert  <br><br><br><a href="mailto:cwingert@qualcomm.com">cwingert@qualcomm.com</a>
</p><p>
You can type <tt  >single</tt> at the LILO
or GRUB prompt to boot your Linux machine into single-user mode. If you
always want to boot in single-user mode for some reason, you can modify
LILO or GRUB and pass <tt  >single</tt> as an option to the kernel. Or, you can modify
the /etc/inittab file. There is a line at the top of this file&mdash;mine
reads <tt  >id:3:initdefault</tt> on my Red Hat 9.0 Linux
box&mdash;in which you can
replace 3 with 1.

<br><br>&mdash;<br> Usman Ansari  <br><br><br><a href="mailto:usmansansari@yahoo.com">usmansansari@yahoo.com</a>
</p><a name="N0xe86580.0xf76bd0"></a><h4 class="title"><a name="N0xe86580.0xf76bd0"></a>
Luke 5:37&ndash;38</h4><p>
I am attempting to install Red Hat Linux 7.1 on my
new Dimension 4600 Dell computer. The installation CD
starts, and I have the option to choose the kind of
installation I want. Whatever I choose, after
the computer starts to recognize my hardware&mdash;it
recognizes my CD-ROM and hard drives&mdash;it stops and
freezes. I can do nothing but turn off
my computer.


<br><br>&mdash;<br> Joe Pietro  <br><br><br><a href="mailto:jm_pietro@hotmail.com">jm_pietro@hotmail.com</a>
</p><p>
Before you waste too much time,
you should use a newer Linux distribution. Red Hat
7.1 is several years old. Chances are you will
have much better luck with a newer version. I
suggest you use Fedora Core 2. Fedora Core,
a branch of Red Hat, always has supported
Dell hardware for the most part. You can download
it from <a href="http://www.redhat.com" target="_self">www.redhat.com</a>.


<br><br>&mdash;<br> Usman Ansari  <br><br><br><a href="mailto:usmansansari@yahoo.com">usmansansari@yahoo.com</a>
</p><p>
Red Hat 7.1 has no active source of security updates. It
sounds like your hardware has some security sense. See <a href="http://fedoralegacy.org" target="_self">fedoralegacy.org</a> for support for older versions of Red
Hat Linux. If you want a quick check on whether hardware is working and
Linux-compatible before installing, try the bootable CD distribution
Knoppix from <a href="http://knoppix.org" target="_self">knoppix.org</a> first.


<br><br>&mdash;<br> Don Marti  <br><br><br><a href="mailto:info@linuxjournal.com">info@linuxjournal.com</a>
</p><a name="N0xe86580.0xf77410"></a><h4 class="title"><a name="N0xe86580.0xf77410"></a>
Setting Serial Ports for USB-to-Serial Adapters</h4><p>
I have an application that attaches to multiple remote serial devices
via multiple USB to serial adapters. Is there a way to specify that each
USB device enumerates as a specific USB serial port, regardless of the order
in which the USB ports are connected? For example, I always want USB port
<span   class="emphasis"><em>x</em></span> to enumerate as
/dev/usb/ttyUSB<span   class="emphasis"><em>y</em></span>.
Because this application will be hosted in more than 200 locations, and it is
possible that the USB serial adapter might be replaced or upgraded with a
newer unit, solutions based on serial numbers of the USB device are not
optimum.

<br><br>&mdash;<br> Jeff Dennison  <br><br>
</p><p>
If you are using the 2.6 kernel, udev can do this matching for you.
Simply define a rule based on something unique for a
specific USB-to-serial device and use that to name the device. You
mention that serial numbers will not work for you&mdash;try using the
topology of the USB device or something else that you can determine is
unique&mdash;uniqueness is the key here.
If you are using the 2.4 kernel, good luck. You can muck around in the
/proc/tty/drivers/usb-serial directory to try to determine which device
is attached to which /dev/ttyUSB node, but it's a bit difficult&mdash;one big reason to switch to a 2.6 kernel.

<br><br>&mdash;<br> Greg Kroah-Hartman  <br><br><br><a href="mailto:greg@kroah.com">greg@kroah.com</a>
</p><a name="N0xe86580.0xf77990"></a><h4 class="title"><a name="N0xe86580.0xf77990"></a>
Setting Compiler Options for Gentoo</h4><p>
I'm a newbie trying to install Gentoo from a live CD using
a stage3 tarball. I've managed to get to the stage for optimizing my
distro. I'm supposed to flag various options using GCC make.
I need only enough to get working and understand the
basics at this time. Any advice?

<br><br>&mdash;<br> Rebelrouser   <br><br><br><a href="mailto:Rebelrouser@blueyonder.co.uk">Rebelrouser@blueyonder.co.uk</a>
</p><p>
Stick to the settings already given for your live CD if you do not know
what to change. These settings already are present in the /etc/make.conf
file. Consult the Gentoo installation guide for more information on
this and how to install Gentoo properly.


<br><br>&mdash;<br> Greg Kroah-Hartman  <br><br><br><a href="mailto:greg@kroah.com">greg@kroah.com</a>
</p><a name="N0xe86580.0xf77e60"></a><h4 class="title"><a name="N0xe86580.0xf77e60"></a>
Fedora Install Hangs</h4><p>
I am installing Fedora. During installation, at
Display Setting for the monitor, I choose color depth 256 and click OK.
But then my screen freezes and the display is unreadable (blue screen).
I don't have any command prompt. Please help.

<br><br>&mdash;<br> Chris   <br><br><br><a href="mailto:%0Afiston63@hotmail.com">
fiston63@hotmail.com</a>
</p><p>
You can decline to configure the graphics card and X. Once you have booted
after the installation is complete, try to configure X. Use the
<tt  >lspci -vvv</tt> command to see what kind of card you have. If support for
your video card is not present, try the manufacturer's Web site for
available drivers.

<br><br>&mdash;<br> Usman Ansari  <br><br><br><a href="mailto:usmansansari@yahoo.com">usmansansari@yahoo.com</a>
</p><a name="N0xe86580.0xf78388"></a><h4 class="title"><a name="N0xe86580.0xf78388"></a>
Faking Out the Oracle Installer</h4><p>
Does anyone know of a way to fool the Oracle
10g installer into thinking Slackware is Red Hat, so
it at least tries to install? If not, does anyone know
how it detects that Red Hat isn't there?

<br><br>&mdash;<br> Blake Tullysmith  <br><br><br><a href="mailto:bdt@vipretech.com">bdt@vipretech.com</a>
</p><p>
You can use a tool called strace on the installer:

<pre     class="programlisting">
# strace oracle-installer
</pre>
</p><p>
From here, you can figure out what the program is looking for when it
refuses to install.

<br><br>&mdash;<br> Christopher Wingert  <br><br><br><a href="mailto:cwingert@qualcomm.com">cwingert@qualcomm.com</a>
</p></div></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../129/toc129.html">Issue Table of Contents</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>