<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>
Is Linux Voice over IP Ready?</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;A Voice over IP primer with special attention to using it on Linux.&#10;"><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0x17aa580.0x18a1ab0"></a>
Is Linux Voice over IP Ready?</h1></div><div><div class="author"><h3 class="author">
Machtelt
 
Garrels
</h3></div><div class="issuemoyr">Issue #145, May 2006</div></div><div><p>
A Voice over IP primer with special attention to using it on Linux.
</p></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x17aa580.0x18a2298"></a></h2></div></div><p>
What is Voice over IP really? What do you need for Voice over IP? What
do you mean, I can't call my girlfriend? What's all that buzz about open
and proprietary protocols? Can I start my own telecom service? This
article addresses these questions and compares the most popular Linux
applications for calling and conferencing.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x17aa580.0x18a23a0"></a>
What Is Voice over IP about?</h2></div></div><p>
Internet or digital telephony, or Voice over IP, often
abbreviated as VoIP, allows parties to exchange voice data streams over
the network. The big difference is that with VoIP the data flows over a
general-purpose network, the Internet, whereas conventional telephony
uses a dedicated network of voice transmission lines.
</p><p>
Under special circumstances, a VoIP network can be connected with the
conventional telephone network. However, at the time of this writing,
that
is certainly not the standard. In other words, it is likely you
will not be able to call people who are using a conventional telephone.
Although currently various applications are available, both free
and proprietary, telephony over the
Internet has some major drawbacks. Most noticeably, the system is
unreliable, it can be slow, or
there can be a lot of noise on the connection. Therefore, it cannot be
used to replace conventional telephony. Think about emergency calls,
for instance. Although some providers take some precautions, there is no
guarantee you will be able to reach the party you want to call. This is
worsened, because in VoIP, there is no agreement yet on a standard for
assigning numbers, like the E.164 standard we have for assigning
and identifying traditional land lines and mobile phone numbers.
</p><p>
Even if there is some form of integration between VoIP and conventional
telephony networks, this is still different for mobile networks. The
major problem is that wireless network coverage is not as well developed
as cellular network coverage. Additionally, there is the issue of costs
when accessing the Internet from your mobile phone. For me, it would
amount to 0.50 EUR (+/- $.60 US) per 100K of traffic. It is
possible that integration of VoIP in the third-generation telephony
network will ease these troubles.
</p><p>
You also should be aware that there is no encryption in VoIP. So, it is
fairly easy for anyone to eavesdrop on conversations.
</p><p>
The bottom line is although VoIP is useful, it is not a replacement
for land-line telephony (yet).
</p><p>
Let's look at what you'll need to get VoIP up and running.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x17aa580.0x18a2660"></a>
On the Server Side</h2></div></div><p>
First of all, you need a provider offering the service. Some popular
providers offer the service for free, and some require a subscription
fee. Among the free ones are the following:
SIPphone, Skype, SIP Broker
and Google.
</p><p>
Most free services, however, do not allow you to connect with the
conventional telephone network. This so-called full phone
service is usually not free. Among the most popular full
phone service providers are the following:
Vonage, Lingo, AOL TotalTalk
and SIPphone.
</p><p>
These lists are certainly not exhaustive, as new local and global
providers join the pool on a near-daily basis. Also, many SMEs
are currently setting up a VoIP network for internal use within
companies. If you want to set up your own VoIP network, you might want to
look into Asterisk server software or sipX, which are open-source
PBX implementations.
</p><p>
Alternatively, if you want to use only the soft
phone, meaning the audio system of your computer (audio boxes
and microphone or headset) and accompanying software, check out Ekiga, formerly
GnomeMeeting, as announced January 8, 2006, in the GnomeMeeting blog.
Although
Ekiga supports a range of hardware, it is usually set up to support
(video) conferencing features implemented on the software level. Like
sipX and Asterisk, it is open-source software.
</p><p>
Note: PBX stands for Private Branch eXchange, the system that centralizes all of a business' telephone sets.
</p><div       class="mediaobject"><img src="8853f1.jpg"><div class="caption"><p>
Figure 1. A Typical VoIP Solution (image courtesy of BroadVoice)
</p></div></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x17aa580.0x18a2a80"></a>
On the Client Side</h2></div></div><p>
Depending on your network architecture, some applications might
work better than others, due to the protocols they use. Most
standards-based solutions use either the H.323 or Session Initiation
Protocol (SIP). Apart from these two standards, there are a lot of
proprietary protocols, such as Skype (from the company with the same
name)
and SCCP from Cisco. The main difference between them is that SIP stores the
client IP address in its packages, resulting in difficulties when you
are behind a firewall.
</p><p>
Microsoft NetMeeting and GnomeMeeting use H.323; Microsoft's Messenger
and
Apple's iChat and SIPphone uses SIP. Server software usually implements
several different protocols.
</p><p>
Apart from your network architecture, available bandwidth also might be
a limiting factor, as some applications are optimized for low bandwidth,
and others expect to be on a broadband connection. This depends on
the codecs the VoIP systems use for handling sound.
</p><p>
As far as client hardware is concerned, use a headset. Although your PC,
especially if it is a laptop, might have a microphone and speakers built
in, you will be far more comfortable using a headset, as it will suppress
echo and noise from your environment. If you have the choice, opt for a
USB headset. A USB headset is a separate audio device to your system. It
functions independently from existing audio hardware, so it avoids any
conflicts that might occur between VoIP and normal sound
processing.
</p><p>
If the applications you use provide the features, you can redirect
audio streams as desired. For instance, you can make the ring tone
for alerting you that you have a call come through the normal speakers.
When you pick up the call, the voice of the calling party is redirected
to your headset.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x17aa580.0x18a2ce8"></a>
Your Sound System</h2></div></div><p>
Prior to experimenting with VoIP applications, you
probably will have to use a bit of trial and error to find settings
that are comfortable for you. Make sure that you can record and play a
sample of your own voice before you start, as the VoIP programs
also will use the recording function of your hardware. Activate it in the
volume control application that comes with your distribution.
</p><p>
Linux generally has two types of sound architecture: the older
Open Sound System or OSS, which works with every UNIX-like system, and
the newer Advanced Linux Sound Architecture or ALSA, which has better
support for Linux, as the name indicates. One application may support OSS
and another, ALSA. When you have a choice, we advise you to select the
use ALSA option in VoIP programs. Select ALSA or OSS
settings for sound and recording levels accordingly in your distribution's
volume control panel.
</p><p>
We tested four applications, based on popularity. We tested all of them on
Fedora Linux.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x17aa580.0x18a2ea0"></a>
Ekiga, aka GnomeMeeting</h2></div></div><p>
Installation: use the package manager from Fedora. Alternatively, download
Debian, Mandrake or Red Hat packages. Ekiga requires the pwlib,
OpenH323 and libavc1394
packages.
</p><p>
Getting started&mdash;registration: the application shows up in the menus
as Video Conferencing. We experienced GConf errors
the first time we used it. The solution to that problem is described in
the GnomeMeeting FAQ. Once we solved that problem, we could get started
with the First Time Configuration Druid.
</p><p>
You can register in the general GnomeMeeting users directory (a telephone
book on a central server) or skip this step. My audio devices were
recognized automatically, and it was easy to select the headset. You don't
need to know the device names of your hardware. For beginning users, it
is a great relief not having to worry about /dev/dsp1
and those sorts of names. As shown in Figure 2, all applicable
devices can be neatly selected from a list.
</p><div       class="mediaobject"><a href="8853f2.large.jpg"><img src="8853f2.jpg"></a><div class="caption"><p>
Figure 2. GnomeMeeting&mdash;Configuration
</p></div></div><p>
Presumably, your machine needs to be configured as an LDAP client
(Lightweight Directory Access Protocol, or Active Directory on
MS Windows) in order to be able to contact the central GnomeMeeting
directory. Lacking that, you need to know the hostname or host IP address
and user names of the people you want to call. If you don't use LDAP,
you will receive error messages when you try to call someone, even if you
can make a successful call.
</p><div       class="mediaobject"><img src="8853f3.jpg"><div class="caption"><p>
Figure 3. GnomeMeeting&mdash;Interface
</p></div></div><p>
Impressions: at first there was quite some noise on the connection,
even when calling another host in the same subnet, but we could
minimize the noise by adjusting the audio volume. There is a mute
button for suspending and resuming audio transmission. Luckily, the
system with URLs to contact people is well documented in the help files.
The application itself doesn't make it easy to use.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x17aa580.0x18a3478"></a>
KPhone</h2></div></div><p>
Download using your favorite system tool, such as Synaptics on Ubuntu.
</p><p>
Installation: the package manager does the installation for you. You
also can download RPM packages and install them using your distribution's
tools. After the installation is finished, the KPhone selection turns
up in the application menus.
</p><div       class="mediaobject"><img src="8853f4.jpg"><div class="caption"><p>
Figure 4. KPhone&mdash;Minimalistic Interface
</p></div></div><p>
Getting started: your own address is displayed in the little KPhone
window, which makes it easy to exchange with other users. It also
serves as an example for connecting with other users.
</p><p>
The phone book in this application is easy to use. In the most basic
case, simply let others call you, and received and missed caller
IDs will show up in the phone book automatically.
</p><div       class="mediaobject"><img src="8853f5.jpg"><div class="caption"><p>
Figure 5. KPhone&mdash;Accepting a Call
</p></div></div><p>
Impressions: KPhone has a very sober interface, which makes it easy to use and
configure the program.
</p><p>
At one time, I obviously must have configured the wrong audio device
while trying to configure KPhone to use my USB headset instead of the
built-in speakers and microphone on my laptop. There is no list from
which to choose audio devices; this was rather frustrating. KPhone also
segfaulted on me a couple of times, even after it had worked
fine earlier. I could not get my USB headset to work. Admittedly, I did
not use the latest version. Newer versions, which need to be compiled
from source on many systems, at the time of this writing, are reported to work
better and have much improved sound quality. KPhone has matured a lot
in the newest releases and probably will become even more popular than
it is already as binary packages are made available.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x17aa580.0x18a3aa8"></a>
Skype</h2></div></div><p>
Download from the Skype site (see the on-line Resources); packages are available for SUSE, Fedora,
Mandriva and Debian.
</p><p>
Installation: I opened the downloaded file directly in the system
installer. It shows up in the Internet menu in GNOME after the installation
is finished.
</p><div       class="mediaobject"><img src="8853f6.jpg"><div class="caption"><p>
Figure 6. Skype&mdash;Connection Established
</p></div></div><p>
Getting started&mdash;registration: register from inside the
client. Choose a user name and password. Enter your e-mail address if you
want to be reminded of your password later on. In the contact
list, select or search for the person whom you want to call. You can
ask permission to be notified when that person is on-line.
</p><div       class="mediaobject"><img src="8853f7.jpg"><div class="caption"><p>
Figure 7. Skype&mdash;Contact List
</p></div></div><p>
Impressions: Skype is easy to search by name, city and country. When you
start it up,
you will see a list of missed calls and contacts that are currently
on-line, which is quite handy.
</p><p>
Skype can be configured to use PC speakers for incoming call alerts and
a headset for actual communication.
</p><div       class="mediaobject"><img src="8853f8.jpg"><div class="caption"><p>
Figure 8. Skype&mdash;Call List
</p></div></div><p>
In the call list, contacts can be displayed by name, or you can sort
by incoming, outgoing and failed calls.
</p><p>
On the downside, the application does not seem to be very clean. After a
while, I could not log in anymore, and it turned out that five instances of
Skype had been running simultaneously on my computer, even though I used
the buttons and menus to quit Skype. Also, it does not seem to be very
stable on Linux. I had what appeared to be remote sound problems, but
the problem was local and could be solved by stopping and starting Skype.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x17aa580.0x189ab78"></a>
X-Lite</h2></div></div><p>
Download from the CounterPath Web site (see Resources).
</p><p>
Installation: extract the archive to a folder in your home directory;
the default name is xten-lite. In this folder, you will find the executable
file, xtensoftphone.
</p><p>
Getting started&mdash;registration: right-click on the soft-phone image
that appears at startup. This starts the Audio Tuning Wizard, which
allows you to select audio devices. Select /dev/dsp1
when using a headset. Adjust the speaker volume and voice recording volume
according to your needs.
</p><p>
You can register at <a href="http://support.xten.net" target="_self">support.xten.net</a> to join the
CounterPath community, or your system administrator might have set
up a private service. I used the X-Lite interface for testing with the
Asterisk service at work. In both cases, you need to provide a login name
and password, which you get either from the CounterPath registration on
the Web site or from your administrator.
</p><div       class="mediaobject"><img src="8853f9.jpg"><div class="caption"><p>
Figure 9. X-Lite Controls
</p></div></div><p>
Impressions: X-Lite is the only application on this list that actually
tries to look like a cell phone. You can select a codec according to
your needs. For instance, choose the GSM codec for low-bandwidth usage
or when you are in a conference call. Select the g711a or g711u codec
when you are in a one-on-one call, and bandwidth is not really an issue.
</p><div       class="mediaobject"><img src="8853f10.jpg"><div class="caption"><p>
Figure 10. X-Lite during a Call
</p></div></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x17aa580.0x189b1a8"></a>
Comparison</h2></div></div><p>
In Table 1, several aspects of the four applications are
compared. For readability, features are restricted to those affecting
telephone capabilities. All applications have many more features. I
list only those that are different among applications.
</p><div class="table"><a name="N0x17aa580.0x189b2b0"></a><p class="title"><b>Table 1. Comparison
</b></p><table     summary="Table 1. Comparison&#10;" border="1"><colgroup><col><col><col><col><col></colgroup><thead><tr><th>&nbsp;</th><th>GnomeMeeting</th><th>KPhone</th><th>Skype</th><th>X-Lite</th></tr></thead><tbody><tr><td>
Maintainer(s)</td><td>Damien Sandras</td><td>Wirlab Research Center</td><td>Skype Technologies S.A.</td><td>CounterPath Solutions, Inc.</td></tr><tr><td>
Licence</td><td>GPL</td><td>GPL</td><td>proprietary freeware</td><td>proprietary freeware</td></tr><tr><td>Platforms</td><td>GNOME, KDE</td><td>Linux (Qt)</td><td>MS Windows, Linux, BSD, Mac (Qt)</td><td>MS Windows, Pocket PC, Mac, Linux</td></tr><tr><td>
Protocol</td><td>H.323, SIP</td><td>SIP</td><td>proprietary</td><td>SIP</td></tr><tr><td>
Behind firewall/proxy</td><td>yes</td><td>possible</td><td>possible</td><td>possible</td></tr><tr><td>
PC-to-phone calls</td><td>possible</td><td>no</td><td>non-free</td><td>non-free</td></tr><tr><td>
Video conferencing</td><td>yes</td><td>limited</td><td>no</td><td>in Pro version (non-free)</td></tr><tr><td>
Rating from 1-10</td><td>9</td><td>8</td><td>7</td><td>8</td></tr></tbody></table></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x17aa580.0x189c6f8"></a>
Conclusion</h2></div></div><p>
Overall, the experience was quite positive. Although the open-source programs
KPhone and GnomeMeeting are somewhat more difficult to use, because you
need to know about URLs and such, it is easier to get documentation on
exactly what you need and to get that documentation directly from the
makers of the program, instead of having to be satisfied with a
general help page and some vague complaints or tips from users.
</p><p>
For Skype and X-Lite, you need to connect to a server. The nice thing about
GnomeMeeting and KPhone is that you can use them directly from client to
client, even if you do not register on a server, be it one that you set
up on your own network or an external one. Maybe I am a bit paranoid,
but I don't trust Skype. The company says that its service will remain free,
but it says nothing about its software. As it uses a proprietary,
poorly documented protocol, I worry about vendor
lock-in. For the time being, I'll stick with GnomeMeeting. Why? It worked
from my first attempt, it is stable, it does everything it promises to
do,
and it's Belgian, like me.
</p><p><span   class="bold"><b>Resources for this article:</b></span>
<a href="../145/8887.html" target="_self">/article/8887</a>.
</p></div></div>
<div class="authorblurb"><p>
Machtelt Garrels has published two books for Linux beginners, which are also available as
guides in the Linux Documentation Project (LDP) collection. Currently, she works as a freelancer in the UNIX Competence Center of the Belgian
Railways and has a part-time assignment as Translation and Vendor
Coordinator for the Linux Professional Institute (LPI). Her spare time
goes to&mdash;don't laugh&mdash;knitting and stitching for friends and family,
because you can't sit in front of a computer all your life.
</p></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../145/toc145.html">Issue Table of Contents</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>