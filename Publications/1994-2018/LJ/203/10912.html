<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>
Put the World in Your Pocket with Marble
</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;KDE's Marble breaks free of the desktop&mdash;and it knows where it's going.&#10;"><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0x1a06580.0x1afdac0"></a>
Put the World in Your Pocket with Marble
</h1></div><div><div class="author"><h3 class="author">
Stuart
 
Jarvis
</h3></div><div class="issuemoyr">Issue #203, March 2011</div></div><div><p>
KDE's Marble breaks free of the desktop&mdash;and it knows where it's going.
</p></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1a06580.0x1afe250"></a></h2></div></div><p>
Have you ever wondered what it would be like to have the whole world at
your fingertips? How about cradling it in a single hand, putting it in
your pocket and taking it with you wherever you go? With KDE's Marble
Virtual Globe on your mobile phone, you can do just that.
</p><p>
Yes, you now can run Marble on a smartphone that supports Nokia's Qt
framework. That could be useful, the next time you are arguing with a friend
about which is farther north: London, England, or London, Canada. However,
you could answer that kind of question using a mobile Web browser, or
you even could use your phone to call someone and ask. At first glance,
having a virtual globe on your phone seems like little more than a fun
gimmick&mdash;something to play with and impress your friends. But if
you look a little deeper, you will find that Marble can do much more than
plug the gaps in your geography knowledge. It can help you find yourself
and guide you home.
</p><div       class="mediaobject"><a href="10912f1.large.jpg"><img src="10912f1.jpg"></a><div class="caption"><p>
Figure 1. Marble's mobile version puts the
world at your fingertips.
</p></div></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1a06580.0x1afe670"></a>
Navigate Freely</h2></div></div><p>
Marble has long been KDE's virtual globe application, providing satellite,
atlas and OpenStreetMap mapping of the world. Since its 0.10 release last
August, Marble has included route-finding capabilities, so you can enter
two locations and have Marble calculate a route and provide step-by-step
directions. However, with version 1.0, released in 2010, Marble's
navigational capabilities and optimizations for mobile devices have really come
of age. Combined with a suitable smartphone, this gives you a completely free
navigation system&mdash;free software and free map data.
</p><div       class="mediaobject"><a href="10912f2.large.jpg"><img src="10912f2.jpg"></a><div class="caption"><p>
Figure 2. You easily can use a smart phone
running Marble as an in-car satellite navigation device.
</p></div></div><p>
So, how can you use Marble to turn your phone into a personal navigational
device? In principle, you can run the software on any device that supports
Nokia's Qt toolkit. In practice, most testing is done on Nokia N900s
running Maemo, and packages are available for this platform. Marble
also will run fine on MeeGo when the first MeeGo-powered phones appear. In
the view of lead developer Torsten Rahn, &ldquo;It would be really cool to
see Marble prepackaged for more platforms, such as Symbian, Android,
WinCE and others.&rdquo;
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1a06580.0x1afea38"></a></h2></div></div><div class="sidebar"><p class="title"><b>
Get Marble on Your Nokia N900</b></p><p>
Most testing of the mobile version of Marble is done using Maemo on Nokia's
N900 smartphone. Packages are available to make
installation easy.
</p><p>
To get the mobile version of Marble, simply point your phone's Web browser to the
Marble Web site (<a href="http://edu.kde.org/marble" target="_self">edu.kde.org/marble</a>), navigate to the Download section and scroll
down to find the Maemo packages.
</p><p>
Click on the Maemo package, and when it has downloaded, the Maemo package
manager should open. You just need to make a few more clicks to confirm 
that you want to add the Marble software catalog, and then Marble will
be ready to use. You also will find that the Marble software catalog enables you
to 
install the marble-maps package that gives you access to additional
maps, such as satellite imagery, if you want to try something different from the
default OpenStreetMap maps.
</p><p>
If you want to be able to calculate routes without an Internet connection,
you also should install monav-routing d&aelig;mon, which also is part of the
Marble software catalog in the Maemo package manager.
</p></div><p>
Once you have Marble installed, you just need an excuse to play
with it. Imagine that your employer calls you at home one morning and
wants you to to travel to a client's office a couple cities away. Over
breakfast, fire up Marble on your mobile phone, enter your current
location or let Marble find it using GPS, enter your destination and
wait for Marble to query a range of routing services before presenting
you with a set of options, the best selected by default. If you want
to avoid a road you know is particularly busy in the morning,
you can choose one of the alternative routes or set an additional
via point to avoid it. If you need to pick up your suit from the dry
cleaning shop on the way, you can add that to the route too.
</p><p>
When you are happy with your journey plan, just use your home wireless
network to download the maps for the entire route before you hit the
road. That way, you won't have to use more expensive mobile network
bandwidth on the journey. Then, you can flick Marble into guidance mode,
sit back in your car and watch as Marble tracks your progress along the
route and provides step-by-step directions and relevant maps. While you
travel, you will see that Marble displays a progress bar to warn you of
the next turn (it counts down from 1,000m). You can check the icon that
shows you the direction of the next turn and know that if it is grayed
out, the next turn is still more than 1,000m away. Check the step-by-step text instructions for further guidance. You also get to see the
overall distance to the destination and can toggle between guidance and
map mode that enables you to pan and zoom the map manually. Remember 
also to keep your eyes on the road.
</p><div       class="mediaobject"><a href="10912f3.large.jpg"><img src="10912f3.jpg"></a><div class="caption"><p>
Figure 3. Marble's customized guidance
mode interface shows only the information you need: the next turn and
when to expect it.
</p></div></div><p>
You might be tempted to play with Marble's routing just for the fun of it,
while racking up big mobile data bills to download all the map data. So,
it's fortunate that Marble allows you to download map data for planned
journeys at a convenient time, such as when you are within range of
your home wireless network. According to developer Dennis Nienh&uuml;ser,&iuml;&iquest;&frac14;
&ldquo;Marble 1.0 allows you to download map data along the route, which keeps
the download amount significantly lower if you're interested only in the
route part.&rdquo; This can cut data downloads by 85&ndash;90%. You even can work
out routes entirely off-line. Marble can download a set of off-line maps
to do vehicle routing all around the world.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1a06580.0x1aff0c0"></a>
More than the Sum of Its Parts</h2></div></div><p>
Of course, other navigation solutions exist for mobile devices.
Some, such as Navit, Mappero, ModRana and MoNav, even
are free software. However, Marble has a few special features. Marble makes
use of a range of existing algorithms and Web services, and as Dennis
explains, the approach Marble takes is to &ldquo;query the available ones in
parallel and choose the best result&rdquo;. However, there is more to it than
just fetching results: &ldquo;many of the services can only calculate routes
between two points, while Marble supports an arbitrary number of via
points&mdash;therefore, we need to split up requests and combine the results,
and all of that is transparent to the user&rdquo;. Marble also adds enhancements to the
step-by-step driving instructions: &ldquo;We generate them ourselves, as that
allows us to translate them in all languages supported by KDE software&mdash;no
other project has that huge a number of supported languages.&rdquo;
</p><p>
Dennis explains that there are other advantages to using a selection
of alternative back ends: &ldquo;Since we query multiple routing back ends in
parallel, Marble ranks the results, eliminates duplicates and then shows
the remaining routes on the map. The best is active, but you can easily
switch to one of the alternative routes.&rdquo;
</p><div       class="mediaobject"><a href="10912f4.large.jpg"><img src="10912f4.jpg"></a><div class="caption"><p>
Figure 4. Marble's route finder can help
you plan long journeys by car.
</p></div></div><p>
Marble for smartphones also gains from its close relationship to its
desktop cousin. You easily can explore and plan your journey with Marble
on your home computer with a big screen and fast Internet connection and
then transfer it to your mobile phone. Simply export a file from the computer
to the phone and then open it in the mobile version of Marble. In fact,
you can import route data from any application supporting the standard
KML format. The mobile version of Marble does, however, have plenty of
differences from the desktop version. For a start, the mobile version
does not depend on the KDE platform, so none of the KDE libraries are
needed for installation. This makes the application download only a
few megabytes, but it does mean that the KNewStuff interface&mdash;with which
you may already be familiar if you use KDE software on the desktop&mdash;is not
available to install add-ons, such as new maps.
</p><p>
Making the software simple to use is one of the developers' main
goals. Much of the technology needed has developed independently of
Marble, but Marble draws it all together and presents it to the user via a
consistent and easy-to-use interface. For Dennis, the major challenge has
been &ldquo;integrating the different back ends and coping with their strengths
and limitations, ideally without the user knowing&rdquo;. This is the key:
&ldquo;hiding power behind a simple user interface&rdquo;.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1a06580.0x1aff6f0"></a>
Behind Marble's Route-Finding</h2></div></div><p>
In the best traditions of free software, Marble makes use of a whole
load of existing routing solutions rather than re-implementing everything
itself.
</p><p>
Addresses and current locations are located on the globe using a
combination of the Nominatim Web service (for OpenStreetMap address
search), GeoIP Web services to link IP addresses to locations and a local
database shipped with Marble. Nominatim also is used to convert positions
to addresses, as is Gosmore, which is an optional runtime dependency.
</p><p>
Marble works out routes by taking advantage of the OpenRouteService,
YOURS Web service, Routino and the aforementioned Gosmore and
Monav as optional runtime dependencies.
</p><div       class="mediaobject"><a href="10912f5.large.jpg"><img src="10912f5.jpg"></a><div class="caption"><p>
Figure 5. Large-scale OpenStreetMap data
makes finding the best walking routes around your home city easy too.
</p></div></div><p>
Of course, free software also is about contributing things back, and Dennis
is excited about Marble's routing instructions implementation becoming
useful for other projects. &ldquo;It is used by the YOURS implementation
on OpenStreetMap, which has good chances to be included on the main
OpenStreetMap site at some point. That would mean that some part of
Marble, and the efforts of the KDE translators, would be used by the
OpenStreetMap project itself&mdash;a nice way for KDE to contribute.&rdquo;
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1a06580.0x1affb10"></a>
Mapping Out the Future</h2></div></div><p>
Plenty more is coming in the future. Being able to plan a route and
following it is useful, but what about being able to take your phone
out when you run or cycle and have Marble record your route so
you can upload it to your home computer and see where and how far you
went? Dennis thinks it can be done: &ldquo;Technically, we're just 20 lines
of code away from that. It's mainly missing currently because we didn't
find a nice place in the user interface yet.&rdquo;
</p><p>
Other future enhancements include integration of off-line address search,
greater optimization for different transport types&mdash;for example,
improving the selection of different routes for cycling and driving or
choosing the fastest versus the shortest route. Voice instructions,
one of the major features missing from Marble on a smartphone when
compared to a dedicated satellite navigation system, also will be added
using text-to-speech technology.
</p><p>
Torsten also is excited about the future use of OpenGL, recently
demonstrated by Marble developer Bernhard Beschow. Adding OpenGL support
will make it possible to move rendering of the maps from pure software to
make better use of the graphics processors found in modern smartphones. Torsten believes that &ldquo;OpenGL is important for the mobile use case in
terms of CPU and battery usage&mdash;we hope that OpenGL support will start
to appear in summer 2011.&rdquo;
</p><p>
Implementing all these features, of course, will take a lot of hard work,
and not just from developers: &ldquo;We need more people to help us: with
promotion, with documentation and, of course, through coding.&rdquo; As Marble
depends heavily on free data sources, such as those integrated in the
OpenStreetMap Project, it also benefits from contributions to the stock
of free geographical data by governments, individuals and companies. In
particular, Torsten would like to see more aerial imagery released under
free licenses. Dennis has similar views: &ldquo;Any data that is commonly tagged
in OpenStreetMap will be useful if it can be imported automatically in
some way. Satellite maps would be awesome to have as well in more
detail.&rdquo;
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1a06580.0x1ef80d0"></a>
Education or Navigation?</h2></div></div><p>
Marble became well known as an educational desktop globe along the lines
of Google Earth. After all, it was developed as part of the KDE Education
Project. However, Marble's 1.0 release, part of KDE Software Compilation
4.6 released earlier in 2010, has brought both its navigational features
and mobile interface to maturity, and the developers now prefer to say
that Marble is the free software that lets you &ldquo;explore the world and
find your way&rdquo;.
</p><p>
Even when work on Marble first started, Torsten's goals were ambitious:
to produce a map widget that would &ldquo;become for geo-browsers what
KHTML/WebKit is for Web browsers&rdquo;. The aim always was very much more
than just the production of an educational globe. Torsten explains:
&ldquo;We took the education focus as a starting point, and since then, we have
explored more and more use cases and have widened our scope.&rdquo;
</p><p>
Marble also has found a place in many other applications, from scientific
mapping and weather-tracking applications to photo management, sensor
data visualization and even Linux distribution installers. It goes beyond
Earth too, with map data for the moon and solar system planets available
for download.
</p><div       class="mediaobject"><a href="10912f6.large.jpg"><img src="10912f6.jpg"></a><div class="caption"><p>
Figure 6. If you get bored with planet Earth,
there are plenty of other worlds to explore.
</p></div></div><p>
For Dennis, the development of Marble into a mobile navigation system has
fulfilled a long-felt need: &ldquo;My wish to use a free navigation assistance
goes back quite some years. I started to look into open-source navigation
solutions, but the software available at that time wasn't really capable
of what I wanted.&rdquo; Nonetheless, he began contributing to Marble. &ldquo;Once I
had an N900 and heard that there was a Marble port for the N900 already,
the idea pretty much was there.&rdquo;
</p><p>
So, what is Marble now, an educational desktop globe or a personal
navigational tool? For Dennis, the answer is easy: &ldquo;To me, they are not
contradictory&mdash;it is both, and even more.&rdquo;
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1a06580.0x1ef8700"></a></h2></div></div><div class="sidebar"><p class="title"><b>
Resources</b></p><p>
Marble: <a href="http://edu.kde.org/marble" target="_self">edu.kde.org/marble</a>
</p><p>
Navit: <a href="http://www.navit-project.org" target="_self">www.navit-project.org</a>
</p><p>
Mappero: <a href="http://maemo.org/downloads/product/Maemo5/maemo-mapper" target="_self">maemo.org/downloads/product/Maemo5/maemo-mapper</a>
</p><p>
ModRana: <a href="http://maemo.org/packages/view/modrana" target="_self">maemo.org/packages/view/modrana</a>
</p><p>
MoNav: <a href="http://wiki.openstreetmap.org/wiki/MoNav" target="_self">wiki.openstreetmap.org/wiki/MoNav</a>
</p><p>
OpenStreetMap: <a href="http://nominatim.openstreetmap.org" target="_self">nominatim.openstreetmap.org</a>
</p><p>
Gosmore: <a href="http://wiki.openstreetmap.org/wiki/Gosmore" target="_self">wiki.openstreetmap.org/wiki/Gosmore</a>
</p><p>
OpenRouteService: <a href="http://openrouteservice.org" target="_self">openrouteservice.org</a>
</p><p>
YOURS: <a href="http://wiki.openstreetmap.org/wiki/YOURS" target="_self">wiki.openstreetmap.org/wiki/YOURS</a>
</p><p>
Routino: <a href="http://www.routino.org" target="_self">www.routino.org</a>
</p></div></div></div>
<div class="authorblurb"><p>
Stuart Jarvis is a scientist and member of KDE's Marketing Working Group.
Lacking a Marble-capable smartphone, he spends a lot of time getting lost in
unfamiliar places.
</p></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../203/toc203.html">Issue Table of Contents</a>
    <a class="link3" href="../203/10912.html">Article</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>