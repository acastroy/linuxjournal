<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Linux/m68k: Linux on Motorola's 68000 Processor</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;    Here's the scoop on the porting of Linux to the Motorola processors.&#10;    "><meta name="keywords" content="Motorola, m68k, processor"><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0xbe0580.0xcd7ab0"></a>Linux/m68k: Linux on Motorola's 68000 Processor</h1></div><div><div class="author"><h3 class="author">Chris Lawrence</h3></div><div class="issuemoyr">Issue #37, May 1997</div></div><div><p>
    Here's the scoop on the porting of Linux to the Motorola processors.
    </p></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0xbe0580.0xcd8500"></a></h2></div></div><p><span   class="emphasis"><em>&ldquo;Linux is NOT portable (uses
386 task switching etc.), and it probably never will support
anything other than AT-hard disks, as that's all I have.&rdquo; --Linus
Torvalds, August 25, 1991.</em></span>
</p><p>In the five years since Linus wrote those words, Linux has
been ported from its Intel roots to a number of other
architectures: the ports to the Alpha and Sparc processors are
probably the most familiar to readers of <i  >Linux Journal</i>. In all the attention given to ports to ever
more exotic hardware, it's easy to overlook the first production
quality port: Linux/m68k.</p><p>The &ldquo;m68k&rdquo; stands for the Motorola 68000 series of
processors, found at the heart of popular computers like the Apple
Macintosh, the Amiga, the Atari ST and its successors (the Atari
TT, Medusa and Falcon), as well as the Sun 3, NeXT,
Hewlett-Packard/Apollo Domain workstations and others. The MC68020
(with the MC68851 memory management unit), MC68030, MC68040,
MC68LC040 and MC68060 are the only CPUs in the 68000 family
supported by Linux/m68k, because Linux (like other Unix-like
operating systems) requires a memory management unit (MMU) for
protected and virtual memory support. A floating point unit is
optional, but recommended. Floating point emulation is not
distributed in the main kernel tree, since its copyright conflicts
with the GNU General Public License.</p><p>Like Linux/i386, 4MB of RAM is the absolute minimum, with 8MB
being sufficient for most uses. The X Window System requires a
minimum of 12MB of RAM for a usable system. A minimal installation
currently requires about 55MB of hard drive space, plus at least a
few MB of swap space. My personal system currently has about 830MB
of hard drive space devoted to Linux (one SCSI hard drive and most
of two IDE hard drives). When it comes to RAM and hard drive space,
you can never have too much.</p><p>Linux/m68k started out as a port of Linux to work only on the
Amiga. Hamish Macdonald and Greg Harp released their first version,
which they called 0.05, to the public on July 1, 1993. This version
was based on Intel Linux 0.99pl9. Soon after that release, several
groups of Atari users working independently made the first efforts
to adapt the port to that platform. The two ports were merged into
one tree starting with 0.9 in July of 1994, with many new features
like Ethernet, frame buffer and X Window System support arriving
with 0.9pl5 later that year. Further efforts were made to combine
some of the advances of the Linux/i386 1.0 and 1.1 series,
including ELF support, into the Linux/m68k 0.9 series, culminating
in 0.9pl13. Roman Hodek took over maintenance of 0.9 while Hamish
started work on catching up with Linux/i386, then approaching the
1.2 release.</p><p>The adaptation of Linux/m68k to the general 1.2 kernel was a
difficult process. From the first public release (1.2.10), there
were 13 patch levels in 11 months (the final release was known as
1.2.13pl10). The format of ext2fs used under Linux/m68k was changed
twice (once from 0.9.13 to 1.2.10, and again in 1.2.13pl4).
Overall, the 1.2 series saw Linux/m68k mature into a usable system;
major improvements were made in X support, and a color display was
implemented on the Amiga.</p><p>By the time Linux/m68k 1.2 became stable, however, the rest
of the Linux community was moving ahead at a rapid pace. Hamish
again turned over a usable kernel to Roman and did some very
preliminary work on the 1.3 series; Jes Degn S&ograve;rensen
adopted the 1.3 source tree in the Autumn of 1995 and began
coordinating the work on it. After the initial hurdles of getting
the basic code working, progress came quickly. The first working
1.3 series kernel (1.3.23) was released in late February 1996, and
was brought into sync by early April (to 1.3.86, one day after the
release of Linux).</p><p>The current, stable Linux/m68k version is 2.0.28. Development
of Linux/m68k continues unabated, with the recent 2.1.17
development release of the main kernel integrating over several
hundred kilobytes of changes from the Linux/m68k tree.</p><p>As of Linux/m68k 2.0.28, the latest release of the production
2.0 kernel, the Amiga and Atari are directly supported. Users of
Motorola VMEbus systems (the MVME 162, 166 and 167) can use an
earlier release, 2.0.8. Porting efforts are underway for the Sun 3
and Hewlett-Packard/Apollo Domain workstations and the Apple
Macintosh. There has also been some interest in a port to the NeXT
workstation.</p><p>Compatibility between Linux/m68k and Linux/i386 is very high
at the source level. Almost all programs that don't use
Intel-specific optimizations (like -m486), assembler code, SVGAlib
or /dev/port should work &ldquo;out of the box&rdquo;. Notable exceptions are
programs that expect the proc file system's data to be in a
specific format (such as /proc/interrupts, which on Linux/m68k can
contain any number of interrupts, including shared interrupts).
Almost all of the GNU project's software has been tested and used
successfully on Linux/m68k, as have the popular Perl, Python and
Tcl programming languages and free Web browsers including Arena,
Chimera, Grail, Lynx and Mosaic.</p><p>As of this writing, no commercial software available for
Linux/i386 has been recompiled for Linux/m68k, nor has most other
software released without source (with the notable exception of the
XForms library). The primary obstacles are as follows:</p><div class="orderedlist"><ol type="1"><li><p>There is no SVGAlib support on Linux/m68k.</p></li><li><p>There is no true Motif port to Linux/m68k. Motif
1.2 has been successfully compiled and used under Linux/m68k, but
the individual who did that work doesn't have a license to sell
Motif.</p></li></ol></div><p>Unlike Linux on Intel and Alpha, there is no standard video
hardware under Linux/m68k. The Amiga and Atari video chip sets are
fundamentally different, as are the various graphics adapters
available for both systems. Linux/m68k gets around this problem by
using the Universal Framebuffer (UFB) device. This term is
misleading, since it is used only on Linux/m68k at this point; but
there are plans to merge it with the SparcLinux Framebuffer later.
The UFB device abstracts the hardware interface to support a
relatively simple, device- and system-independent programming
interface. An easy-to-use user-mode library, known as
<b  >oFBsis</b>, is under development as part of the OSIS
project to emulate the Atari TOS environment. One side effect of
the UFB approach is virtually all Linux/m68k binaries are
compatible with all Linux/m68k platforms. For example, the XFree68
server binary can operate all of the display hardware supported by
Linux/m68k on both the Atari and Amiga. Even the kernel can be
compiled to run on both Ataris and Amigas, and was distributed this
way until the 2.0 series, when the number of devices needed for
each OS made the combined kernel too large for users with only 4 MB
of RAM. More programs supporting the UFB interface are
forthcoming.</p><p>One of the most exciting developments in recent months is the
port of the Debian distribution to Linux/m68k. Debian/m68k is
currently in beta testing and will be released in tandem with the
next Debian release. Most users currently install Linux/m68k
manually using a number of tar files known as the Watchtower-2 file
system, a fairly complicated procedure for those not familiar with
Unix. There is also an older distribution, based on the 1.2 series
kernels, called ALD, available for Ataris on CD-ROM. A proper
distribution for both platforms, with support from Amiga and Atari
CD-ROM vendors, in addition to the Linux CD vending community,
would help make Linux a viable alternative operating system for
serious Amiga and Atari users. At present, the only CD-ROMs
available are the ALD CD-ROM and Infomagic's quarterly Linux
Developer's Resource 6 CD set.</p><p>With the disappearance of the Amiga and Atari commercial
developer communities over the past few years, many users have
turned to the Free Software Foundation's GNU project for the tools
they need. Unfortunately, the Unix heritage of the FSF tools causes
problems for Amiga and Atari users who must contend with
conflicting file naming formats, weak integration with the
underlying OS, and memory-hogging emulation libraries. Linux and
other free Unix-like operating systems can provide an environment
suited for running these tools, with features like memory
protection and virtual memory built-in, at minimal cost.</p><p>Substantial progress is underway to run well-behaved Amiga
and Atari programs under X. The OSIS project, mentioned above, is
usable for many Atari TOS applications already; AmigaOS emulation
is also available but slow (via the Un*x Amiga Emulator), with
faster support for programs that run within AmigaOS rules being
worked on under both UAE and the AmigaOS Replacement OS (AROS).
Full-speed Macintosh emulation should also be possible as it is
under AmigaOS, but as yet, no one has demonstrated it. Binary
compatibility with other Unix-like operating systems on Motorola
platforms (similar to iBCS on Intel) is another area that could be
developed further and may follow with the Sun 3 port. More
emulation support is expected once Linux/m68k becomes easily
accessible to Amiga and Atari users and their large freeware
authoring communities.</p><p>Support for expansion devices under Linux/m68k is rather
limited at present. Virtually every Ethernet card ever designed for
the Amiga and Atari is supported, but only a relative handful of
other devices are supported at present. However, many of them&mdash;like
the Commodore A2091 and GVP SCSI controllers&mdash;are among the most
common or&mdash;like the SCSI options for the Phase 5 accelerators&mdash;the
most recent. The relative lack of people with hardware knowledge in
the Linux/m68k community has slowed development in this area. With
the wider popularity of Linux/m68k that should result after the
Debian distribution is released, the dearth of technical expertise
should become less of a setback as more people with hardware
knowledge join in the development process.</p><p>While it is difficult to judge the popularity of other
Unix-like operating systems on the Amiga and Atari (primarily
NetBSD and OpenBSD), the Linux/m68k Registration Site seems to be a
fairly accurate measure of Linux/m68k users. According to the site,
well over 400 people use Linux/m68k at least some of the time. Our
Registration Site is prominently advertised at most of the web
pages devoted to Linux/m68k, and Geert Uytterhoeven, its
maintainer, posts regular messages to the Linux/m68k-related
newsgroups with statistics and a registration form. Registrations
can be made using a Web-based form at the site, through e-mail or
via snail mail. Despite these efforts, many users of Linux/m68k who
only occasionally have or do not have Internet access remain
unregistered. It is hoped that vendors of Linux/m68k distributions,
once they become available, will help publicize the registration
site.</p><p>The Web has become an increasingly important source of
Linux/m68k information. Over a four-day period around Christmas,
350 visits to the primary site of the Linux/m68k Home Pages were
recorded. The registration site also receives hundreds of visits
per week. The Frequently Asked Questions file and installation
guides for Amigas, Ataris and VME systems are available on the Web.
Other Linux/m68k pages are available in French, German, Italian and
Portuguese. Coupled with the very active developers' mailing list
and the Linux/m68k-related newsgroups (in both English and German),
users are well-supported with solid information and quick responses
from the Linux/m68k user and developer communities.</p><p>As most of the developers reside in northern Europe, they
have met a couple of times in person. The Linux/m68k project is in
many ways a microcosm of the larger Linux project, bringing
together people from across the world in pursuit of a common goal.
A recent poster to comp.os.linux.m68k commented that the
68000-series processor has many years of life ahead of it. Those of
us who work to promote Linux/m68k hope to keep the Motorola 68000 a
viable platform for serious computing. With Linux/m68k, you can put
together a complete Linux system for well under $1,000. So before
you rush out and buy that $8,000 Alpha, dig through your closet,
find that old processor, install Linux/m68, and have a computer
with the same functionality for a lot less money.</p><p><a href="2090t1.html" target="_self">Table 1</a></p></div></div>
<div class="authorblurb"><p>
        <div       class="mediaobject"><img src="2090aa.jpg"></div>


      <span   class="bold"><b>Chris Lawrence</b></span>
      is a senior Computer
      Science major at the University of Memphis who has used Linux/m68k
      on his 68040-based Amiga since February of 1995. He moonlights as a
      salesman for an Internet service provider, is also known as
      LordSutch at New Moon (a multi-user dungeon at
      telnet://eclipse.cs.pdx.edu:7680/) and mostly leaves kernel hacking
      to the professionals. He can be reached at quango@themall.net or in
      care of <i  >Linux Journal</i>.</p></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../037/toc037.html">Issue Table of Contents</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>