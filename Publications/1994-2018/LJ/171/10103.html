<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>
You Look Marvelous on the Web!
</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;Looking good is easy for our regular guests. However, looking good on the&#10;Web takes a little more work,&#10;which doesn't mean it can't be a lot of fun. With a little help from&#10;your Linux system, your smile will shine on-line!&#10;"><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0x2497580.0x258eac0"></a>
You Look Marvelous on the Web!
</h1></div><div><div class="author"><h3 class="author">
Marcel
 
Gagn&eacute;
</h3></div><div class="issuemoyr">Issue #171, July 2008</div></div><div><p>
Looking good is easy for our regular guests. However, looking good on the
Web takes a little more work,
which doesn't mean it can't be a lot of fun. With a little help from
your Linux system, your smile will shine on-line!
</p></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x2497580.0x258f3b0"></a></h2></div></div><p>
Yes, Fran&ccedil;ois, I think it would be great to add a gallery of our
regular guests on the restaurant's Web site, but I do have a couple
concerns. First and foremost, I really don't think you should call
it a &ldquo;Rogue's Gallery&rdquo;. Second, why on earth are you coding
HTML
by hand? That's going to take forever, and our guests will be
here momentarily. Lucky for you, tonight's menu has some great free
software for your Linux system that will make creating the gallery a
breeze&mdash;later, though. I can see our guests arriving as we speak.
</p><p>
Good evening and welcome one and all to <span   class="emphasis"><em>Chez Marcel</em></span>!
Your tables
are ready, as are we to serve you. My faithful waiter, Fran&ccedil;ois,
will fetch your wine while I introduce tonight's featured Linux
software. Fran&ccedil;ois, to the wine cellar. <span   class="emphasis"><em>Vite!</em></span> In the
South wing,
you'll find a case of 2003 Sariza from Bulgaria. The Sariza is a great
medium-bodied red wine that I'm sure you'll enjoy.
</p><p>
I must tell you that Fran&ccedil;ois had an excellent idea that involved
creating a Web photo gallery. Before I show you how easy it can be to
create such a gallery, I should tell you about a package you need to
have on your system&mdash;a package that will let you do all sorts of
magical
things with images. No, I'm not talking about The GIMP. The package
is ImageMagick, and if you don't have it installed already, you should do
so now, as we'll need its tools later. What sorts of tools? Well, for
instance, you can find some interesting information about a media file by
using
the identify command:

<pre     class="programlisting">
$ identify myphoto.jpg
myphoto.jpg JPEG 800x1161 DirectClass 271kb
</pre>
</p><p>
As you can see, the photo is 800 pixels wide by 1,161 pixels in height,
and it is a JPG image. What if I wanted to create a small 150-pixel-wide thumbnail from this image? ImageMagick has a tool for that
as well. It's called mogrify:

<pre     class="programlisting">
mogrify -geometry 150 myphoto.jpg
</pre>
</p><p>
And, just like that, we have a 150-pixel-wide photo. Of course, you
might want to have a backup of the original.
</p><p>
Although not a Web album, you can use the montage command to
create a montage, much like a photographic contact sheet:


<pre     class="programlisting">
montage -geometry +5+5 -size 150 -frame 20 lugnuts/*.jpg lugnuts.png
</pre>
</p><p>
The resulting image (Figure 1), complete with a nice beveled
frame, can be printed and stored in an physical album. Pretty cool,
<span   class="emphasis"><em>non</em></span>?
</p><div       class="mediaobject"><a href="10103f1.large.jpg"><img src="10103f1.jpg"></a><div class="caption"><p>
Figure 1. The ImageMagick
montage command makes it possible to create quick-and-easy contact
sheets.
</p></div></div><p>
To get those images to the Web, we have other tools. Some require that
you have server-side access to the server, and these can be quite complex
and feature-rich. I'll show you one of those shortly. In the meantime,
let's assume you don't have shell access to your Web site or you aren't
allowed to install programs or run scripts. You might well be in a
bind if you want those pictures on your own Web site. Fear not. This
is where iGal and our friends, the ImageMagick group of tools,
come into play. iGal is a simple Perl script, originally written by
Eric Pop (at Stanford). These days, iGal is maintained and updated by
Wolfgang Trexler. This is a wonderful tool that allows you to create a
presentation of images in a hurry, whether for your Web site, for your
family or for your company. You can get the latest iGal from Wolfgang's
site at <a href="http://trexler.at/igal" target="_self">trexler.at/igal</a>.
</p><p>
Installing this is child's play, because iGal (which stands for Image
GALlery generator), being a Perl script, is already source. Visit the
site and download the latest tarred and gzipped bundle. Then, extract
the package and install it:

<pre     class="programlisting">
tar -xzvf igal-1.4.7-wt.tar.gz
cd igal-1.4.7-wt
sudo make install
</pre>
</p><p>
To make your instant slideshow, change directory to where you already
have a collection of images, and type the following:

<pre     class="programlisting">
igal -xy 150 --bigy 800
</pre>
</p><p>
That's all there is to it. You don't need either the -xy 150 or the
--bigy 800 options I added. The first creates an HTML slideshow with a
title page made up of thumbnails scaled to a maximum of 150
pixels along their longest dimension. The bigy option is useful if you
have very large images. It takes your large photos and creates images of
the selected y dimension (in this case, 800 pixels). To see the full-size
image, your visitors just have to click the 800-pixel image. This whole
process may take a minute or two, depending on the size of your images and
the quantity. In the directory, you'll also find an index.html page, your
original images, thumbnail versions of these (prefixed with .thumb_)
and cross-linked HTML pages for each image. It should look something
like what you see in Figure 2.
</p><div       class="mediaobject"><a href="10103f2.large.jpg"><img src="10103f2.jpg"></a><div class="caption"><p>
Figure 2. A Web Gallery,
Courtesy of iGal
</p></div></div><p>
The only real editing that I wind up doing is changing the title of the
index.html file. By default, the title for that page is &ldquo;Index
of pictures&rdquo;, and I tend to like something a bit more descriptive.
When
you run iGal, the default caption for each image is the image name
itself. You can change that without editing all the images by running
iGal with the -c option. This generates a file called
.captions. Lines in the file look something like this:

<pre     class="programlisting">
img_0261.jpg ----
img_1400.jpg ----
</pre>
</p><p>
To create captions for your images, append the text you want to the image:

<pre     class="programlisting">
img_0261.jpg ---- A picture of me with Tux
</pre>
</p><p>
Save the file, rerun iGal with the -c option again, and all
your images will have your selected captions. If you choose the -C
option (uppercase C), you will get your captions, but the image names
are preserved. Note that you should remove the .captions
file first. Remember, all of this happens on your local PC. When you
are done, all you need to do is transfer the directory, complete
with HTML files, images and thumbnails, to your hosting provider. No
server-side code is needed.
</p><p>
Perl is cool, of course. But a good old-fashioned
bash script is equally cool, and that's the heart of
Eduardo Sztokbant's Shalbum. You can get Shalbum at
<a href="http://shalbum.blogspot.com" target="_self">shalbum.blogspot.com</a>. Like iGal, Shalbum uses
ImageMagick
to perform its magic. Similarities aside, Shalbum has some interesting
additional features that set it apart, including forward and back
thumbnails
with the main image view, a built-in slideshow function and more. To
install Shalbum, extract the tarred and gzipped bundle, then run a
<tt  >make install</tt>:

<pre     class="programlisting">
tar -xzvf shalbum-1.12.tar.gz
cd shalbum-1.12
sudo make install
</pre>
</p><p>
To create your Web album, copy the images you want into a
folder. With that part complete, it can be as simple as running the shalbum
command:

<pre     class="programlisting">
shalbum -t "Proud members of the WFTL-LUG" -T 200 -C 4
</pre>
</p><p>
The result of this command is shown in Figure 3. What I've done with
the above command is pass a title for the album (the -t option),
selected a 200-pixel thumbnail (the -T option) and specified
that the main page should display four columns of thumbnails. The
resulting album is generated in a subfolder called&mdash;wait for
it&mdash;album. You can transfer that entire folder to your Web site, and
you
are good to go. The presentation for Shalbum is nice.
</p><div       class="mediaobject"><a href="10103f3.large.jpg"><img src="10103f3.jpg"></a><div class="caption"><p>
Figure 3. Quick, easy
and stylish&mdash;Shalbum uses bash to generate a Web album.
</p></div></div><p>
Each photo displays not only forward and back links to navigate
through the gallery, but also shows the previous and next thumbnail at the
bottom of each page. At the top of the gallery, you'll see a link labeled
Play. That starts the slideshow. You can specify the number of
seconds between each photo by using the -S option.
</p><p>
The final item on tonight's menu is far more complex and does require
server-side access, as well as an Apache server with PHP and MySQL. The
result is fantastic and yet amazingly easy to work with. It's called
ZenPhoto, and it is probably the nicest and easiest Web photo gallery
program I've seen so far. Despite its ease of use, the feature list
is nothing short of impressive. EXIF and IPTC support is built in, as
is support for video (Flash, QuickTime and 3GP). Images are uploaded via
the Web interface, but you also can use FTP or SCP if you prefer. The
interface makes it easy to edit as you go, make comments, tag photos,
rate individual albums or photos, and generate albums from searches. You
can watermark images, password-protect the gallery or individual albums,
set up RSS feeds, allow users to comment and more. There can be multiple
galleries and even sub-galleries. Have I mentioned that ZenPhoto is
also themeable?
</p><p>
To get started, visit the ZenPhoto Web site at <a href="http://www.zenphoto.org" target="_self">www.zenphoto.org</a>,
and download the latest source. Extract the bundle into your Web server's
hierarchy. Of course, only you will know where exactly, but you pretty
much can put it anywhere you like under those constraints. ZenPhoto does
not
need to be at Web root. That said, you do need to have administrative
access to the system, or at least MySQL. Extract the package into your
chosen location with this command:

<pre     class="programlisting">
tar -xzvf zenphoto-1.1.5.tar.gz
</pre>
</p><p>
The resulting directory will be called zenphoto, which is
fine, but you may choose to rename the folder to something that makes
more sense to you, like myphotos or myalbums.
</p><p>
Installation is very simple. Just point your browser
to the ZenPhoto installation address&mdash;for instance
http://mywebsite.dom/zenphoto. If you are accessing ZenPhoto
for the first time, it immediately will take you to the setup screen
(Figure 4).
</p><div       class="mediaobject"><a href="10103f4.large.jpg"><img src="10103f4.jpg"></a><div class="caption"><p>
Figure 4. Installation
is guided with pointers to help you set up your database.
</p></div></div><p>
The setup screen checks to make sure you have the right software
installed, including PHP support and modules. In my example, I haven't
yet created my database. Use whatever tools you are comfortable with
(for example, Webmin, PHPMyAdmin or the command line) to create a database
and
a user that has permissions to update that database:

<pre     class="programlisting">
mysqladmin -u root -p create zenphoto
mysql&gt; grant all on zenphoto.* to 'zpadmin'@'localhost'
 &#8618;identified by 's3cr3tp4sswd';
mysql&gt; flush privileges;
</pre>
</p><p>
Click the Save button to verify your database setup, and you now should
see a screen with a collection of friendly green check marks and
a large blue Go! link at the bottom. If there are any issues, they
will be highlighted for you (the wrong password, perhaps). Assuming all
has gone well, click Go!. ZenPhoto creates the necessary tables,
then provides you with a screen to set your admin user name and password.
The
only thing left to do is log in.
</p><div       class="mediaobject"><a href="10103f5.large.jpg"><img src="10103f5.jpg"></a><div class="caption"><p>
Figure 5. Two steps
later, you are ready to log in and start uploading photos.
</p></div></div><p>
When you log in to the admin interface, you are presented with several
tabs that let you define security, edit existing galleries and comments,
adjust the layout and theme, and a whole lot more. What you most likely
will want to do at this point is create an album and upload some photos. To
create your first album, click the Upload tab. If you haven't
done so already, create a new album by providing a name. Then, one by one,
you
can browse for your photos and add them to the list (Figure 6). The
default allows for five individual photos, and you can upload them five
at a time, but if you prefer, you can click the Add more upload boxes
link at the bottom. When you are done, click the Upload button.
</p><div       class="mediaobject"><a href="10103f6.large.jpg"><img src="10103f6.jpg"></a><div class="caption"><p>
Figure 6. Creating albums and
uploading photos take only a few clicks.
</p></div></div><p>
Your final gallery is ready soon after the photos are
uploaded. Thumbnails are generated automatically. By default, the gallery
is public, and the only password so far is to protect the administrative
interface, in which you are currently working. To leave the administration
screens and view your gallery, click the View Gallery link at the top
right, and you'll be immediately transported to the public face of the
gallery (Figure 7). Assuming you are logged in as the administrator,
you will see an Admin Toolbox link in the upper right that lets you
jump back to admin mode.
</p><div       class="mediaobject"><a href="10103f7.large.jpg"><img src="10103f7.jpg"></a><div class="caption"><p>
Figure 7. ZenPhoto Gallery Built on the Default Theme
</p></div></div><p>
Now, I vaguely recall mentioning that ZenPhoto is themeable. In fact,
the package comes with several themes, like the Stopdesign theme shown in
Figure
8. Most themes have additional options that can be tweaked in the admin
interface. These let you define the number of thumbnails displayed, the
order in which they appear, photo download options, comment capabilities
and more. You also can browse and download additional themes from the
ZenPhoto Web site.
</p><div       class="mediaobject"><a href="10103f8.large.jpg"><img src="10103f8.jpg"></a><div class="caption"><p>
Figure 8. Different themes provide your albums with a style to reflect your
own taste.
</p></div></div><p>
Once again, <span   class="emphasis"><em>mes amis</em></span>, we are out of time, though I
must admit,
Fran&ccedil;ois' gallery looks amazingly good with your smiling faces peering
out from our Web site. If you haven't had the opportunity to do so yet,
I hope you'll send us your photos shortly. In the meantime, the hour
is truly getting late, and we must soon be on our way. Fran&ccedil;ois will,
of course, refill your glasses a final time before we bid each other
farewell.
Raise your glasses, <span   class="emphasis"><em>mes amis</em></span>, and let us all drink to
one
another's health. <span   class="emphasis"><em>A votre sant&eacute;! Bon app&eacute;tit!</em></span>
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x2497580.0x2989808"></a></h2></div></div><div class="sidebar"><p class="title"><b>
Resources</b></p><p>
iGal: <a href="http://trexler.at/igal" target="_self">trexler.at/igal</a>
</p><p>
ImageMagick: <a href="http://www.imagemagick.org" target="_self">www.imagemagick.org</a>
</p><p>
Shalbum: <a href="http://shalbum.blogspot.com" target="_self">shalbum.blogspot.com</a>
</p><p>
ZenPhoto: <a href="http://www.zenphoto.org" target="_self">www.zenphoto.org</a>
</p><p>
Marcel's Web Site: <a href="http://www.marcelgagne.com" target="_self">www.marcelgagne.com</a>
</p><p>
The WFTL-LUG, Marcel's Online Linux User Group: <a href="http://www.wftl-lug.org" target="_self">www.wftl-lug.org</a>
</p></div></div></div>
<div class="authorblurb"><p>
Marcel Gagn&eacute; is an award-winning writer living in Waterloo,
Ontario. He is the author of the <span   class="emphasis"><em>Moving to Linux</em></span>
series of books
from Addison-Wesley. Marcel is also a pilot, a past Top-40 disc jockey,
writes science fiction and fantasy, and folds a mean Origami T-Rex.
He can be reached via e-mail at <a href="mailto:marcel@marcelgagne.com">marcel@marcelgagne.com</a>. You
can discover
lots of other things (including great Wine links) from his Web site at
<a href="http://www.marcelgagne.com" target="_self">www.marcelgagne.com</a>.

</p></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../171/toc171.html">Issue Table of Contents</a>
    <a class="link3" href="../171/10103.html">Article</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>