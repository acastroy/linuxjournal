<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Linux for Public Service</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;    JCICNet, an Internet Services Provider, uses Linux to serve its&#10;    customers. Here's why.&#10;    "><meta name="keywords" content="public"><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0x1985580.0x1a7cab0"></a>Linux for Public Service</h1></div><div><div class="author"><h3 class="author">Dan Hollis</h3></div><div class="issuemoyr">Issue #13, May 1995</div></div><div><p>
    JCICNet, an Internet Services Provider, uses Linux to serve its
    customers. Here's why.
    </p></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1985580.0x1a7d2f0"></a></h2></div></div><p>I'm the system administrator for
<span   class="bold"><b>JCICNet</b></span>, an Internet Service
Provider (ISP) that provides public access Internet services for
Southern Oregon. This article explains why we use Linux and
describes some of our experiences with it as an ISP.
</p><p>These days, one of the hot topics seems to be using Linux as
a base for public access Internet systems. There are a number of
reasons why, for many ISPs, Linux is the operating system of
choice.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1985580.0x1a7d4a8"></a>Taking the Plunge</h2></div></div><p>When our ISP first decided to provide Internet access to the
local area, my first task was determining what kind of hardware was
needed. The basic requirements for the system were:</p><div class="orderedlist"><ol type="1"><li><p>It must handle multiple dial-up users
smoothly,</p></li><li><p>It must be seamlessly integrated with the TCP/IP
Internet protocols,</p></li><li><p>It must be easily expandable and easily modified
for our various needs, and</p></li><li><p>It must be very inexpensive (we are a relatively
small ISP).</p></li></ol></div><p>For me, the answer to the first three was obvious&mdash;Unix.
Requirement number four mandated the hardware be on a PC clone. But
which version of Unix?</p><p>I had heard about Linux, but the biggest question was: if
it's free, how reliable could it possibly be? There was one way to
find out. I read the FAQs, the HOWTOs, and the comp.os.linux
newsgroups. Although I didn't really have a clue what was being
discussed in the newsgroups, I started asking questions. I never
received anything negative about its reliability, so I figured that
even if it wasn't suitable, at least we wouldn't be out any money,
so Linux was given the green light.</p><p>We eventually settled on the following configuration:</p><div class="itemizedlist"><ul type="disc"><li><p>DX4/100 with 16mb RAM</p></li><li><p>Buslogic SCSI Adaptor</p></li><li><p>Quantum EMPIRE-1080S 1 gig SCSI drive</p></li><li><p>Toshiba XM-3401TA SCSI CD-ROM</p></li><li><p>QIC-117-compatible tape drive</p></li><li><p>BOCA Board 2016 (16 port serial card, cables not
included!)</p></li><li><p>Supra 28.8k and AT&amp;T Paradyne 14.4k
modems</p></li></ul></div><p>Our network provider sold us the following equipment:</p><div class="itemizedlist"><ul type="disc"><li><p>Morningstar Express Router</p></li><li><p>BAT Technologies 56k CSU/DSU</p></li></ul></div><p>All told, the total hardware cost came to close to something
like $10,000.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1985580.0x1a7e160"></a>Setting It Up</h2></div></div><p>Our Linux distribution was the Infomagic 2-CD set, from which
we installed Slackware. The installation was relatively simple;
everything was menu driven with very little guesswork. Within hours
we were fully installed, up and running. Very impressive.</p><p>The network was all configured thanks to the menu driven
installation. I never had to touch configuration files. We just
configured our router, and we were on the net.</p><p>Next came the <span   class="bold"><b>BOCA</b></span> serial
board. Using <b  >setserial</b> and /etc/rc.d/rc.serial,
configuration was painless. I just uncommented a few existing lines
and the BOCA would auto-configure itself on bootup. I installed
<span   class="bold"><b>mgetty</b></span>, and within an hour, we had
working dialups.</p><p>Last came the front end that the users would have to tangle
with. Since most of the users would not have any experience with
the shell, I used the Dialog package (documented in <i  >Linux Journal</i> issue #5) to whip up a spiffy menuing system
using shell scripts.</p><p>All the while, I was amazed at how straightforward everything
was, all the pieces to the Linux puzzle fit together neatly. I had
experience with various Unices in the past, and Linux was by far
the easiest to come to grips with. Packages just plugged in and
started working, with little or no configuration required. A lot of
this I attribute to Linux's <span   class="bold"><b>FSSTND</b></span>
(File System Standard)--a boon, especially to system
administrators.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1985580.0x1a7e580"></a>Bringing the System Up</h2></div></div><p>With everything configured, we were confident enough to throw
the switch and start letting users pour in. I watched the system
closely for hours, all the while expecting this &ldquo;free operating
system&rdquo; to explode into a million pieces, taking our hardware and
subscribers with it into /dev/null.</p><p>Several weeks later, I stopped worrying. During our first few
weeks the system ran smoother than I had ever expected. No kernel
panics, no strange file system problems. It wasn't flawless by any
means, but none of the problems were insurmountable or disastrous.
For a free operating system, I was very happy with Linux.</p><p>The first real problem I ran into was with hanging processes.
We were having a bizarre problem where, if someone dropped carrier
without logging out cleanly, processes were left hanging on `con'.
It can be very disconcerting to log in and find the system load at
26.0 or so! This took about a week to track down. I asked various
questions on the newsgroups and IRC. I eventually ran across
another system admin on IRC who had the exact same problems. We
narrowed it down to the POSIX behavior of bash; replacing bash with
zsh solved the problem.</p><p>The second problem we encountered was with our Supra modems
crashing occasionally, which was (thankfully!) not a Linux problem.
I would have to power cycle the modems to get them to wake up
again. After several calls to Supra tech support, it was revealed
that if the modem received characters while in the middle of a hard
reset (via an `ATZ' or DTR drop) it could crash. A quick change to
the initialization string and the modems cleared up.</p><p>Our third problem was a bug with mgetty. It turns out that
mgetty will happily echo back `+' characters to your modem. If
someone logs in and sends three `+' characters in a row, mgetty
echoes those back to the local modem which, of course, puts it in
command mode. Then mgetty will happily sit, blabbering away in a
chat loop with the modem. A small one-line modification to mgetty
(which would not have been possible without the freely available
source code!) fixed this.</p><p>Our final problem was with
<span   class="bold"><b>smail</b></span>. It simply would not send to
hosts on the Internet that had an MX pointer in their domain name
server (DNS) record. I finally figured out that the Slackware
distribution of smail did not have the
<span   class="bold"><b>bind</b></span> driver compiled in. I
downloaded a newer version of smail off of ftp.uu.net and it worked
flawlessly.</p><p>Since then, the system has been relatively painless to
administrate. When our net provider's DNS server started flaking
out, I got my own DNS server up within an hour with the help of
Douglas Rabe
(<a href="mailto:darabe@templar.fgi.net">darabe@templar.fgi.net</a>),
a friendly Linux admin from Illinois. (He also offered to act as
our DNS secondary).</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1985580.0x1a7e9a0"></a>Linux Support</h2></div></div><p>Support on the net has been great. The comp.os.linux.*
newsgroups carry amazing amounts of information. IRC is good,
except for a couple sour grapes: it can be very disappointing on
IRC to see someone answer a newbie's question &ldquo;how do I untar a
file?&rdquo; with <b  >alias tar `rm -rf'</b> and then type
<b  >tar filename</b>. To me, that is one more person
permanently turned off of Linux due to someone's lame joke. Nobody
said newbies had to ask dumb questions, but then nobody said
smarti-alecks had to answer them, either.</p><p>The software support for Linux has been outstanding. It seems
like any new software package, no matter where I ftp it from, has a
specific makefile configuration for Linux. And thanks to FSSTND,
most of it plugs right in.</p><p>There are a number of reasons why I personally prefer Linux.
Since the source code is available for everything, if something is
wrong, I can fix it myself&mdash;instead of spending hours on hold with
a software vendor who may or may not fix my problem (or even
understand what the heck I'm talking about!). Have you ever spent
hours on hold with a vendor only to get a support person who is
perfectly ready to help you&mdash;with your VMS problems?</p><p>Another major point with Linux is that user licenses are a
non-issue&mdash;something which has continually come up and bitten us
with other commercial operating systems. The user licenses issue is
something that should be of great importance to an Internet Service
Provider.</p><p>From home, I administrate the main dial-in system with&mdash;what
else&mdash;my own Linux box. Since I deleted DOS and Windows from my
hard drive and installed Linux, I've never been happier with my
PC.</p></div></div>
<div class="authorblurb"><p>Daniel Hollis is a systems programmer for
      Pharmacy Computer Services, where he is trying to find ways to slip
      some Linux boxes into the workplace. He is also the system
      administrator for the jcic.org domain and is currently involved
      with authoring the Linux-Public-Access-HOWTO. He can be contacted
      via e-mail at
      <a href="mailto:dhollis@hq.jcic.org">dhollis@hq.jcic.org</a>.</p></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../013/toc013.html">Issue Table of Contents</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>