<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>
Yellow Dog Linux Installs Neatly on an iPod</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;Forget bootable USB pendrives and use an iPod to boot Linux on a Mac.&#10;"><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0x191c580.0x1a13ab0"></a>
Yellow Dog Linux Installs Neatly on an iPod</h1></div><div><div class="author"><h3 class="author">
Dave
 
Taylor
</h3></div><div class="issuemoyr">Issue #146, June 2006</div></div><div><p>
Forget bootable USB pendrives and use an iPod to boot Linux on a Mac.
</p></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x191c580.0x1a142f0"></a></h2></div></div><p>
The concept's great: what would it be like to have a pocket-size device
that I could plug in to just about any Macintosh and by simply rebooting
the computer be running a full-blown Linux installation? There are
oodles of Linux OSes for Intel architectures, of course, but the Mac,
until very recently, has been built around the Motorola architecture,
so the number of choices are rather fewer.
</p><p>
One of the few Linux OSes for the PowerPC is called Yellow Dog, from Terra
Soft Corp., <a href="http://www.yellowdoglinux.com" target="_self">www.yellowdoglinux.com</a>. It costs about
$60 US for the install
CDs and documentation or $30 US for the &ldquo;geek edition&rdquo; (that's just the
install CDs), or you can download it for free from the Web site. And, let me
answer the obvious question: because Mac OS X already is a UNIX (basically
FreeBSD with lots of added stuff, much of which you can find in Darwin,
<a href="http://www.apple.com/darwin" target="_self">www.apple.com/darwin</a>), why bother with a Mac Linux? The answer
is that although Mac OS X is a splendid mating of a UNIX operating system
with all the graphical goodness of Apple's user interface design, it's
still not Linux. If you're in a Linux environment and want to run KDE
or GNOME, you don't have to graft it onto Mac OS X if you can run
a Linux designed for the Mac platform instead. Besides, isn't it kinda
cool anyway?
</p><p>
Anyway, I had a spare Apple iPod, a first-generation 5GB device that
worked via the Firewire interface rather than the more modern USB
connection, and I was assured by the folks at Yellow Dog that I could
squeeze YDL into as small as 1GB. I have plenty of space on a 5GB
device. Of course, I already had a gig of music and audio books I wanted
to preserve, so the first test was to see if I could repartition the
device to grab 3GB for Linux and keep 2GB for audio and iPod content. The
perfect stealth Linux device, right?
</p><p>
So, one afternoon I decided to take the plunge and hooked up my iPod to my
PowerBook computer and inserted the first of the YDL 4.1 install disks
and restarted the Mac, holding down the C key to force the device to
boot off the CD-ROM, not the internal hard disk. When prompted, I typed in
<tt  >install firewire</tt> and away we went.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x191c580.0x1a14660"></a>
Partitioning the iPod for YDL</h2></div></div><p>
New to the 4.x version of Yellow Dog is the inclusion of the popular
Anaconda graphical installer, which makes everything quite a bit
easier. It lets you resize existing drive partitions to make space for
the new operating system. The new partitions also can be made bootable,
which is a critical component for the success of this project.
</p><p>
Theoretically, partitioning should be pretty easy. I have a 5GB iPod
firewire device and am using just a wee bit more than 1GB of it for
music. I'll resize the iPod drive to 2GB and have 3GB spare to repartition
as an ext3 filesystem and be good to go.
</p><p>
Well, that's the theory, but it doesn't quite work out that way.
</p><p>
Part way through the install process, managed by Anaconda, I have the
option of accepting an automatic partitioning scheme or using Disk Druid
to work with my disk partitions manually. I take the latter path and
am glad to see that one of the drives is identified as &ldquo;Drive /dev/sda
(4769MB) Model: Apple iPod&rdquo;, so there's no worry that I'll accidentally
reformat or resize my laptop drive, which would be quite ungood. To
resize the iPod drive, I simply choose that partition and click Edit in
the Disk Druid, and then specify that I want it to be 2,000MB rather than
4,769MB
(which should give me 2.7GB for Linux). It promptly recalculates that to
be 1,999MB and within about 90 seconds rebuilds the iPod disk partition, leaving a big chunk of space unallocated.
</p><p>
Here's where I get into trouble, because I'm a UNIX geek who is sure that
I can proceed without reading any darn manual or instructions. Yeah,
even Terra Soft expects this and has a note in the installation guide
(which I didn't read until afterward, of course) saying, &ldquo;User error
is common. Not because people lack intelligence, but because people are
smart and too determined to jump into their new operating system without
reading the Guide to Installation. Especially those of you who are Linux
Experts&mdash;you know who you are!&rdquo; Yeah, yeah, yeah.
</p><p>
Fortunately, the trouble ate up only time, and didn't corrupt
anything. Basically, although I figured that I simply could create one
partition that was all the available space, Disk Druid wouldn't let me
proceed without also creating an Apple Boot partition, and then, after I
figured that out (the Apple Boot partition is instead of ext3, and not the same as
the /boot mountpoint for an ext3 partition), it also insisted I create
a swap partition too.
</p><p>
More than once it complained, and I had to back up and resize the new
partition down, then create an additional partition, but, finally,
here's where I ended up (Table 1).
</p><div class="table"><a name="N0x191c580.0x1a14a28"></a><p class="title"><b>Table 1. Partition Breakdown
</b></p><table     summary="Table 1. Partition Breakdown&#10;" border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th>Partition</th><th>Size</th><th>File Type</th><th>Mountpoint</th></tr></thead><tbody><tr><td>sda3</td><td>2000MB</td><td>foreign</td><td>&nbsp;</td></tr><tr><td>
sda4</td><td>
1MB</td><td>Apple Bootable</td><td>&nbsp;</td></tr><tr><td>
sda5</td><td>125MB</td><td>swap</td><td>&nbsp;</td></tr><tr><td>
sda6</td><td>2596MB</td><td>
ext3</td><td>/</td></tr></tbody></table></div><p>
If you're paying attention, you'll see that the swap space is really
too small. You should have at least the same swap space as your physical
memory, and typically 1.5x is a better size for performance reasons.
Because
I have 756MB of RAM, that means I should have at least a 756MB swap
space. Oh well. I indicated that I was okay with a nonrecommended size
and proceeded anyway.
</p><p>
Elapsed time: 1 hour.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x191c580.0x1a15528"></a>
Basic Network Configuration and Installation</h2></div></div><p>
After dancing the Disk Druid dance for almost an hour, it was a
distinct pleasure to get to a prompt asking about DHCP and network
configuration. I picked all the basic defaults, except I skipped
configuring a firewall. It didn't like that, but let me proceed after
giving me a little lecture on system security.
</p><p>
As I originally chose a Personal Workstation configuration, it meant
that my default package set was X Window System + KDE + OpenOffice.org +
Mozilla + Evolution + IM tools + games. Not good. Why? Because my disk
partition was 367MB too small.
</p><p>
Going back to the proverbial drawing board, I started trying to pull out
individual applications, guessing how much each one would take of the
installation. It's amazing, really, after all these years, that Anaconda
doesn't indicate how big each package is when you're trying to navigate
through it. Instead, I piddled around removing Gaim (a multi-IM utility)
to save 41MB; XChat (an IRC client) to save 5MB; all the sound and video
applications (saving 57MB); all the graphics applications, including
The GIMP and ImageMagick (saving 100MB); and the KDE component kdegraphics
(saving 26MB). I attempted to re-install, and wouldn't you know it&mdash;still too big,
by 185MB.
</p><p>
As you might expect, this was pretty tedious. But when I dug around in
the Office Utilities area, I was amazed and delighted to see that the
support package openoffice.org-18n (a package with lots of localization
libraries for OpenOffice.org) was a whopping 668MB in size. Because I
didn't envision that I'd be editing documents in German, Hebrew or
Kanji, I happily deleted it and re-added all the individual apps I'd
deleted earlier. I even threw in kdegames, eating up 23MB, but hey,
who doesn't like games?
</p><p>
Finally, 75 minutes after I started the process, I actually was able
to proceed with the full installation. It took 18 minutes before I saw
&ldquo;installation finished&rdquo;, which I attribute to the fact that the iPod
firewire drive is slower to access than the internal hard drive in
the PowerBook.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x191c580.0x1a157e8"></a>
Reboot and Be Happy</h2></div></div><p>
I held down the OPTION key on the keyboard during the boot sequence to be
able to access the Yellow Dog Linux OS as an alternative to the Mac OS X on
my main PowerBook drive. After about 60 seconds of hunting for options,
it showed me both Mac OS X Tiger and Yellow Dog Linux. Eureka!
</p><p>
I selected YDL, clicked on the continue button (an arrow) and then was
in the yaboot program, where I pressed L for Linux and sat back. Lots
of status information scrolled past, including the information
that eth0 (the built-in Ethernet port) failed to initialize, which
made sense as I wasn't hooked up to a network. Otherwise, I was soon
looking at the attractive KDE login window, to which I typed in my new
user account information that I'd specified seconds earlier in the
first boot utility.
</p><p>
I then was prompted to select display specifics and was pleased to
see that one of the display manufacturers listed was Apple. Scrolling
down the long, detailed list, I found the right match: &ldquo;Apple Titanium
PowerBook G4&rdquo; and accepted the defaults for that display.
</p><p>
The next step was particularly satisfying, as it asked about audio hardware
configuration and worked with the default settings. Previously, when I had
installed an earlier version of YDL on the PowerBook, the audio subsystem
had failed, never to work again&mdash;a valuable upgrade by itself.
</p><p>
Once the setup was done for KDE, I was running in a full-blown Linux/KDE environment, with all the applications, utilities and games I could
want. It was fast, smooth and quite a delight to have a different
desktop and user environment on my system.
</p><p>
But, I wanted to test and ensure that everything still worked properly, so I
shut down YDL, and sat looking at a dark screen, realizing that there was
really no way to know when it had completed its shutdown. Fortunately,
I also was watching the iPod screen, and once the system finished shutting
down, the iPod switched from &ldquo;do not disconnect&rdquo; to an Apple
logo, and then
rebooted into iPod mode.
</p><p>
Indeed, the iPod works perfectly. All my audio files remained intact, and
now when I go to the System Information area on the iPod, it shows that
the storage capacity of the unit is 1.96GB rather than the earlier 5GB
value. Perfect!
</p><p>
Everything unplugged, I restarted the PowerBook and was gratified to
watch it quickly and easily restart in Mac OS X, without any indication
that I'd installed anything unusual, touched any hard drives or restarted
in a foreign OS just a few minutes earlier.
</p><p>
Success!
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x191c580.0x1a15c60"></a>
And in the End</h2></div></div><p>
Alright, it's geeky, but I think it's way cool to have an iPod that
can boot any G4 Mac into a full Linux work environment with only a few
keystrokes. If you need Linux functionality and don't want to touch your
existing Mac OS X systems, this can be a great solution, and you
don't even lose the functionality of your iPod along the way. Indeed,
a quick search on eBay shows that you can pick up one of these ancient
5GB iPod units for less than $60 US, on average.
</p><p>
There are some caveats about this installation, however, particularly
regarding the very latest iPod systems, which have a slightly different
filesystem. If you are going to proceed with this, don't follow my lead
but start on the Terra Soft site and read the hardware and configuration
notes. It'll save you a lot of heartache down the road.
</p></div></div>
<div class="authorblurb"><p>
Dave Taylor has been involved with the UNIX community since 1980 and
was the original author of The Elm Mail System. He's written 20
books, including <span   class="emphasis"><em>Teach Yourself Unix in 24 Hours</em></span> and
<span   class="emphasis"><em>Wicked Cool
Shell Scripts</em></span>. He invites all true Linux fans to visit his
Weblog at
<a href="http://www.askdavetaylor.com" target="_self">www.askdavetaylor.com</a>.
</p></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../146/toc146.html">Issue Table of Contents</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>