<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Best of Technical Support</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;    Our experts answer your technical questions.&#10;    "><meta name="keywords" content=""><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0x13b7580.0x14aeab0"></a>Best of Technical Support</h1></div><div><div class="author"><h3 class="author">Various</h3></div><div class="issuemoyr">Issue #96, April 2002</div></div><div><p>
    Our experts answer your technical questions.
    </p></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x13b7580.0x14af190"></a>RPM Won't Let Me Upgrade</h2></div></div><p>On a Red Hat system with RPM 4.0.3-1.03, it seems the options
--nodeps and --force don't prevent the system from checking
dependencies. Therefore, I am not able to update certain packages.
For example,</p><pre     class="programlisting">
rpm --nodeps --force -Uvh db3-3.2.9-4.i386.rpm
</pre><p>gives the error:
<pre     class="programlisting">
failed dependencies:
libdb-3.1.so is needed by pam-0.72-26
libdb-3.1.so is needed by sendmail-8.11.0-8
# rpm --nodeps --force -Uvh pam-0.75-14.i386.rpm
error: failed dependencies:
        libdb-3.2.so   is needed by pam-0.75-14
</pre>


My older versions of RPM used to work.
</p><p>&mdash;Yi Zhao,
<a href="mailto:yzhao2@yahoo.com">yzhao2@yahoo.com</a></p><p>I usually get rid of this kind of message by upgrading
everything in a single RPM call:</p><pre     class="programlisting">
rpm -Uvh -force --nodeps pam-0.75-14.i386.rpm
sendmail-XXX db3-3.2.9-4.i386.rpm
</pre><p>&mdash;Mario M. Bittencourt Neto,
<a href="mailto:mneto@buriti.com.br">mneto@buriti.com.br</a>
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x13b7580.0x14af5b0"></a>Checking Both /etc/hosts and DNS</h2></div></div><p>When I try to resolve a name that is not in DNS but is in my
/etc/hosts file, nslookup refuses to look at /etc/hosts. I want to
look at both /etc/hosts (first) and then dns. My /etc/nsswitch.conf
file has this:</p><pre     class="programlisting">
"hosts: files [NOTFOUND=continue] dns"
</pre><p>I have a mixed environment of UNIX platforms, and my other
UNIX boxes (HP-UX and Sun) work with this configuration. Can you
tell me what I am missing with my Linux setup?
</p><p>&mdash;Jim Booker,
<a href="mailto:jim.booker@verizon.com">jim.booker@verizon.com</a></p><p><span   class="bold"><b>nslookup</b></span> will not look at
/etc/hosts; this is normal behavior. The
<span   class="bold"><b>host</b></span> command will look at both,
however. The HP-UX and Sun nslookup command may have been modified
to function differently.</p><p>&mdash;Marc Merlin,
<a href="mailto:marc_bts@valinux.com">marc_bts@valinux.com</a></p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x13b7580.0x14af9d0"></a>USB Keyboard Stopped Working</h2></div></div><p>I have a Compaq Presario 5000 series PC, on which I've
installed a number of different systems, including Red Hat 7.1,
from which I'm writing this question. When I attempt to install Red
Hat 7.2, I am having a problem getting the installation procedure
to accept keyboard input. I have a USB Compaq Internet PC keyboard.
Has there been a regression in the installation procedure that
causes problems with USB keyboards? If so, is there a
workaround?</p><p>&mdash;Brian W. Masinick,
<a href="mailto:masinick@yahoo.com">masinick@yahoo.com</a></p><p>Try configuring your BIOS to provide &ldquo;Legacy Keyboard
Support&rdquo;.</p><p>&mdash;Christopher Wingert,
<a href="mailto:cwingert@qualcomm.com">cwingert@qualcomm.com</a></p><p>I see you are using Red Hat, but for those having the same
trouble using Mandrake, I have seen reports of Mandrake 8.1 having
a file /etc/sysinit/usb that requires the entry
KEYBOARD_AT_START=NO in order for Linux to work and function
correctly with a USB keyboard.</p><p>&mdash;Felipe E. Barousse Bou&eacute;,
<a href="mailto:fbarousse@piensa.com">fbarousse@piensa.com</a></p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x13b7580.0x14afd98"></a>SuSE Won't Boot, Red Hat Won't Display</h2></div></div><p>I installed a copy of SuSE, which uses LILO, on my Dell
Dimension L866r, and when I boot, I just get a bunch of 0s and 1s
flowing over my screen. I installed Red Hat 7.2 and it installed
GRUB, which worked. Unfortunately, 7.2 (like all Red Hats from 4.x
onward) can't handle my Nokia Multigraph 447x monitor. I sent an
e-mail to them, but they didn't respond.</p><p>&mdash;Jim Macdonald,
<a href="mailto:jimm@mediaone.net">jimm@mediaone.net</a></p><p>I think the simplest thing to do would be to use Red Hat 7.2
and set up the monitor modes manually. The mode information for
your monitor is located at
<a href="http://www.ibiblio.org/pub/linux/distributions/redmondlinux/redmond/build38/live/usr/share/hwdata/Monitors" target="_self">www.ibiblio.org/pub/linux/distributions/redmondlinux/redmond/build38/live/usr/share/hwdata/Monitors</a>.</p><p>&mdash;Christopher Wingert,
<a href="mailto:cwingert@qualcomm.com">cwingert@qualcomm.com</a></p><p>Chances are that LILO is having a BIOS geometry problem. Do
you have your BIOS set to some sort of geometry translation?
Usually this is called large disk support, or LBA mode. This will
bring the number of cylinders down to a lower number (hopefully
below 1,024 cylinders) and allow LILO to see the whole disk. If
this isn't possible, make sure that the partition on which your
kernel gets installed (/ or /boot depending on the distribution) is
all contained below 1,024 cylinders. This error also may mean that
LILO interpreted your disk geometry incorrectly. You may have to
tell LILO what your real geometry is, or you may need to give LILO
the &ldquo;linear&rdquo; option. Look at section 2.2 at
<a href="http://www.linuxdoc.org/HOWTO/mini/LILO-2.html" target="_self">www.linuxdoc.org/HOWTO/mini/LILO-2.html</a>
for more information.</p><p>&mdash;David Brown,
<a href="mailto:david@caldera.com">david@caldera.com</a></p><p>The page
<a href="http://www.geocities.com/SiliconValley/Peaks/3233/linux.html" target="_self">www.geocities.com/SiliconValley/Peaks/3233/linux.html</a>
has a link to an /etc/X11/XF86Config file running with a Nokia
Multigraph 447X as yours.</p><p>&mdash;Felipe E. Barousse Bou&eacute;,
<a href="mailto:fbarousse@piensa.com">fbarousse@piensa.com</a></p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x13b7580.0x14b0370"></a>You Can't Log in Now; Get a Life</h2></div></div><p>I have a couple of questions. First, how would you create a
backup user for root with the same privileges as root? Second, is
there a way to allow users to log in only within a specific time
frame? An example of this would be to allow a user to log in
between the hours of 6 <b  >A.M.</b> and 6
<b  >P.M.</b>, but not to allow logins outside of this
window.</p><p>&mdash;Jerry Fulkerson,
<a href="mailto:hrlinkin@aol.com">hrlinkin@aol.com</a></p><p>To add a second root account, edit /etc/passwd and
/etc/shadow (using vipw and vipw -s). In both files, duplicate the
line with root and change the name to backuproot.</p><p>&mdash;Marc Merlin,
<a href="mailto:marc_bts@valinux.com">marc_bts@valinux.com</a></p><p>Regarding control of login time, there are several ways of
doing it. Using the Pluggable Authentication Modules (PAM) system's
pam_time module is one of them, for instance. The file
/etc/security/time.conf could have the line:</p><pre     class="programlisting">
login;*;joe;Al0600-1800
</pre><p>This means the user joe is allowed to use the
service called login, from any terminal (*), all days (Al) only
during 06:00 and 18:00 hours. Be aware that this requires the
entry:</p><pre     class="programlisting">
login   account required   pam_time.so
</pre><p>on the PAM configuration file, which is usually at
/etc/pam.conf or alternatively, the file named login to be within
/etc/pam.d/ and containing:</p><pre     class="programlisting">
account required pam_time.so
</pre><p>A good PAM reference can be found at
<a href="http://www.kernel.org/pub/linux/libs/pam/Linux-PAM-html/pam.html#toc4" target="_self">www.kernel.org/pub/linux/libs/pam/Linux-PAM-html/pam.html#toc4</a>.
</p><p>&mdash;Felipe E. Barousse Bou&eacute;,
<a href="mailto:fbarousse@piensa.com">fbarousse@piensa.com</a></p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x13b7580.0x14b0a50"></a>I Have No DHCP and I Must Network</h2></div></div><p>Currently, I use Red Hat 7.0 on PCs in my computer
programming lab. These computers use DHCP to connect to the
building network and the Internet. Recently I attempted to upgrade
these machines to a stock version of Red Hat 7.2. I have been
unable to get computers to connect via DHCP. I have tried to
configure the card and networking using the various GUI tools but
have had no success.</p><p>&mdash;Bill Hummel,
<a href="mailto:hummelb@readingsd.org">hummelb@readingsd.org</a></p><p>Looks to me that you are having trouble connecting because of
two possible issues. First, you have not configured the DHCP client
to connect to the network. I just did it on a Red Hat 7.2 machine
by having the minimally configured file
/etc/sysconfig/network-scripts/ifcfg-eth0 for network interface
eth0 as:</p><pre     class="programlisting">
DEVICE="eth0"
BOOTPROTO="dhcp"
ONBOOT="yes"
</pre><p>This will provide enough information for the system
to boot up, and when starting networking facilities, to look for an
IP address provided by a DCHP server. Second, you probably set a
firewall or network filter that is not allowing DHCP to work
properly. Did you request a &ldquo;high&rdquo; security level when
installing? Just one time, get rid of the ipchains setup that Red
Hat 7.2 sets up by commenting all lines in /etc/sysconfig/ipchains
and then try step one.
</p><p>&mdash;Felipe E. Barousse Bou&eacute;,
<a href="mailto:fbarousse@piensa.com">fbarousse@piensa.com</a></p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x13b7580.0x18a9010"></a>What Does ./ Mean?</h2></div></div><p>When (and why) is it necessary to put ./ in the beginning of
a command line?</p><p>&mdash;Murray Zangen,
<a href="mailto:murray@nj.com">murray@nj.com</a></p><p>The ./ means current working directory. You need to put ./ in
front only when you want to run a program in the directory you are
in, and that directory is not in the PATH shell variable
($PATH).</p><p>&mdash;Usman Ansari,
<a href="mailto:uansari@yahoo.com">uansari@yahoo.com</a></p><p>The reason the current directory is not in the path is due to
security concerns. If an adversary installed a Trojan ls command in
the /tmp directory and you cd-ed into /tmp and typed
<b  >ls</b>, you would run the adversary's program. If
you really don't like having to type <b  >./</b>, place
the current directory at the *end* of your PATH shell variable,
this will make your file system surfing safer.</p><p>&mdash;Christopher Wingert,
<a href="mailto:cwingert@qualcomm.com">cwingert@qualcomm.com</a></p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x13b7580.0x18a9488"></a>Opening a File with filep_open</h2></div></div><p>I have created a configuration file stored in the directory
/etc. I have been trying to open this file from a C program without
success:</p><pre     class="programlisting">
struct file     *filp;
char *Filename = "/etc/pg.conf\0";
filp = filp_open(Filename,00,O_RDONLY);
if (IS_ERR(filp)||(filp==NULL))
        return;
</pre><p>Could someone advise me how to fix this?
</p><p>&mdash;Senthil,
<a href="mailto:senthil@singnet.com.sg">senthil@singnet.com.sg</a></p><p>I believe that you do not have the parameters correct to
filp_open(). Try</p><pre     class="programlisting">
filp = filp_open( Filename, O_RDONLY, 0 );
</pre><p>&mdash;Christopher Wingert,
<a href="mailto:cwingert@qualcomm.com">cwingert@qualcomm.com</a>
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x13b7580.0x18a9850"></a>Setting up a Video Conference</h2></div></div><p>Anyone done anything with web cameras under Linux? I have a
need to do some video conferencing with some people in the
US.</p><p>&mdash;Arnold Robbins,
<a href="mailto:arnold@skeeve.com">arnold@skeeve.com</a></p><p>Many Parallel/USB web cameras are supported by Linux. You
should pick a camera that you are interested in and search the web
to make sure that camera is supported under Linux. Check out
<a href="http://www.openh323.org/h323_clients.html" target="_self">www.openh323.org/h323_clients.html</a>
for video conferencing support.</p><p>&mdash;Christopher Wingert,
<a href="mailto:cwingert@qualcomm.com">cwingert@qualcomm.com</a></p><p>I guess the best for you would be to visit
<a href="http://www.linux-usb.org" target="_self">www.linux-usb.org</a>
(look for the Working devices list) and
<a href="http://www.freesoft.org/software/NetMeeting" target="_self">www.freesoft.org/software/NetMeeting</a>.
This HOWTO is about communicating between Microsoft Netmeeting and
Linux. Lastly, video and conferencing in Linux are evolving rapidly
and are subjects in constant improvement. These links may be good
initial references for you to begin with, as they were for some
people who just deployed a large Linux-based videoconferencing
system.</p><p>&mdash;Felipe E. Barousse Bou&eacute;,
<a href="mailto:fbarousse@piensa.com">fbarousse@piensa.com</a></p><p>Philips has a site for Linux-compatible cameras using USB:
<a href="http://www.smcc.demon.nl/webcam" target="_self">www.smcc.demon.nl/webcam</a>.
For conferencing, check out
<a href="http://www-nrg.ee.lbl.gov/vic/#overview" target="_self">www-nrg.ee.lbl.gov/vic/#overview</a>
and
<a href="http://www.gnomemeeting.org" target="_self">www.gnomemeeting.org</a>.</p><p>&mdash;Paul Christensen,
<a href="mailto:pchristensen@penguincomputing.com">pchristensen@penguincomputing.com</a></p></div></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../096/toc096.html">Issue Table of Contents</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>