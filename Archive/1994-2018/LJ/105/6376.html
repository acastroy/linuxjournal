<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>When I'm Calling You...on Video</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;    Have we finally reached one of the promises of the future?&#10;    GnomeMeeting presents a start.&#10;    "><meta name="keywords" content="video, phone, GnomeMeeting"><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0x26cf580.0x27c6ab0"></a>When I'm Calling You...on Video</h1></div><div><div class="author"><h3 class="author">Marcel Gagn&eacute;</h3></div><div class="issuemoyr">Issue #105, January 2003</div></div><div><p>
    Have we finally reached one of the promises of the future?
    GnomeMeeting presents a start.
    </p></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x26cf580.0x27c73f8"></a></h2></div></div><p>Do you remember <span   class="emphasis"><em>2001: A Space
Odyssey</em></span>, Fran&ccedil;ois? As we welcome 2003, I can't
help but think about all the promises that vision of the future
held, and it makes me a little sad, <span   class="emphasis"><em>mon ami</em></span>.
Ah, <span   class="emphasis"><em>merci</em></span>. The 1998 Rhone Hermitage is exactly
what I need. I realize that our guests will be here shortly,
Fran&ccedil;ois, but consider this. We have a space station, but
it's not quite the majestic wheel in space we see in the movie.
There's certainly no lunar base nor orbital hotel, but at least we
have this.
</p><p><span   class="emphasis"><em>Quoi</em></span>? Why it's a video phone,
Fran&ccedil;ois, and today, I will demonstrate it to our guests.
What did you say? Ah, but they are already here! Welcome once
again, <span   class="emphasis"><em>mes amis</em></span>, to <span   class="emphasis"><em>Chez
Marcel</em></span>, where fine Linux cooking meets fine wine,
<span   class="emphasis"><em>non</em></span>? Fran&ccedil;ois has your tables ready and
has already opened the wine.</p><p>From time to time, in this restaurant, we have offered up
recipes that make use of your webcam, from capture utilities to
home security. Today, we visit the webcam once again to bring you
something that was promised so many years ago. When I was but a
small child, it seemed that every television science-fiction
program was promising a video phone. Years passed, and while I have
seen such things demonstrated on television, my video phone
remained as distant as the faraway studios themselves.</p><p>Since opening this restaurant, I have had the pleasure of
discovering that many of my childhood dreams have become possible
when cooking with Linux. So it is for the video phone, or at least,
a passable incarnation of it: Damien Sandras' GnomeMeeting.
GnomeMeeting even will work with Microsoft Netmeeting so you can
talk to your friends running that company's OS. Finally, don't let
the name fool you. GnomeMeeting works extremely well with KDE and
docks nicely into the panel.</p><p>A number of distributions come with GnomeMeeting and the
required libraries (pwlib and openh323) on the CD, though not
necessarily installed. The
<a href="http://www.gnomemeeting.org" target="_self">www.gnomemeeting.org</a>
site does have packages for the major distributions (RPMs and DEBs)
as well as source. You should certainly look there first. OpenH323
depends on PwLib, so you will need to install that. On both my
Mandrake and Red Hat systems, I installed it using the RPMs. I
should point out that while you can build GnomeMeeting from source,
the OpenH323 libraries in particular can be difficult (not to
mention lengthy). If you can use the binaries for this one, I would
recommend it.</p><p>When starting GnomeMeeting for the first time, you'll be
presented with the First Time Configuration Druid. Part of this
process involves registering with the directory of GnomeMeeting
users&mdash;think of it as a large on-line telephone directory. You can
opt not to be listed by clicking the check box at the bottom of the
Druid's registration box. When you are happy with the information
you are presenting, click the Forward button to continue, and you
will be asked to specify the connection type you are using.</p><p>
<div       class="mediaobject"><a href="6376f1.large.jpg"><img src="6376f1.jpg"></a><div class="caption"><p>Figure 1. Setting up GnomeMeeting is a
breeze.</p></div></div>
</p><p>Click Apply on the final screen and GnomeMeeting fires up.
You can configure several options with the package by clicking Edit
on the menubar and selecting Preferences. You also can rerun the
Druid at any time. The first preference I set was under the Video
Devices section. When GnomeMeeting started up, I wanted the video
preview to be on and the video size set to large.</p><p>To place a call to another PC on my local LAN, I type
<b  >callto://192.168.22.2</b> on the GnomeMeeting
location field (right below the menubar). A little pop-up window
appears on the second PC warning the user of an incoming
connection. If you accept the connection, the two clients will be
able to communicate.</p><p>
<div       class="mediaobject"><a href="6376f2.large.jpg"><img src="6376f2.jpg"></a><div class="caption"><p>Figure 2. Ready to Call the World with
GnomeMeeting</p></div></div>
</p><p>Notice the button bar to the left in Figure 2. You can turn
your video or audio on and off, and you can bring up a chat window
for text message exchange. If you have a microphone, GnomeMeeting
will make use of that as well. In fact, GnomeMeeting will work
under a number of different configurations. You can run video only,
audio only, text only or any combination of the three modes. Of
course, it can be a little disconcerting to know that somebody out
there can see you, but you can't see them. <span   class="emphasis"><em>Mon
Dieu</em></span>! Now I definitely need a refill. Fran&ccedil;ois,
bring the wine. <span   class="emphasis"><em>Vite</em></span>!</p><p>When you run GnomeMeeting, make sure you turn on the control
panel. It opens up to a tabbed window in the application providing
support for audio and video controls as well as a history window.
This shows the status of calls, your registration with on-line
directories and other information and can be turned on or off at
any time without affecting the transmission. Figure 3 handily
displays a desktop with two sessions running (it would appear that
I managed to reach a <span   class="emphasis"><em>cat</em></span>).</p><p>
<div       class="mediaobject"><a href="6376f3.large.jpg"><img src="6376f3.jpg"></a><div class="caption"><p>Figure 3. Somebody Is Calling for
Dinner</p></div></div>
</p><p>On the space station, the call was a long-distance one: from
space to a little girl on Earth. While chatting inside our offices
is fine, what about the outside world? Who are you going to call?
The official telephone directory for GnomeMeeting is available at
<a href="http://ils.seconix.com" target="_self">ils.seconix.com</a>. In
order to browse the directory and find other users, you also must
be registered. Start GnomeMeeting, click on the directory icon to
the left, and search for another party&mdash;simple...almost.</p><p>You see, if you are running GnomeMeeting on your corporate or
home LAN, you should have no problems. The same holds true if you
are running it from a single machine connected to the
Internet&mdash;odds are this will work without a hitch. The catch,
<span   class="emphasis"><em>mes amis</em></span>, comes when you try to work from
behind a masqueraded (or NATed) firewall. The ports you need to
allow through are as follows:</p><pre     class="programlisting">
TCP ports 1720 and 30000 thru 30010
UDP ports 5000:5003
</pre><p>At this stage of the game, you can get into some reasonably
complex firewall issues. I'll get to that shortly, but there is a
simple approach called RSIP for Linux, a simple alternative to NAT.
RSIP is a relatively new protocol that, like NAT, allows you to
share a single connection between multiple clients. You can surf,
send e-mail and whatever else happens to fall into the range of
client services. You can also use it to redirect ports easily on a
single server behind the firewall without modifying the packets in
any way. The only way you can do that with NAT or masquerading is
with the use of loadable modules. These modules are, at best,
experimental when it comes to H323 and our old friend GnomeMeeting.
RSIP solves that problem, which doesn't mean you can throw away
your iptables&mdash;RSIP still makes use of them.
</p><p>Start by heading over to
<a href="http://openresources.info.ucl.ac.be/rsip/index.php" target="_self">openresources.info.ucl.ac.be/rsip/index.php</a>
and picking up the latest source. Prebuilt binaries are available
for some releases&mdash;if yours isn't there, never fear; this is an
easy build:</p><pre     class="programlisting">
tar -xzvf rsipd-0.9.3.src.tar.gz
cd rsipd-0.9.3
make
su -c "make install"
</pre><p>That's the server side. You need a client as well, and at
this time, there are two versions: one in Python and a kernel
module called krsip. At the time I prepared this menu, the module
was considered safe for testing, and the Python client was
considered stable. Building the module is simply a matter of
extracting the source and doing a <b  >make install</b>.
The catch is that only kernels 2.4.18 and 2.4.19 are supported. As
for the Python client, there's no building required.
</p><p>To use RSIP for GnomeMeeting, start by editing the
/etc/rsip/rsipd.conf file and modifying a few relevant parameters.
These are the eternal and internal interfaces of your firewall, as
well as a network pool to be served by the server. I've allocated
the first ten addresses on my internal 192.168.22.0 network:</p><pre     class="programlisting">
EXT_IF eth1
INT_IF eth0
POOL 192.168.22.1-10
</pre><p>Now, start the server using the script created by the
install:
<pre     class="programlisting">
/etc/init.d/rsipd start
</pre>


To use the Python client, execute the following (note that this is
one long, unbroken line. The IP address specified by the -s
parameter is that of the server):
<pre     class="programlisting">
python /path_to/rsipclient-0.19.py \
-d -v -s 192.168.22.10 \
-l 1720,5000,5001,5002,5003,30000,30001,30002,30003,
30004,30005,30006,30007,30008,30009,30010

</pre>


I should probably note that the client runs on the
<span   class="emphasis"><em>client</em></span> PC, <span   class="emphasis"><em>non</em></span>? You also
must run it as root. The beauty is that you can continue to use
your existing firewall (iptables) rules. Using the kernel module is
even easier. It requires only that you load it while specifying the
address of your server:
<pre     class="programlisting">
insmos krsip ip=192.168.22.10
</pre>


As a test, I brought up the ILS search window by clicking on the
icon to the left. This brings up the XDAP Server Browser where I
clicked Refresh, chose someone more or less at random and
double-clicked on the entry. Seconds later, I was chatting with
someone in Paris, France from my home in Canada.
</p><p>See, it is easy. You are now ready to share in the excitement
of video phone communication, and it is only two years late.</p><p>Once again, <span   class="emphasis"><em>mes amis</em></span>, closing time
approaches. At least this time, we will be able to chat via our
futuristic video phones (even if 2001 was two years ago now). The
future isn't what it used to be, wouldn't you agree? We'll talk
about this again in 2010. Before I bid you all
<span   class="emphasis"><em>Bonsoir</em></span>, Fran&ccedil;ois will refill your
wineglasses a final time. While you sip that last glass, let's see
who is awake in Finland, shall we? Until next month. <span   class="emphasis"><em>A
votre sant&eacute;</em></span>! <span   class="emphasis"><em>Bon
app&eacute;tit</em></span>!</p><p><a href="6376s1.html" target="_self">Resources</a></p></div></div>
<div class="authorblurb"><p><span   class="bold"><b>Marcel
      Gagn&eacute;</b></span> lives in Mississauga, Ontario. He is the
      author of Linux System Administration: A User's Guide (ISBN
      0-201-71934-7), published by Addison-Wesley (and is currently at
      work on his next book). He can be reached via e-mail at
      <a href="mailto:mggagne@salmar.com">mggagne@salmar.com</a>.</p></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../105/toc105.html">Issue Table of Contents</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>