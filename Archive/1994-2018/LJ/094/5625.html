<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>NLE Video Editors</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;    Robin takes a look at six Linux video nonlinear editing&#10;    (NLE) sofware packages: Broadcast 2000, Crow, Kino, LVE,&#10;    MainActor and Trinity.&#10;    "><meta name="keywords" content="Broadcast2000, Crow, Kino, LVE, MainActor, Trinity"><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0x22aa580.0x23a1ab0"></a>NLE Video Editors</h1></div><div><div class="author"><h3 class="author">Robin Rowe</h3></div><div class="issuemoyr">Issue #94, February 2002</div></div><div><p>
    Robin takes a look at six Linux video nonlinear editing
    (NLE) sofware packages: Broadcast 2000, Crow, Kino, LVE,
    MainActor and Trinity.
    </p></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x22aa580.0x23a2710"></a></h2></div></div><p>In alphabetical order, we evaluate
Broadcast 2000, Crow, Kino, LVE, MainActor and Trinity. Except for
MainActor, all are open-source software. Especially intriguing are
Kino, a highly regarded DV editor that just released a new version,
and LVE, a little-known German-made MPEG editor.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x22aa580.0x23a2818"></a>Broadcast 2000</h2></div></div><p>Broadcast 2000 has been removed by the developer from its
main web site, making some think that it is no longer exists, but
video systems integrator Linux Media Arts (LMA) still offers it.
LMA President Mike Collins says, &ldquo;We want to continue development
of Broadcast 2000, both as a free, open-source project and as
bundled commercial software with provided support.&rdquo; Collins says
he is trying to arrange putting Broadcast 2000 on
<a href="http://www.sourceforge.net" target="_self">SourceForge.net</a>,
but until then, anyone may contact him directly about downloading
it. Broadcast 2000 is available as an RPM or a source
tarball.</p><p>
<div       class="mediaobject"><a href="5625f1.large.jpg"><img src="5625f1.jpg"></a><div class="caption"><p>The Broadcast 2000 video editor, based on QuickTime,
offers many advanced features including effects using the
GIMP.</p></div></div>
</p><p>Broadcast 2000 was featured in the January 2001 issue of
<i  >Linux Journal</i> [see Adam Williams' article
&ldquo;Moviemaking on a Linux Box? No Way!&rdquo;]. Our installation is a
little different because our distribution isn't Red Hat, but
Debian. Let's convert the Red Hat-compatible RPM into a Debian deb
(Listing 1).</p><p><a href="5625l1.html" target="_self">Listing 1. Converting the Red
Hat-Compatible RPM into a Debian deb</a></p><p>Alien works well at converting RPM archives into deb format,
but it doesn't find shared libraries that are in nonstandard
locations (note the warning from Alien that it can't find
libbcbase.so). You will need to remember that after installing the
deb with dpkg. Once Broadcast 2000 is installed, search for the
lost DLL and add its directory path to your ld.so.conf. Then run
<b  >ldconfig</b> to update the runtime linker settings.
Otherwise, the program won't run because it won't be able to find
its shared libraries.</p><p>Broadcast 2000 record formats include WAV, PCM, QuickTime and
JPEG image sequence. The supported QuickTime (MOV) types are JPEG
photo, motion JPEG A, PNG, PNG with alpha, uncompressed RGB,
uncompressed RGBA, YUV 4:2:0 planar and YUV 4:2:2 packed. That's a
lot of formats, but they aren't as compatible with other tools and
operating systems as you might expect.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x22aa580.0x23a2df0"></a>Crow</h2></div></div><p>Crow is a project by Eric Fry in Australia. Although only an
alpha version, we still were curious to try Crow. It is only
available for download via the CVS version control system.</p><p>
<div       class="mediaobject"><a href="5625f2.large.jpg"><img src="5625f2.jpg"></a><div class="caption"><p>Crow's developer says it is too incomplete to use,
but we learned a lot about configuring and compiling alpha projects
in the process of building it.</p></div></div>
</p><p>Our Linux box is on a Windows network behind a Windows
firewall with Cox cable modem. We would have to configure our
firewall to pass CVS. Using Telnet we checked that we could reach
SourceForge.net CVS port 2401 manually. We then created a 2401 TCP
wrapper in WinGate on our SOHO firewall machine (named gap). Our
TCP wrapper was set to point to cvs.Crow.sourceforge.net.</p><p>Attempting a CVS login from my Linux box (tbird)
failed&mdash;something about .cvspass not being configured correctly on
that machine. However, we were able to do a CVS checkout. That was
all we actually needed.</p><pre     class="programlisting">
cvs -z3 -d:pserver:anonymous@gap:/cvsroot/crow co crow
</pre><p>If we hadn't been drilling through our firewall, the CVS
command would have specified cvs.Crow.sourceforge.net rather than
gap.
</p><p>Crow objected that it had the wrong libtool ltconfig version,
but we fixed that with libtoolize:</p><pre     class="programlisting">
libtoolize --force
aclocal
./configure
make
</pre><p>No dice&mdash;the Crow make failed because an include file
couldn't find gtk/gtk.h. The Makefiles didn't have the paths
configured in a generic way to point to the GTK++ GUI headers, and
our GTK++ files were installed in a different directory. This
called for a little autoconf surgery. We added GNOME_INIT to
configure.in so it would emit the GTK_CFLAGS and GTK_LIBS
variables. Then we substituted those variables, e.g.,
$(GTK_CFLAGS), in 14 different Makefile.am files used by Crow.
After regenerating the configure file, Crow built. Bingo, we got
it!
<pre     class="programlisting">
aclocal
autoconf
./configure
make
ulimit -c unlimited
./app/crow
</pre>


We didn't do a <b  >make install</b> of Crow because the
INSTALL file had warned us not to. We set ulimit to be able to
generate core files if we had a crash. And, when we ran Crow it
immediately crashed with a segmentation fault. Let's debug that
using the gdb debugger:
<pre     class="programlisting">
gdb app/.libs/lt-crow core
&gt; bt
</pre>


Because ./app/crow is a script, we had to figure out the actual
name of the executable to load in gdb. Running a backtrace
(<b  >bt</b>) to examine the function stack didn't do us
any good at this point because there was no debug information in
our build. We first would have to rebuild with debug enabled:
<pre     class="programlisting">
make clean
make -e ?CC=gcc -g?
</pre>


Now we could load gdb again and see the relevant call stack and
source code. That immediately revealed that the crash was due to a
null pointer variable dir in app/plug_in.c on line 275. We simply
inserted a line there to return from the function before using the
variable if it was 0:
<pre     class="programlisting">
if(!dir) return 0;
</pre>


Crow is very much an alpha and too incomplete for use. Fry says
that his files on SourceForge.net are an old version and that he is
planning to rewrite it. He wants to talk with others interested in
designing an editing application for Linux from the ground up.
&ldquo;I'd like to have a fully featured editor capable of doing
real-world editing tasks like 3:2 pull-down, EDL output database
clip management and HD playback&rdquo;, says Fry.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x22aa580.0x23a3580"></a>Kino</h2></div></div><p>Kino is a simple cuts-only DV editor. Kino just released
version 0.50, a major new release. To install Kino, you first must
install many drivers. That, and installing some of the many other
DV-related programs available, makes for a rather involved
process.</p><div       class="mediaobject"><img src="5625f3.jpg"><div class="caption"><p>
Kino, a popular Linux editor for DV, just released a new version.
</p></div></div><p>The instructions recommend using the latest kernel to get the
best IEEE 1394 FireWire DV support. Using <b  >make
xconfig</b>, we were puzzled at first that the IEEE 1394
options were grayed out and couldn't be selected. In configuring
our 2.4.14 kernel, we first had to select the code maturity menu
option to enable the 1394 menu.</p><p>The following drivers were next: libavc1394-0.3.1.tar.gz,
libdc1394-0.8.3.tar.gz, libraw1394_0.9.0.tar.gz,
libdv-devel-0.9-1.i386.rpm and libdv-0.9-1.i386.rpm.</p><p>For tarballs, let's follow the standard procedure:</p><pre     class="programlisting">
tar xvfz libdc1394-0.8.3.tar.gz
cd libdc1394-0.8.3
./configure
make
su
make install
</pre><p>Those that came as RPMs we installed using Alien. If you
build libdv from the tarball you will need to install pkg-config
first to run configure successfully.
</p><p>The libraries include some simple tools. Included with
libraw1394 is testlibraw. Let's start with that to see if it
detects our FireWire cards. We have two FireWire PCI cards in our
Athlon PC, a PYRO card and a no-name FireWire card included with
our FireWire scanner. Both are OHCI-compliant, and detect properly.
However, we had to <b  >chmod</b> the device to gain
permissions access for ordinary users.</p><pre     class="programlisting">
chmod 666 /dev/raw1394
./src/testlibraw
  successfully got handle
  current generation number: 3
  2 card(s) found
    nodes on bus:  1, card name: ohci1394
    nodes on bus:  1, card name: ohci1394
  using first card found: 1 nodes on bus,
    local ID is 0, IRM is 63
  ,
  ,
  ,
</pre><p>The libavc1394 romtest program enumerates the ROM information
of any attached FireWire device. It correctly detects our Sony TRV8
DV camcorder.
</p><p>Included with libavc1394 is dvcont, a remote control for DV
camcorders. When using dvcont the first time, specify
<b  >dvcont help</b>, so you know what the commands are.
If dvcont can't find its drivers, it exits immediately and won't
even display help. You may need to <b  >modprobe</b>
video1394 and raw1394. With no command specified, dvcont does
nothing. With your camcorder in play mode, executing
<b  >dvcont stop</b> causes the camcorder to stop. There
are similar commands for the other camcorder functions.</p><p><a href="5625l2.html" target="_self">Listing 2. modprobe</a></p><p>Included with libdv are playdv and encodedv, but both died
with segmentation faults. These are supposed to play or encode a
.dv file.</p><p>Here are some of the many available DV programs that may be
useful: dvgrab-1.01.tar.gz, gscanbus-0.6.tgz and
gstreamer-0.2.1.tar.gz.</p><p>We couldn't build coriander or gscanbus.
<span   class="bold"><b>gstreamer</b></span> built, although it took
a long time and then died with a segmentation fault. The tool we
really wanted from this set was dvgrab, so we could do a console
test of DV capture. Since it didn't prevent us from using Kino, we
didn't stop to investigate why we had problems with some of the DV
tools.</p><p>The dvgrab utility will copy a video playing on your
camcorder to your PC. It has no device control, which means if the
camcorder isn't in play mode, dvgrab simply waits. If no FireWire
DV stream is detected it won't do anything.</p><pre     class="programlisting">
dvgrab --frames 30 test
ls -l test*
  -rw-r--r--    1 rower    rower
  2471424 Nov 17 17:27 test001.avi
</pre><p>We grabbed a second of video as a test. It was saved by
dvgrab as a DV stream wrapped in the AVI transport. Arne
Schirmacher created dvgrab and Kino.
</p><p>We initially built the 0.46 version of Kino
(kino-0.46.tar.gz), but 0.5 was released during our evaluation
(kino-0.5.tar.gz). At first we had a problem building Kino because
<span   class="bold"><b>configure</b></span> couldn't find
gnome-config. That seemed odd since we had GNOME installed (on
Debian Sid). Doing a search for it in dpkg should report
gnome-config in libgnome-dev (as shown below), but we came up
empty.</p><pre     class="programlisting">
dpkg -S gnome-config
  libgnome-dev: /usr/include/libgnome/gnome-config.h
  libgnome-dev: /usr/bin/gnome-config
  libgnome-dev: /usr/share/man/man1/gnome-config.1.gz
</pre><p>Kino developer Dan Dennedy suggested that we install Ximian
GNOME because that is his configuration. So we added a link to our
sources.list and installed it:
<pre     class="programlisting">
vi /etc/apt/sources.list
deb http://red-carpet.ximian.com/debian stable main
.
.
.
apt-get update
apt-get install task-ximian-gnome
</pre>


Installing Ximian created massive conflicts with already-installed
GNOME components. We had to uninstall many packages that were
reported broken by apt-get. It was actually a lot more effort, but
the example shown here represents the gist of the process.
Surprisingly, it was the GNOME GTK docs that seemed to have our
install the most wedged. Eventually we got Ximian installed as well
as the Ximian GNOME development libraries. Kino built without a
problem.
<pre     class="programlisting">
dpkg -r libgnome-dev
apt-get build-dep libgtk1.2-dev
dpkg -r libgtk1.2-doc
apt-get -f install
apt-get install libxml2
</pre>


Kino is based on a metaphor of the vi command set. Commands for
lines, words and characters become movies, clips and frames. Use
<b  >d0</b> to set an in-point and <b  >d$</b>
to set an out-point.
</p><p>Dennedy says, &ldquo;The new version of Kino is a major rewrite,
with new user interface, no multiple-floating windows and a
storyboard view more like iMovie. You'll notice greater consistency
in interface.&rdquo; Dennedy says the Kino team has a new developer,
Charles Yates, who was the major force on version 0.5.</p><p>Dennedy notes that the Kino EDL is in XML SMIL format, and
that sound support is based on the OSS interface. Because most
sound cards don't support multiple opens, esound is only supported
with the SBLive! card. The Contour ShuttlePro USB controller ($125)
provides a convenient device to control Kino, bypassing the
vi-based interface. Kino supports XVideo for better preview
performance, but we had to turn that feature off because the
preview window became stuck in place permanently on our desktop.
That seems to be due to our having installed the wrong version of
the ati.2 driver, and not a problem with XVideo generally.</p><p>Kino can handle DV1 or DV2 AVI files, but not raw DV files
(.dv). The format you choose affects compatibility with other
tools. Dennedy explains, &ldquo;Windows Media Player (WMP) and Linux
Avifile will play DV2 AVI format, provided the Microsoft DLL is
installed. That's called qdve.dll. MPlayer also can play those but
requires adding a line to its configuration file.&rdquo; Dennedy notes
that WMP also can handle DV1 AVI. He says MainActor can handle DV
but has no DV camcorder I/O.</p><p>Tools such as dv2jpeg can help you move between formats.
Dennedy adds, &ldquo;mjpegtools can read DV AVI to create a VCD;
mjpegtools has support for MPEG-1 VCD and MPEG-2 SVCD. Kino will
soon export MPEG-1 and MPEG-4 formats based on FFmpeg, but FFmpeg
is currently lacking MPEG-2.&rdquo; And, mjpegtools can split off the DV
audio. The tool transcode will convert DV AVI to OpenDivX.</p><p>Dennedy is excited that Kino now supports DV export back to
the camcorder. He says Kino is the only DV application to offer
that besides the libdv console program. Kino doesn't offer a
logging mode, and Dennedy doesn't expect it will soon. He says that
feature isn't as interesting to the team as adding effects and that
a new dv1394 driver is in development that will provide scrub
preview in the TV monitor. He also says Kino MPEG export is coming
but has no plans to integrate with Film GIMP.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x22aa580.0x279c6f0"></a>LVE</h2></div></div><p>Linux Video Editor (LVE) developer Gerhard Monzel says, &ldquo;The
intended purpose was cutting MPEGs and to encode to (S)VCDs.&rdquo;
Monzel works at SAP as systems administrator in St. Ingbert,
Germany. The LVE documentation is all in German. &ldquo;LVE is based on
some freeware libraries: libmpeg3 to seek and decode MPEG and
libsdl as base of my GUI&rdquo;, says Monzel. &ldquo;The rest is self-made.&rdquo;
He says many MPEG formats are supported (MPEG-1 and MPEG-2)
including VOB and IFO, but not DVB. His GUI design was influenced
by Pinnacle Studio MP10.</p><div       class="mediaobject"><img src="5625f4.jpg"><div class="caption"><p>
LVE is a German-made MPEG editor intended for making (S)VCDs.
</p></div></div><p>LVE is cuts-only&mdash;no effects and no titles. Note that whether
the source material is PAL or NTSC, the output is always PAL. NTSC
sources must be processed with sox to correct the framerate
changing the audio pitch. LVE has no install procedure. The tarball
must be extracted in the root directory:</p><pre     class="programlisting">
cd /
tar xvfz /install/public/nle/lve/
lve_bin-31-10-01.tar.gz
ls /usr/local/lve/bin
  bbainfo  bbinfo   bbvinfo  ffmpeg_lve
  gensmart  lmp  mplex  toolame
  bbdmux   bbmplex  encode   genmpg
  gensvcd   lve  qdir
chmod 666 /usr/local/lve/lib/SystemFont.bmp
./lve
</pre></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x22aa580.0x279ca60"></a>MainActor</h2></div></div><p>MainActor is the only closed-source application we looked at.
We installed it from RPM using Alien, following much the same
procedure as with Broadcast 2000.</p><p>
<div       class="mediaobject"><a href="5625f5.large.jpg"><img src="5625f5.jpg"></a><div class="caption"><p>MainActor is a shareware editor with Linux and
Windows versions.</p></div></div>
</p><p>MainActor can title (2-D and 3-D text) and edit movies. It
offers video transitions and audio effects. The evaluation version
writes &ldquo;MainActor&rdquo; on your video until you purchase a registered
copy. MainActor includes the following programs: maseq (NLE), mave
(animation converter), macap (V4L MJPEG capture) and lmatool
(console video file converter). The documentation is in
/usr/share/doc/Packages/MainActor.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x22aa580.0x279cdd0"></a>Trinity</h2></div></div><p>Trinity editor and maintainer Chris Hardy says it has
rudimentary MPEG and audio support. Trinity can understand
sequences of image frame files, too. &ldquo;The source code hasn't been
touched in two years&rdquo;, says Hardy. &ldquo;I haven't heard from the
developer in a while and the project has been in limbo.&rdquo; The GUI
is one thing Hardy likes about Trinity.</p><div       class="mediaobject"><img src="5625f6.jpg"><div class="caption"><p>
Trinity is in search of a developer to lead and rename this
project.
</p></div></div><p>There were several minor compilation errors that we fixed
while building Trinity 0.5 and one serious one. We sent the
corrections to Hardy. Because of a conflict with a commercial
product, Trinity must be renamed, and Hardy would like a developer
interested in working on an NLE to join the project so it can go
forward.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x22aa580.0x279d0e8"></a>Conclusion</h2></div></div><p>Computers present a great advantage in editing movies because
they can easily edit out of sequence or remove or add a
scene&mdash;that's why it's called nonlinear editing. Nonlinear editors
are used to edit video sequences to create television shows and
motion pictures.</p><p>In examining Broadcast 2000, Crow, Kino, LVE, MainActor and
Trinity, we've looked at some of the video tools available in
Linux, but hardly all of them. FFmpeg, GAnSO, Gnonlin, Jahshaka,
Linux Video Studio, matterial, mpgtx, mpegcut and SAMPEG-2 present
more choices.</p><div       class="mediaobject"><img src="5625f8.jpg"><div class="caption"><p>
Jahshaka, a special effects compositor, has both Linux and Windows
versions based on OpenGL.
</p></div></div><p>Two commercial (expensive) tools that we will be evaluating
in the future are Nothing Real Shake and Silicon Grail RAYZ. These
are used to add special effects to many Hollywood motion pictures.
There is just one major open-source tool that is used in major
motion pictures and that is Film GIMP, used in <span   class="emphasis"><em>Harry
Potter</em></span>, <span   class="emphasis"><em>Cats &amp; Dogs</em></span>,
<span   class="emphasis"><em>Lord of the Rings</em></span> and more. We'll take a look
at Film GIMP next time.</p><p><a href="5625s1.html" target="_self">Resources</a></p></div></div>
<div class="authorblurb"><p>
       email: <a href="mailto:Robin.Rowe@MovieEditor.com">Robin.Rowe@MovieEditor.com</a>
       </p><p><span   class="bold"><b>Robin
      Rowe</b></span>
      (<a href="mailto:robin.rowe@movieeditor.com">robin.rowe@movieeditor.com</a>)
      is a partner in MovieEditor.com, a technology company that creates
      internet and broadcast video applications. He has written for
      <span   class="emphasis"><em>Dr. Dobb's Journal</em></span>, the <span   class="emphasis"><em>C++ Report</em></span>, the
      <span   class="emphasis"><em>C/C++ Users Journal</em></span> and <span   class="emphasis"><em>Data Based
      Advisor</em></span>.</p></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../094/toc094.html">Issue Table of Contents</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>