<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>
Introducing Grive
</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;An independent open-source implementation of Google Drive&mdash;up in the&#10;cloud.&#10;"><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0x1942580.0x1a39ac0"></a>
Introducing Grive
</h1></div><div><div class="author"><h3 class="author">
Mehdi
 Poustchi 
Amin
</h3></div><div class="issuemoyr">Issue #224, December 2012</div></div><div><p>
An independent open-source implementation of Google Drive&mdash;up in the
cloud.
</p></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1942580.0x1a3a2a8"></a></h2></div></div><p>
Earlier this year, Google introduced its Google Drive cloud storage service. 
Cloud storage is
a model of networked on-line storage where data is stored in virtualized
pools of storage that third parties generally host. Hosting companies
operate large data centers, and people who require hosting buy
or lease storage capacity from them. The data-center operators, in the
background, virtualize the resources according to their customers' requirements
and expose them as storage pools, which the customers
themselves can use to store files or data objects. Physically, the
resources
may span across multiple servers.
</p><p>
A Web service application programming interface (API) accesses cloud
storage services through a cloud storage gateway or through a Web-based
user interface. Google Drive is a place where you can create, share,
collaborate and keep all of your stuff. You can upload and access all
of your files, including videos, photos, Google Docs, PDFs and more.
</p><p>
The advantage of the Google Drive is that it could become your centralized
storage vault for all your documents in the cloud. It lets you create
and collaborate in the same way as Google Docs did.
</p><p><span   class="bold"><b>
1) Create and collaborate:</b></span>
</p><p>
Google Docs is built right in to Google Drive, so you can work with others
in real time on documents, spreadsheets and presentations. Once you
choose to share content with others, you can add and reply to comments on
anything (PDFs, images, video files and so on) and receive notifications when
other people comment on shared items. You can upload up to 30 different
file extensions, which many other cloud services don't allow.
</p><p>
<span   class="bold"><b>
2) Store everything safely and access it anywhere (especially while on the
go):</b></span>
</p><p>
Synchronization is one of the coolest things ever. When you use a
synchronizing storage product, like Google Drive, any file you put
in the drive, and anything you change that's stored in the drive, is
updated automatically&mdash;not just in the cloud but on all the other devices
that you have connected to the Drive. So you can start working on a
file on one computer, close it and then open it on a second computer,
and what you'll see is the version you closed on the first one. You can
access your stuff from anywhere&mdash;on the Web, in your home, at the
office or 
while running errands, from all of your devices.
You can install Drive on your Mac or PC and can download the Drive app
to your Android phone or tablet.
And regardless of platform, blind users can access Drive with a screen
reader.
</p><p><span   class="bold"><b>
3) Search everything by keyword and filter by file type, owner and
more:</b></span>
</p><p>
Drive even can recognize text in scanned documents using Optical Character
Recognition (OCR) technology. Let's say you upload a scanned image of an
old newspaper clipping. You can search for a word from the text of the
actual article. Drive uses image recognition so that if you drag and drop
photos from your Grand Canyon trip into Drive, you later can search for
&ldquo;Grand Canyon&rdquo;, and photos of it should pop up. This technology
is still in its early stages, and it's expected to improve over time.
</p><div       class="mediaobject"><a href="11313f1.large.jpg"><img src="11313f1.jpg"></a><div class="caption"><p>
Figure 1. Google Drive on a Mac, PC and Android Phone or Tablet
</p></div></div><p><span   class="bold"><b>
4) Get your old files:</b></span>
</p><p>
Drive keeps a copy of every file you edit on it. It also tracks changes
on documents and keeps revision copies of up to 30 days or the last
100 revisions.
</p><p><span   class="bold"><b>
5) Easy sharing to Google+:</b></span>
</p><p>
Backing up photos is one of the most popular uses of cloud storage
services, and with that in mind, it's no surprise to see that Google
has made it easy for Google+ users to share images from its new Google
Drive service. Google has integrated the two services to allow Google
Drive users
to share photos from the cloud service to Google+ from
within the social network itself.
</p><p>
Google's new cloud storage solution features 5GB of free space. If
you have never used a cloud-based storage service like Google Drive
before, take a moment to consider the advantages of keeping your files
on-line. Because files can be accessed from any computer with an Internet
connection, Drive eliminates the need to e-mail or save a file to a USB
drive. And because Drive allows you to share files, working with others
becomes easier than ever before.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1942580.0x1a3acf8"></a>
Google Drive and Privacy</h2></div></div><p>
Google's biggest problem with the Google Drive privacy policy is that
there isn't actually a specific Google Drive privacy policy&mdash;there's
just Google's new unified term of service and privacy policy.
Google states, &ldquo;You retain ownership of any intellectual property rights
that you hold in that content. In short, what belongs to you stays
yours.&rdquo;
</p><p>
That means Google can't use your content for commercial purposes
without your consent. However, the term of service also states:
</p><div class="blockquote"><blockquote class="blockquote"><p>
You give
Google (and those we work with) a worldwide license to use, host, store,
reproduce, modify, create derivative works (such as those resulting from
translations, adaptations or other changes we make so that your content
works better with our Services), communicate, publish, publicly perform,
publicly display and distribute such content. The rights you grant in
this license are for the limited purpose of operating, promoting, and
improving our Services, and to develop new ones.
</p></blockquote></div><p>
For content that is yours, Google can't re-use it for its own
purposes, but it can use content you upload in order to serve you. This
can include integrating services together (like reading your scanned
pictures in order to OCR them), and it can include analyzing your files
to target advertisements to you. Google already does this in Gmail.
</p><p>
Google doesn't currently serve ads in Google Docs (now called Google
Drive), but it may, according to its license agreement, use data about
the content you upload to target ads to you anywhere on the service.
</p><p>
Google also may give up your data in response to a legal demand, like
a subpoena. If you want your cloud storage to be a little more out of
touch, you might be interested in Wuala, which has no storage servers
in the United States. Or, you might just want to keep your data off the
Internet.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1942580.0x1a3b068"></a>
Google Drive and Security</h2></div></div><p>
Google Drive encrypts data between your computer and the Google
servers. If you're using your Google Drive over the Web, the connection
defaults to secure (HTTPS), and when you use the software that makes
your Google Drive appear on your computer like a local hard drive, the
data between your computer and Google is likewise encrypted. No casual
hacker will be able to grab your files by monitoring or intercepting your
Internet connection to Google. Your data also is stored under lock and
key at Google itself, but it is not encrypted on the Google servers. You
will have to encrypt your own files ahead of time. A Google rep explained
why: encrypting files stored at Google would prevent you from previewing
them on the Web, and it also would prevent services like Google Goggles
and its OCR engine from accessing files on your behalf. (I presume
it also would prevent Google's ad-serving algorithms from scanning your
data to serve you more targeted messages, and this is how Google makes
its money.)
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1942580.0x1a3b1c8"></a>
Linux Installation</h2></div></div><p>
If you install the Google Drive client app for your Windows or Mac PC,
you can sync all your on-line Google Docs to your computer. You can
be selective with your syncing&mdash;sync Google Docs, all of My Drive or
individual folders, and items in Shared with me.
</p><p>
But for all the celebration, there is something missing: a Linux
client. The Google Drive client is not yet available for Linux, and the old
Google Docs FS does not work too well with Google Drive, so besides
the Web interface, the best solution for getting Google Drive on Linux right
now is using Grive, an unofficial, open-source, command-line Linux client
for Google Drive. Grive has been put together by a third-party developer,
and it looks quite nice. Thanks Google for making Drive an open platform.
</p><p>
The purpose of Grive Project is to provide an independent implementation
of the Google Drive client. It uses the Google Document List API to talk to
Google's servers. The code is written in standard C++.
</p><p>
As of version 0.2.0, Grive can do two-sided synchronization
between Google Drive and the local directory. It can download and upload
changed files. New directories in Google Drive and the local directory also can
be downloaded/uploaded. It cannot yet do the following:
</p><div class="itemizedlist"><ul type="disc"><li><p>
Wait for changes in the filesystem to occur and upload the files
afterward. Sync is performed only when you run Grive.
</p></li><li><p>
Symbolic link support.
</p></li><li><p>
Sync all files/folders with multiple parents and download Google Documents.
</p></li><li><p>
Support for files &gt;2GB.
</p></li></ul></div><p>
Those things will be added in the future, possibly during the next release.
</p><p>
At the time of this writing, you easily can install Grive in Ubuntu 11.10 or
later using the following commands:


<pre     class="programlisting">
system :~$ sudo add-apt-repository ppa:nilarimogard/webupd8
system :~$ sudo apt-get update
system :~$ sudo apt-get install grive
</pre>
</p><p>
On other Linux distributions, the installation is a little involved,
as a Grive package is not yet available. You can compile it from source.
</p><p>
Grive source code is available at GitHub if you want to tinker with it. Setup is a bit of a pain right now, and it requires some command-line work,
which is not uncommon in Linux.
But, I am here to show you how to install it on RPM-based Linux (CentOS,
Fedora and Red Hat).
</p><p>
For starters, you need a dedicated machine or virtual server, as well
as a reliable Internet connection.
</p><p>
In this scenario, let's use CentOS. As you may know,
CentOS is an enterprise-class Linux distribution derived from sources
freely provided to the public by the Upstream OS Provider (<a href="http://www.redhat.com/rhel" target="_self">www.redhat.com/rhel</a>).
</p><p>
I strongly recommend using CentOS 6.0, because CentOS 6.0 has
been completely rebuilt with a newer build system and library checks
to confirm upstream binary compatibility.
It also brings a new kernel, new versions of key server components
and improved virtualization support.
</p><p>
Before you install Grive, you need to do some preparatory work.
Note: all the following commands must be run as root.
</p><p>
First, update your CentOS. This is optional, but I strongly recommend it.
Run the yum command:

<pre     class="programlisting">
[root@system ~]# yum update 
</pre>
</p><p>
Next, disable SELINUX, and simply edit the /etc/selinux/config file:

<pre     class="programlisting">
[root@system ~]# vi /etc/selinux/config
</pre>
</p><p>
Then add a line like:

<pre     class="programlisting">
SELINUX=disabled
</pre>
</p><p>
Now, you need to enable an extra repository, ATrpms.
</p><p>
ATrpms is a third-party RPM repository. Its original focus was upon
software used in natural sciences, especially in the field of high-energy
physics, such as tools for numerical programming or for scientific
publications. Since then, this repository includes many non-scientific
software titles, like system tools or multimedia packages, resulting
in a far more generic repository. Currently, packages are built only for
Red Hat Linux flavors.
</p><p>
Install and enable ATrpms in CentOS by running the following commands:


<pre     class="programlisting">
[root@system ~]# cd /tmp
[root@system ~]# wget http://packages.atrpms.net/RPM-GPG-KEY.atrpms
[root@system ~]# wget http://dl.atrpms.net/el6Server-i386/atrpms/
&#8618;stable/atrpms-repo-6-5.el6.i686.rpm  
[root@system ~]# rpm --import RPM-GPG-KEY.atrpms
[root@system ~]# rpm -ivh atrpms-repo-6-5.el6.i686.rpm
</pre>
</p><p>
Next, you must run the following commands to install the required packages:

<pre     class="programlisting">
[root@system ~]# yum install automake autoconf  \
openssl openssl-devel json-c json-c-devel curl \ 
curl-devel libcurl-devel libcurl libarchive \
libarchive-devel libidn libidn-devel expat \
expat-devel binutils binutils-devel
</pre>
</p><p>
CMake is a cross-platform build system generator. CMake is used to control
the software compilation process using simple platform- and
compiler-independent configuration files. Check your CMake package version:

<pre     class="programlisting">
[root@system ~]# rpm -qa | grep -i cmake
</pre>
</p><p>
If the version of CMake is &lt;2.8, you need to update the CMake package by
running the following commands:

<pre     class="programlisting">
[root@system ~]# yum remove cmake
[root@system ~]# yum install cmake  \ 
--disablerepo=*  --enablerepo=atrpms-testing 
</pre>
</p><p>
Boost provides free peer-reviewed portable C++ source libraries. Boost
libraries are intended to be widely useful and usable across a broad
spectrum of applications.
</p><p>
Now, check your Boost package version:

<pre     class="programlisting">
[root@system ~]# rpm -qa | grep -i boost
</pre>
</p><p>
If the version of Boost is &lt;1.46, you need to update the Boost package by
running the following commands:


<pre     class="programlisting">
[root@system ~]# yum remove boost boost-devel 
[root@system ~]# cd /tmp
[root@system ~]# wget http://sourceforge.net/projects/boost/
&#8618;files/boost/1.49.0/boost_1_49_0.tar.gz/download  
[root@system ~]# tar -xvf boost_1_49_0.tar.gz
[root@system ~]# cd boost_1_49_0
[root@system ~]# ./bootstrap.sh --prefix=/usr
[root@system ~]# ./b2 install
</pre>
</p><p>
Installing the Boost libraries will take up to 15 minutes, depending on your
hardware, so be patient.
</p><p>
Make sure your system time and date are correct. Run the following command
if required:

<pre     class="programlisting">
[root@system ~]# ntpdate -b -p 8 -u pool.ntp.org
</pre>
</p><p>
With all the pieces in place, you are ready to install Grive. The
project's Web site offers access to the source code using Git. To download
Grive, run:


<pre     class="programlisting">
[root@system ~]# cd ~
[root@system ~]# mkdir -p ~/.grive
[root@system ~]# cd /tmp
[root@system ~]# git clone https://github.com/Grive/grive.git
[root@system ~]# cd grive
[root@system ~]# cmake \
-DCMAKE_INSTALL_PREFIX:PATH=/usr .
[root@system ~]# make all install
</pre>
</p><p>
The first time you run Grive, use the <tt  >-a</tt> argument to grant
permission to Grive to access to your Google Drive. The
<tt  >-a</tt> option is 
needed only the very first time you run Grive:

<pre     class="programlisting">
[root@system ~]# cd ~/.grive/
[root@system ~]# /usr/bin/grive -a
</pre>
</p><p>
After running the command above, a URL should be displayed in the
terminal&mdash;copy that URL and paste it in a Web browser.
</p><p>
You will need to log in to your Google account if you have not done so. In
the newly loaded page, you will be asked to give Grive permission to access
your Google Drive, and after clicking &ldquo;Allow access&rdquo;, an
authentication code will be displayed. Copy this code and paste it in the
terminal where you ran Grive:

<pre     class="programlisting">
-----------------------
Please go to this URL and get an authentication code:

https://accounts.google.com/o/oauth2/auth?scope=
&#8618;https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email
&#8618;+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile
&#8618;+https%3A%2F%2Fdocs.google.com%2Ffeeds%2F
&#8618;+https%3A%2F%2Fdocs.googleusercontent.com%2F
&#8618;+https%3A%2F%2Fspreadsheets.google.com%2Ffeeds
&#8618;%2F&amp;redirect_uri=urn:ietf:wg:oauth:2.0:oob
&#8618;&amp;response_type=code&amp;client_id=
&#8618;22314510474.apps.googleusercontent.com

-----------------------
Please input the authentication code here
</pre>
</p><p>
That's it. Now, each time you want to sync Google Drive with your local
grive folder, navigate to the .grive folder and run
<tt  >/usr/bin/grive</tt>
(this time without the <tt  >-a</tt>, because you already have authenticated Grive with
Google Drive). You can set up a cron job if you want to do this on a
regular basis.
</p><p>
If everything works fine, Grive will create a .grive file in your home
directory. It also will start downloading files from your Google Drive
to your current directory. After all this business is done, all you need
to do to refresh your Google Drive files is run Grive from the terminal.
</p><p>
Is it as convenient as Google's official desktop solutions? No, but you
are not running Linux because you are looking for easy solutions.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1942580.0x1a33268"></a>
Ending Notes</h2></div></div><p>
If you get a &ldquo;crash&rdquo; (a bunch of error messages on the screen), you
should run:

<pre     class="programlisting">
[root@system ~]# /usr/bin/grive   -l   log.txt
</pre>
</p><p>
Because the file will contain a log of the sync operation, you may want to
edit the file first to remove personally sensitive information and then
send it to Grive developers.
</p><p>
Keep up with the posts at <a href="https://plus.google.com/116411649000013553715/posts" target="_self">https://plus.google.com/116411649000013553715/posts</a>
and <a href="https://github.com/grive/grive/issues" target="_self">https://github.com/grive/grive/issues</a> for the latest information, especially
regarding news on newly discovered bugs and when you need to download and
build again!
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1942580.0x1a33580"></a></h2></div></div><div class="sidebar"><p class="title"><b>
Resources</b></p><p>
The Grive Project&mdash;an Open-Source Linux Client for Google Drive:
<a href="https://github.com/Grive/grive" target="_self">https://github.com/Grive/grive</a>
</p><p>
The Official Google Blog, &ldquo;Introducing Google Drive&rdquo;: <a href="http://googleblog.blogspot.in/2012/04/introducing-google-drive-yes-really.html#!/2012/04/introducing-google-drive-yes-really.html" target="_self">googleblog.blogspot.in/2012/04/introducing-google-drive-yes-really.html#!/2012/04/introducing-google-drive-yes-really.html</a>
</p><p>
&ldquo;Grive: Open Source Google Drive Client for Linux&rdquo;: <a href="http://www.webupd8.org/2012/05/grive-open-source-google-drive-client.html" target="_self">www.webupd8.org/2012/05/grive-open-source-google-drive-client.html</a>
</p><p>
The Google Drive FAQ: <a href="http://news.cnet.com/8301-1023_3-57420402-93/the-google-drive-faq" target="_self">news.cnet.com/8301-1023_3-57420402-93/the-google-drive-faq</a>
</p></div></div></div>
<div class="authorblurb"><p>
Sayyed Mehdi Poustchi Amin is currently a PhD research student in computer
science at SIU. His research is focused on developing honeypot
decoys for analysis of Internet attacks. His professional certifications
include CCNA, MCTS, MCITP and MCSE. He welcomes comments on this article
and beyond at <a href="mailto:mehdi.poustchi@gmail.com">mehdi.poustchi@gmail.com</a>.
</p></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../224/toc224.html">Issue Table of Contents</a>
    <a class="link3" href="../224/11313.html">Article</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>