<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>XFree86 4.1.0 and ATI RADEON</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;    A brief history of the X Window System and the current stateof X-related graphics drivers.&#10;    "><meta name="keywords" content="XFree86, 4.1.0, Radeon, Debian, 3-D, DRI, SGI"><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0x2122580.0x2219ab0"></a>XFree86 4.1.0 and ATI RADEON</h1></div><div><div class="author"><h3 class="author">Robin Rowe</h3></div><div class="issuemoyr">Issue #91, November 2001</div></div><div><p>
    A brief history of the X Window System and the current stateof X-related graphics drivers.
    </p></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x2122580.0x221a710"></a></h2></div></div><p>Linux graphic performance is
significantly improved by the latest version of XFree86, making
Linux viable as a workstation operating system. Major motion
picture studios, including DreamWorks and Pixar, are adopting Linux
as their standard movie production workstation.
</p><p>XFree86 is a popular implementation of the X Window System, a
technology developed in 1984 at MIT as part of Project Athena.
MIT's goal was to build their existing assortment of incompatible
workstations from various manufacturers into a network of graphical
workstations. At first X was used primarily at MIT and DEC where
much of the development also occurred, but in 1986 it was
commercially released. Eventually MIT handed X off to the X
Consortium, which later folded into Open Group. In 1999, Open Group
spun off X.org. X.org estimates that more than 30 million people
are using X, and that number is growing rapidly thanks to Linux and
XFree86.</p><div       class="mediaobject"><img src="5425f1.jpg"><div class="caption"><p>
Deliberately killing the twm reveals what happens if you lose your
window manager. Our Dia, OpenUniverse and xterm windows still
display, but there is no means to move them.
</p></div></div><p>In 1992, after X had stagnated for a decade, the project that
became XFree86 was founded with the goal of offering a free
implementation of X. The significant new features of X (font
anti-aliasing, compositing and DRI) are due to XFree86. A volunteer
organization, anyone may join XFree86 and gain direct access to the
XFree86 code and docs in CVS. Originally focused on Intel x86,
XFree86 today has the goal of being the best windowing system on
every platform available. It runs with Linux, the BSDs, Mac OS X,
Solaris and OS/2. CPUs supported include x86, Alpha, PowerPC and
SPARC, with MIPS in development.</p><p>
<div       class="mediaobject"><img src="5425f2.jpg"><div class="caption"><p><span  class="bold"><b>glxgears</b></span></p></div></div>
</p><p>In March 2000, a redesigned XFree86 was released. Version 4.0
added much better graphics acceleration plus features such as
X-Video and multihead support with Xinerama. X-Video provides
support for color space alternatives to RGB, such as YUV used in
television and movies. Animators, in particular, often need to work
with more than one monitor at a time. Ordinary multihead
configuration supports placing windows on multiple monitors.
Xinerama enables one window to span multiple physical screens
simultaneously.</p><p>XFree86 3-D graphics performance is significantly improved by
the addition of direct rendering infrastructure (DRI) and GLX.
OpenGL is a platform-independent, scene-description language, well
suited for animation and closely tied to hardware. GLX is the
window-event code that connects the driver-level OpenGL graphics
language with X. GLX and OpenGL were both developed by SGI. DRI is
a pipeline that bypasses inefficiencies in the X server to bind the
kernel, X server, OpenGL and graphics drivers together directly.
All modern high-performance graphics boards now offer accelerated
drivers for Linux, with the notable exception of 3D Labs, which has
a driver in development.</p><p>A particularly handy feature when configuring XFree86, VESA
display data channel (DDC) enables XFree86 to query modern monitors
for their supported screen resolutions and refresh rates. XFree86
4.x integrates the read-edid utility to determine the correct
monitor mode-line settings automatically.</p><p>In June 2001, XFree86 4.1.0 was released. Besides bug fixes,
this version has many more supported drivers; of particular
interest to us is the ATI RADEON. All the RADEON cards have
excellent graphics performance, but the All-In-Wonder version of
RADEON has the added feature of a built-in TV tuner. ATI, who had a
bad reputation with open-source developers, went from being the
worst to one of the best. ATI sponsored the development of the
RADEON open-source driver.</p><p>Daryll Straus built the first accelerated Linux 3-D driver
(for 3dfx hardware) in his spare time while working at Digital
Domain on the renderfarm for <span   class="emphasis"><em>Titanic</em></span>. That was
the first major film to have its effects rendered primarily using
Linux. (See &ldquo;Linux Helps Bring <span   class="emphasis"><em>Titanic</em></span> to
Life&rdquo; by Daryll Strauss and Wook in the February 1998 issue of
<i  >Linux Journal</i>.) From there, Strauss went on to
build Linux graphics drivers as the lead for multimedia at
Precision Insight, now a part of VA Linux. Precision Insight was
funded by ATI, Intel, Matrox and 3dfx to build DRI-compatible Linux
drivers. Strauss says:</p><div class="blockquote"><blockquote class="blockquote"><p>I think that open source is the way to go. In 18
months we built ten drivers: 3dfx Voodoo 3, 4 and 5; ATI Rage 128,
128 Pro and RADEON; Matrox G400; Intel i810 and i815; and another
not yet announced. Creating a common code base really helped. In
looking at the source and documentation of proprietary drivers
under NDA, we discovered that the vendors' code and hardware share
many features.</p></blockquote></div><p>His group did a limited implementation for RADEON, without
acceleration for 3-D transformation and lighting. &ldquo;The thing
that's annoying about the RADEON is we created a rasterization
driver, effectively turning RADEON into a fast Rage 128&rdquo;, says
Strauss. &ldquo;As soon as you run Maya you notice you don't have the
3-D performance.&rdquo; Maya, reviewed here last month, is a popular 3-D
modeling application for motion picture film animators.
</p><p>
<div       class="mediaobject"><a href="5425f3.large.jpg"><img src="5425f3.jpg"></a><div class="caption"><p>OpenUniverse lets you voyage through a simulated
solar system, another test of graphics
performance.</p></div></div>
</p><div       class="mediaobject"><img src="5425f4.jpg"><div class="caption"><p>
More graphics with Open Universe
</p></div></div><p>XFree86 may be installed three ways: as a package, as a
binary or from source. The packaged version wasn't available yet,
so we couldn't follow that route. We tried to install from binary,
but had problems. The Xinstall.sh install script didn't like the
space in the name of the directory it was installed in, but more
than that, we just couldn't get it to work right. Building from
source seemed our only option, an interesting though challenging
process. Version 4.1.0 relies upon the 2.4 kernel. We upgraded not
only to kernel 2.4.7 but to Debian Sid. If you would like to read
the details of that process, including several unexpected problems
we overcame along the way, read the on-line version of this article
at <a href="/" target="_self">www.linuxjournal.com</a>.</p><p>Installing XFree86 4.1.0 won't seem like such a challenge
when it becomes widely packaged, but building it from source taught
us a lot about how XFree86 is put together. The sheer size of it
and the complexity of the build process is more than one expects.
Vladimir Dergachev, who regularly helps RADEON users on the XFree86
Xpert list, was indispensable in helping us get it to work. He's
one of the volunteers actively working on the RADEON driver.</p><p>The new DRI architecture with accelerated drivers (both open-
and closed-source versions) make Linux a much more powerful
platform for graphics. ATI, HP, NVIDIA, 3D Labs and others are
actively working on closed-source drivers. What's not happening is
further development of open-source drivers, such as the RADEON
driver described here. Precision Insight has gone on to other
projects, and no one is currently funding enhancements to
open-source drivers or even to XFree86 itself.</p><p>The learning curve for volunteers to write DRI-compatible
drivers is steep, especially because of the lack of documentation.
With version 4.1.0, the changes have settled down in XFree86. It is
time to write good documentation that will enable future
programmers to build and enhance accelerated drivers. If anyone
would like to help, please drop me a line.</p><p><a href="5425s1.html" target="_self">Resources</a></p></div></div>
<div class="authorblurb"><p>
       email: <a href="mailto:Robin.Rowe@MovieEditor.com">Robin.Rowe@MovieEditor.com</a>
       </p><p><span   class="bold"><b>Robin
      Rowe</b></span> is a partner in MovieEditor.com, a technology
      company that creates internet and broadcast video applications. He
      has written for <span   class="emphasis"><em>Dr. Dobb's Journal</em></span>, the <span   class="emphasis"><em>C++
      Report</em></span>, the <span   class="emphasis"><em>C/C++ Users Journal</em></span> and
      <span   class="emphasis"><em>Data Based Advisor</em></span>. He may be reached via
      e-mail at robin.rowe@movieeditor.com.</p></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../091/toc091.html">Issue Table of Contents</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>