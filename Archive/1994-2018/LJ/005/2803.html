<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>ez&mdash;for the Programmer</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;    In this article, Terry Gliedt continues his tour through the&#10;    Andrew project and gives us a taste of another aspect of&#10;    it. Here's the ez editor again, but this time as a source&#10;    view editor for the programmer in us all.&#10;    "><meta name="keywords" content="programming, editor, tool"><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0x1f13580.0x200aab0"></a>ez&mdash;for the Programmer</h1></div><div><div class="author"><h3 class="author">Terry Gliedt</h3></div><div class="issuemoyr">Issue #5, September 1994</div></div><div><p>
    In this article, Terry Gliedt continues his tour through the
    Andrew project and gives us a taste of another aspect of
    it. Here's the ez editor again, but this time as a source
    view editor for the programmer in us all.
    </p></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1f13580.0x200b3f8"></a></h2></div></div><p>AUIS had its roots in 1982 when Carnegie
Mellon University and the IBM Corporation decided to jointly
develop a campus computing facility based on personal computers to
replace the time-sharing system then on campus. IBM provided not
only generous funding, but also some talented individuals and
access to IBM development programs.
</p><p>The result was a graphical user interface we know as the
Andrew User Interface System and a file system, the
<span   class="emphasis"><em>Andrew File System</em></span>. The file system formed the
basis of Transarc Corporation's <span   class="emphasis"><em>Distributed Computing
Environment</em></span> (DCE) and is offered as part of the Open
System Foundation software.</p><p>The <span   class="emphasis"><em>Andrew Consortium</em></span>, composed of a
number of corporations and universities, funds the current
development of AUIS. AUIS is available on a wide variety of
platforms including Linux, AIX, Solaris, Ultrix, HP UX as well as
others.</p><p>In early June, version 6.3 of the Andrew User Interface
System (AUIS) was released by the Andrew Consortium. This led to
the release of <span   class="bold"><b>auis63L0-wp.tgz</b></span>
which contains just a small portion of AUIS that is suitable as a
word processor.</p><p>Now another package has been released,
<span   class="bold"><b>auis63L0-src.tgz</b></span>, to
<span   class="emphasis"><em>sunsite.unc.edu</em></span> in
<span   class="emphasis"><em>/pub/Linux/X11/andrew</em></span>. This is a set of
additions to the word processing package to support the programmer.
This article will describe the support ez provides to ease the
coding and analysis of our programs. Future articles in
<i  >Linux Journal</i> will describe other pieces of
AUIS.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1f13580.0x200b920"></a>ez Views</h2></div></div><p>As a programmer, we use the same simple tool,
<span   class="emphasis"><em>ez</em></span>, as we did for word processing. Our source
program is loaded (or created) and displayed in a window. But
unlike <span   class="emphasis"><em>ez</em></span> the word processor, the data in the
program source (document) does not directly control what happens.
Rather the editor, <span   class="emphasis"><em>ez</em></span>, actually is &ldquo;aware&rdquo; of
the syntax of the source language that is being edited and provides
a specialized <span   class="emphasis"><em>view</em></span> of the source.</p><p>In the same way that a graph is really just a different
representation of an array of numbers, <span   class="emphasis"><em>ez</em></span> has
the ability to provide unique views of program source. This allows
the editor to help you when entering the program source.
<span   class="emphasis"><em>ez</em></span> also provides assistance in compiling your
program. Finally, <span   class="emphasis"><em>ez</em></span> can help you analyze your
program, to assist in understanding where data is referenced or
where routines are defined.</p><p><span   class="emphasis"><em>ez</em></span> provides support for a number of
languages including assembler, Pascal, Modula, Lisp, C, and C++. It
provides a unique view for each language source file. The view is
triggered by the extension of the file you edit. For instance, ez
will treat the file test.c as a C program and will treat the file
test.C as a C++ program.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1f13580.0x200bd98"></a>Entering Your Source Code</h2></div></div><p><a href="2803f1.jpg" target="_self"><span   class="bold"><b>Figure 1. -fg
black -bg lavenderblush</b></span></a></p><p>When you first edit a C program, you will see something like
Figure 1. You see immediately there are many things to make the
program easier to read:</p><div class="itemizedlist"><ul type="disc"><li><p>the include statements are in a fixed font</p></li><li><p>comments are in a blue italized font</p></li><li><p>special words in the language like char, int,
while, etc. are in magenta. (These are words already recognized by
the ez view.)</p></li><li><p>function names, like main, are in red, using a
different font</p></li><li><p>other special words, like, exit, are in green.
(These are words the user defines as special.)</p></li><li><p>strings are shown in a fixed font</p></li></ul></div><p><a href="2803f2.jpg" target="_self"><span   class="bold"><b>Figure 2.
Comment in progress</b></span></a></p><p><a href="2803f3.jpg" target="_self"><span   class="bold"><b>Figure 3.
C-clause in progress</b></span></a></p><p>As you enter your code, ez will react as soon as it figures
out what you are coding. In Figure 2 you can see a comment being
formed. Notice the color and font have already been applied, even
though the comment is not closed. In Figure 3 you can see how
<span   class="emphasis"><em>ez</em></span> handles pair delimiters like (), {}, and
[]. When you enter the trailing delimiters (e.g.,&ldquo;}&rdquo;) then ez will
reverse-video the entire region to the matching delimiter. As you
continue typing, the reverse-video is removed.</p><p><span   class="emphasis"><em>ez</em></span> will attempt to keep its view correct
at all times, but you can confuse it. For instance you might code a
string without the comment delimiters and then later add the /* */
operators. When this happens, you only need select the menu item
Redo styles on the Source Text menu card. This will cause the
entire screen to be redrawn applying the view.</p><p><a href="2803f4.jpg" target="_self"><span   class="bold"><b>Figure 4.
Reformatting your C source</b></span></a></p><p><span   class="emphasis"><em>ez</em></span> will also attempt to help as you
enter text by automatically indenting your source lines as you
enter them. You do not need to enter a tab to indent, since
<span   class="emphasis"><em>ez</em></span> will do this for you automatically. Unlike
other aspects of the view, this does modify the source since it
inserts tabs to align the text. You can also ask
<span   class="emphasis"><em>ez</em></span> to reformat your source at any time. Simply
select the area you want to reformat (i.e., so it is shown in
reverse-video) and select the menu item Format line/region on the
Source Text menu card. You can see the result of this action on our
original source program in Figure 4. One convenient feature is that
when you enter a trailing delimiter (like a &ldquo;}&rdquo;),
<span   class="emphasis"><em>ez</em></span> will reverse-video the region to the
matching delimiter (&ldquo;{&rdquo;). If you press tab at this point, ez will
reformat the selected region, saving you the need to later
re-select the area with the mouse.</p><p>There is a great deal of tailoring that can be done to
control the behavior of your source view. If you do not like the
way <span   class="emphasis"><em>ez</em></span> indents your source code, simply avoid
the use of the <span   class="emphasis"><em>Format line/region</em></span> menu item
and your source will not be modified. Regardless how your source
looks, the lines of your original source are not modified unless
you select this menu item.</p><p><a href="2803f5.jpg" target="_self"><span   class="bold"><b>Figure 5.
Source from Fig. 4 in wider window</b></span></a></p><p>Just as with a text document, <span   class="emphasis"><em>ez</em></span> will
automatically wrap lines based on the width of the window. For
instance, Figure 5 shows the same source as in Figure 4. Notice the
comments and source lines are re-aligned to make it more
readable.</p><p>In the past I would spend a great deal of energy making my
source look &ldquo;pretty&rdquo;. It's important to me that my source look
consistent since it makes the code much easier to read. Since I
have been using <span   class="emphasis"><em>ez</em></span>, I no longer make any
effort to format code, but rather concentrate on entering it. When
I'm done, I reformat it with <span   class="emphasis"><em>ez</em></span> and I'm done.
I especially like the reflowing of comments. This has caused me to
change my commenting style. I seldom put comments on the same line
as code any more. Rather I rely on paragraphs at the beginning of a
block of code to explain what will follow. I much prefer this
approach in coding. Others may not like this style. I use the parts
of <span   class="emphasis"><em>ez</em></span> that I find useful, and ignore the
others. I encourage you to do the same.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1f13580.0x24050c0"></a>Compiling Your Code</h2></div></div><p><span   class="emphasis"><em>ez</em></span> has support to assist you in finding
compile errors. This is done by invoking make, capturing the output
and then asking ez to show you the source lines in error. This is
done by creating a second window of the source (select
<span   class="emphasis"><em>New Window</em></span> on the <span   class="emphasis"><em>Window menu
card</em></span>). In either of the source windows, select
<span   class="emphasis"><em>Start Compile</em></span> on the <span   class="emphasis"><em>Make menu
card</em></span>. You can see the results in Figure 6. When the
compile completes and there are errors, select Next Error on the
Make menu card. ez will then switch files to the offending file (if
necessary) and show the line identified in error by the compiler.
Correct the errors and start the process over again.</p><p><a href="2803f6a.jpg" target="_self"><span   class="bold"><b>Figure 6a.
Finding compile errors</b></span></a></p><p><a href="2803f6b.jpg" target="_self"><span   class="bold"><b>Figure
6b.Compile errors</b></span></a></p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1f13580.0x2405590"></a>Code Analysis</h2></div></div><p>Sometimes just having the editor format the source helps to
understand the code. The first time I used ez on my C source, I
immediately noticed that some code was shown as comments. &ldquo;Ha! A
bug in ez&rdquo;, I thought. Well, there was a bug, but not in ez. I
discovered I had missed an ending comment delimiter in a program
that I thought was working. I actually had 10 lines of code
commented out. That was enough to convince me of the value of views
in ez.</p><p><a href="2803f7.jpg" target="_self"><span   class="bold"><b>Figure 7.
Compressing lines in source program</b></span></a></p><p><span   class="emphasis"><em>ez</em></span> is not a complete source browser in
the sense of some commercial applications, but rather it provides a
set of functions to help you to navigate through your source.
Sometimes you don't want to see some parts of your program.
Highlight that part of your program with the mouse and select
Compress region on the Source Text menu card and you will see
something like that shown in Figure 7. If you click in the
&ldquo;compressed lines&rdquo; box, the code will be shown again. Selecting
Decompress all on the Source Text menu card will expand all
compressed source areas.</p><p>The program ctags is a program found on most Unix systems. It
will generate a file called tags which contains cross-reference
information on the functions within a set of source files. You can
also get cross-reference information on variables by issuing the
command <span   class="emphasis"><em>&ldquo;ctags -v *.h *.c&rdquo;</em></span>. ez can use this
file to show you where functions or variables are defined. Load the
tags file by selecting the menu item Load New Tag File or Rebuild
Tag File on the Tags menu card. To find where a variable or
function is defined, select the variable with your mouse and select
Find Tag on the Tags menu card. ez will switch to the file where
this is defined and show you the line where it is defined.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1f13580.0x2405900"></a>Templates</h2></div></div><p>So far we have been talking about editing existing source
files. ez provides additional support when you edit a new,
non-existent source file, by providing a means for you to control a
&ldquo;template&rdquo; or default file. Each language has its own template file
which can be found in /usr/andrew/lib/tpls. You can tailor your own
by creating your own template directory and telling AUIS
applications where your templates are by defining the</p><p>TEMPLATEPATH environment variable. To set this up, issue the
following commands:</p><pre     class="programlisting">
mkdir $HOME/tpls
cp /usr/andrew/lib/tpls/c.tpl $HOME/tpls
export TEMPLATEPATH=${HOME}/tpls:/usr/andrew/lib/tpls   # For bash/ksh
setenv TEMPLATEPATH ${HOME}/tpls:/usr/andrew/lib/tpls   # For
csh/tcsh
</pre><p><a href="2803f8.jpg" target="_self"><span   class="bold"><b>Figure 8.
Template for C language source file</b></span></a></p><p>Now you can edit your own $HOME/tpls/c.tpl template and
tailor this to your needs. Figure 8 shows you one such template.
What you will see is much like a conventional program source, and
indeed, it is. This is where you put your own &ldquo;boiler-plate&rdquo;; code
you'd want in most any program. More interesting, however, is the
existence of <span   class="bold"><b>dogtags</b></span> (what's in a
name?). These are fields, delimited with &ldquo;&lt;@&rdquo; and &ldquo;@&gt;&rdquo;, which
are automatically substituted when the template is loaded. For
instance in Figure 8, you see &lt;@name@&gt;, which is replaced
with the name of the file being edited (fig1.c). Most of these are
pretty obvious. For a complete list of all dogtags, see the help
text shown by the command auishelp dogtags.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1f13580.0x2405c70"></a>Controlling Colors and Fonts</h2></div></div><p>This template file also controls the colors and fonts you
first saw in Figure 1. While editing the template file, select Edit
Styles on the File menu card. This opens a second window used to
define the attributes of data within this template. Start by
selecting the &lt;No Menu&gt; field in the upper left-hand corner.
To the right you will see keywords which correspond to aspects of
the language (comment, function, etc.). Select one of these and
other attributes like the font and size, color, spacing, etc., will
be shown. Using these you can change any attribute you'd like. This
change will not become effective until you save the template and
then edit a new source file. It does not take effect for files
which you are already editing.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1f13580.0x2405d78"></a>Printing and Previewing</h2></div></div><p>Just as with the text documents, ez will print the source
program as you see it on the screen, including the fonts.
Regardless of the colors you display your source with, printing
uses a black foreground on a white background (as you'd expect).
The preview process uses ghost-view to display the PostScript
document that is generated.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1f13580.0x2405e80"></a>For More Information</h2></div></div><p>A mailing list is available at
<a href="mailto:info-andrew@andrew.cmu.edu">info-andrew@andrew.cmu.edu</a>
(mail to
<a href="mailto:info-andrew-request@andrew.cmu.edu">info-andrew-request@andrew.cmu.edu</a>
for subscriptions). The newsgroup comp.soft-sys.andrew is dedicated
to the discussion of AUIS. A World Wide Web home page can be found
at
<a href="http://www.cs.cmu.edu:8001:/afs/cs.cmu.edu/project" target="_self">http://www.cs.cmu.edu:8001:/afs/cs.cmu.edu/project/</a>
atk-ftp/web/andrew-home.html. A book, Multimedia Application
Development with the Andrew Toolkit, has been published by
Prentice-Hall (ISBN 0-13-036633-1). An excellent tutorial is
available from the Consortium by sending mail to
<a href="mailto:info-andrew-request@andrew.cmu.edu">info-andrew-request@andrew.cmu.edu</a>
and asking about the manual, A User's Guide to AUIS.</p></div></div>
<div class="authorblurb"><p>
           <span   class="bold"><b>Terry Gliedt</b></span>
           (<a href="mailto:tpg@mr.net">tpg@mr.net</a>)
           left Big Blue last year after spending over twenty years with IBM. Although he has worked with Un*x and AUIS for over
           six years, he is a relative newcomer to Linux. Terry does contract
           programming, teaches classes in C/C++ and Unix and writes the
           occasional technical document.
        </p></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../005/toc005.html">Issue Table of Contents</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>