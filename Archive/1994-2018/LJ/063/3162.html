<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Real-Time Geophysics Using Linux</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;    How the geophysical industry is using Linux for processing&#10;    of magnetometer data.&#10;    "><meta name="keywords" content="science, engineering"><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0x152b580.0x1622ab0"></a>Real-Time Geophysics Using Linux</h1></div><div><div class="authorgroup"><div class="author"><h3 class="author">Laura Connor</h3></div><div class="author"><h3 class="author">Charles B. Connor</h3></div><div class="issuemoyr">Issue #63, July 1999</div></div></div><div><p>
    How the geophysical industry is using Linux for processing
    of magnetometer data.
    </p></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x152b580.0x1623660"></a></h2></div></div><p>Whether searching for gold or oil, or
assessing the geologic hazards of a site, geophysics is a
high-stakes business. Geophysical exploration involves learning
more about the earth's interior by making measurements at the
surface using instruments such as seismometers, gravity meters and
magnetometers. At Southwest Research Institute, our team of
geologists and geophysicists works worldwide to assess volcanic
hazards using geophysical techniques (Figure 1).
</p><p><a href="3162f1.jpg" target="_self"><span   class="bold"><b>Figure 1.
Geologists Team</b></span></a></p><p>We discovered that Linux provides a robust, low-cost system
for visualizing and processing magnetometer data in real time.
Application of this real-time, data processing/visualization system
enables us to create better geophysical maps for use in volcanic
hazard assessments. This technique illustrates the potential for
Linux applications in a variety of geophysical surveys.</p><p><a href="3162f2.jpg" target="_self"><span   class="bold"><b>Figure 2. R-T-V
Base Station</b></span></a></p><p>Our magnetic mapping system consists of three components: a
mobile instrument platform, a GPS base station and a real-time
visualization (R-T-V) base station (Figure 2).</p><p>The usual instrument platform includes a cesium-vapor
magnetometer carried by one person and GPS and telemetry equipment
carried by another (Figure 3), but alternatives are possible. We
have made magnetic anomaly maps by securing this instrumentation to
a mountain bike and pedaling across the survey area (Figure 4).
Currently, we are planning to mount the instruments on an unmanned
aerial vehicle (UAV) to fly surveys at low altitudes (Figure 5).
This flexibility in survey design becomes possible because all data
processing, data storage and data monitoring tasks can be handled
at the R-T-V base station.</p><p><a href="3162f3.jpg" target="_self"><span   class="bold"><b>Figure 3.
Telemetry Equipment</b></span></a></p><p><a href="3162f4.jpg" target="_self"><span   class="bold"><b>Figure 4.
Equipment Attached to Bike</b></span></a></p><p><a href="3162f5.jpg" target="_self"><span   class="bold"><b>Figure 5.
Unmanned Aerial Vehicle</b></span></a></p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x152b580.0x1623d98"></a>Geophysical Application</h2></div></div><p>Anomalies in the earth's magnetic field are produced by
variations in the magnetic properties of rocks within the earth's
subsurface. Magnetic surveying is a particularly good method of
mapping subsurface volcanic rocks because these rocks have strong
magnetic properties. Creating a map of magnetic anomalies helps to
locate buried volcanos and volcanic intrusions that are not seen in
the surface geology (Figure 6). Therefore, accurate magnetic
mapping represents a critical step in determining the volcanic
history of a region as part of a volcanic hazard analysis.</p><p><a href="3162f6.jpg" target="_self"><span   class="bold"><b>Figure 6.
Magnetic Anomaly Map</b></span></a></p><p>A geophysical instrument called a magnetometer is used to
collect the data needed to generate a magnetic anomaly map.
Magnetometers measure small changes in the intensity of the earth's
magnetic field. A geophysical survey crew transports the
magnetometer across a study area, while continually taking magnetic
measurements. During our surveys, the crew also carries a global
positioning system (GPS) to track the locations of these
measurements. Magnetic and GPS data are radio-telemetered to a base
station where software, running under the Linux operating system,
is used to visualize the magnetic data as they are collected. This
base station also monitors the location of the magnetometer, then
processes and stores these data. With real-time visualization, the
survey crew gains quick insight into the magnetic anomalies being
mapped. Using this information, survey teams can concentrate their
time and energy mapping areas that reveal significant details about
the subsurface geology. Thus, real-time visualization of magnetic
measurements can greatly facilitate the search and discovery
process inherent in geophysics.</p><p>The cesium-vapor magnetometer is very sensitive, capable of
measuring a change of one part per million in the intensity of the
earth's magnetic field. This magnetometer can sample at very high
rates, 1Hz to 50Hz. Such high data-collection rates are useful
because we interface the magnetometer with a real-time kinematic
differential GPS, capable of determining the mobile instrument
platform's position every second to within several centimeters.
This high accuracy is accomplished by using a stationary GPS base
station to radio-telemeter location corrections to the GPS carried
by the mobile survey team (Figure 7). Magnetic readings become
interleaved with GPS location readings as the magnetometer's data
collection facility stores the data from both instruments.</p><p><a href="3162f7.jpg" target="_self"><span   class="bold"><b>Figure 7.
Mobile Survey Team</b></span></a></p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x152b580.0x1624160"></a>Implementing Real-Time Visualization</h2></div></div><p>Simplicity and reliability are significant elements of the
R-T-V base station. Physically, the base station consists of a 9600
baud, 2 watt radio modem, interfaced via a serial port connection
to a 166MHz laptop computer with 24MB of RAM running Linux. The
computer and radio are both powered by a 12-volt battery. The radio
requires an antenna to provide line-of-site communication,
sometimes augmented by a repeater, with the mobile survey team's
radio. The R-T-V base station program waits for data at the serial
port and selects, for visualization and processing, only those data
strings tagged appropriately by the magnetometer and transmitter
radio. Non-tagged or unrecognizable transmissions are
discarded.</p><p>A number of events are programmed to occur as data arrive at
the R-T-V base station:</p><div class="itemizedlist"><ul type="disc"><li><p>The GPS RF data transmission is associated with the
corresponding magnetometer RF data transmission. This step involves
interpolation of the GPS data to calculate the exact position of
the magnetometer sensor.</p></li><li><p>The actual field transmissions are logged to a file
and can be viewed via a &ldquo;chat&rdquo; (text) window on the laptop's
display.</p></li><li><p>Regional effects on the magnetic readings are
removed using the International Geomagnetic Reference Field
correction, and the values are displayed on a scalable strip-chart
showing the change in magnetic values over time.</p></li><li><p>The positions of the survey team are transformed
from latitude and longitude and plotted as x-y coordinates on a
scalable, two-dimensional map using a Universal Transverse Mercator
(UTM) map projection. These applied data corrections simplify the
task of data interpretation and map generation for the survey
team.</p></li><li><p>Finally, the converted data are saved to
disk.</p></li></ul></div><p><a href="3162f8.jpg" target="_self"><span   class="bold"><b>Figure 8. Setup
Screen</b></span></a>
</p><p><a href="3162f9.jpg" target="_self"><span   class="bold"><b>Figure 9. A
Look at the Data</b></span></a></p><p>XForms, a graphical user interface (GUI) toolkit based on
Xlib for the X Window System, was chosen as the GUI builder for the
visualization. The use of XForms' strip-chart object and
two-dimensional plot object facilitated rapid program development.
The WYSIWYG (what you see is what you get) interactive form
designer made it possible to visually construct each layout for the
displays (Figures 8 and 9). A timed call-back routine specifies
when to check the serial port for data. Mouse events are handled
between serial port reads. This allows for simultaneous screen
updates and GUI control, with no noticeable delay to the user.
During a survey, magnetic reading failure at the magnetometer is
indicated by the stopping of updates to the strip-chart display,
and an invalid GPS position is indicated by a color change on the
two-dimensional location map.</p><p>Use of the R-T-V base station has mitigated many of the
difficulties that frequently accompany geophysical surveys. Prior
to using the R-T-V base station, our surveys relied on downloading
saved magnetic-GPS data from the magnetometer for later
post-processing and map generation. Post-processing took up to an
additional month after returning home from the field before a
magnetic map could be realized and the quality of the collected
data evaluated. Sometimes the most interesting magnetic anomaly was
just meters away from the survey area, but there was no way of
knowing this until weeks later after post-processing. Equipment and
power failure remain an ongoing frustration when using batteries
and multiple cable connections in the desert and other desolate
environments. Real-time monitoring allows for quick problem
diagnosis by the whole team, not just the one or two team members
struggling to complete the survey. This is especially important if
the surveyor has little experience with the equipment, the survey
conditions are rugged, or the equipment happens to be mounted on a
UAV or a bicycle. For example, one common problem is the loss of
differential correction transmissions from a GPS base station. When
this happens, the mobile GPS receiver cannot calculate accurate
positions, and magnetic readings not precisely located are useless.
This situation is often not apparent to the mobile part of the
survey team. At the R-T-V base station, we specifically monitor
differential GPS quality and can alert the mobile team immediately
when a problem occurs.</p><p>In practice, our Linux system is able to read RF
transmissions smoothly, process and feed data to the displays, and
write to the data files in a seamless flow. It is even possible to
switch to another virtual desktop and perform various editing or
file management tasks while the real-time processing is taking
place. Switching back to the real-time display is equally smooth.
We were quite satisfied with the performance of our R-T-V system.
Much of its success can be attributed to the stability of the Linux
operating system. Future enhancements include visualizing multiple
surveys concurrently, adding color-coded symbols to the location
map to indicate magnetic values, loading previous survey
information, performing a real-time magnetic drift correction on
the data, and processing transmissions from other geophysical
instruments.</p><p><a href="3162s1.html" target="_self">Resources</a></p><p><a href="3162s2.html" target="_self">Acknowledgments</a></p></div></div>
<div class="authorblurb"><p>
          <span   class="bold"><b>Laura Connor</b></span> is currently working on her M.S. in
          Computer Science at the University of Texas at San Antonio.
          Laura's desire to collaborate and Chuck's interest
          in innovation inspired the development of the R-T-V base station.
          The collaboration is successful because of their desire to be way
          out there as well as an eagerness to make things work.
        </p><p>
          <span   class="bold"><b>Chuck Connor</b></span>, a senior research scientist at Southwest Research
          Institute, received his B.S. in geology from the University of
          Illinois in Urbana and his M.S. and Ph.D. from Dartmouth College in New Hampshire.
          He can be reached via e-mail at <a href="mailto:cconnor@swri.edu">cconnor@swri.edu</a>.
        </p></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../063/toc063.html">Issue Table of Contents</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>