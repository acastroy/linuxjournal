<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Best of Technical Support</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;    Our experts answer your technical questions.&#10;    "><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0x12f6580.0x13edab0"></a>Best of Technical Support</h1></div><div><div class="author"><h3 class="author">Various</h3></div><div class="issuemoyr">Issue #86, June 2001</div></div><div><p>
    Our experts answer your technical questions.
    </p></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x12f6580.0x13ee0e0"></a>PPP on a PCMCIA Modem</h2></div></div><p>My Dell arrived with factory-installed Red Hat 6.2, Kernel
2.2.14-6.1.1, and a factory-installed PCMCIA modem. All worked fine
until one day, I turned on the PC and at bootup I was told:</p><pre     class="programlisting">
Bringing up interface ppp0 FAILED
</pre><p>Somewhat later during bootup, this message appeared:
<pre     class="programlisting">
Couldn't configure serial #1 (port=760, irq=3):
  device already open
serial_cs: register_serial() at 0x2f8 IRQ 3 failed
</pre>


This modem card works fine in my Gateway Windows box. Dell refuses
to help.  &mdash;Steve Lohr, steve@azstarnet.com
</p><p>It's possible you have a program running that is tying up
your serial port. Two common culprits are GPM, the text mouse
d&aelig;mon, and one of several UPS monitoring d&aelig;mons. Use
the <span   class="bold"><b>ps ax | less</b></span> command to look
for such culprits. If you are still having problems identifying the
culprit, try booting into single-user mode to shut down all
unnecessary programs. Then use minicom to access the port directly,
and verify that it can see your modem.  &mdash;Chad Robinson,
crobinson@rfgonline.com</p><p>Perhaps a lock still exists from a previous session not
ending normally. See if there are any old lock files in /var/lock,
such as LCK..modem or LCK..ttyS1. If there are, just delete the
files and reboot.  &mdash;Keith Trollope,
keith@wishing-well.demon.co.uk</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x12f6580.0x13ee3f8"></a>I Have No Nameserver and I Must nslookup</h2></div></div><p>I am setting up a Linux machine that will masquerade my
workstations and provide port-forwarding to my web/mail server. My
question is, do I need an internal DNS server on my Linux machine
to serve up DNS requests in order to browse the Web on my internal
workstations? I would rather use the hosts file to define
name-to-IP translations of my internal network.  &mdash;Brandon Zumwalt,
bzumwalt@seventhview.com</p><p>You do not need a DNS server on your Linux box, but you also
cannot use the hosts file to perform this lookup. The hosts file is
used by services running on your Linux box itself. Your first
option is to configure your internal systems to use the DNS servers
provided by your ISP. Once you have masquerading set up properly,
your workstations will be able to access them and resolve web
addresses without further work. Alternatively, you can set up a DNS
server on the Linux box that will cache workstation requests. If
you want to simplify this configuration, use the forward-only
sample configuration for BIND. That puts the server into
caching-only mode, with no local tables of its own.  &mdash;Chad Robinson,
crobinson@rfgonline.com</p><p>Check your distribution's site for BIND security updates. Old
versions of BIND, like the one that's probably on your distribution
CD-ROM, are subject to automated attacks. Or run&mdash;Don Marti
info@linuxjournal.com</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x12f6580.0x13ee5b0"></a>X and Sound over the Net</h2></div></div><p>Is there a way I can have an X window appear on more than one
X server (display)? I may want to do it (perhaps read-only) for,
say, DVD output to displays throughout my home.</p><p>Separately, when I run an X application from a remote
machine, how can I get the sound to follow and output on my local
sound device? I only seem to be able to get sound out of a
configured sound card for the host that owns the application.
Similar to the above, can this be redirected to more than one
address (back to my DVD playing in every room fantasy)?
&mdash;Matthew Holmy, mholmy@yahoo.com</p><p><span   class="bold"><b>Xmx</b></span> will allow you to
display a normal X application on several X displays,
<a href="http://www.cs.brown.edu/software/xmx" target="_self">http://www.cs.brown.edu/software/xmx/</a>.
However, for display speed reasons, some applications (like DVD
players) bypass most of the X server when they write to your video
card. Unless they have a slow, normal display mode, you can't do a
remote display. You cannot send full framerate uncompressed video
over Ethernet; it's too much data. You should, however, be able to
rip a DVD on one machine, send it over the network and play it from
disk on a different one. The network audio system lets you play
sound over the network,
<a href="http://radscan.com/nas.html" target="_self">radscan.com/nas.html</a>.
Another program you can look at is located at
<a href="http://rplay.doit.org" target="_self">http://rplay.doit.org/</a>.  &mdash;Marc
Merlin, marc_bts@valinux.com</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x12f6580.0x13ee8c8"></a><span   class="bold"><b>make</b></span> Just One
Module?</h2></div></div><p>I recently acquired a USB scanner (Epson Perfection 1640SU)
and was successful in getting it to work with my Linux system
(kernel 2.2.16-22). However, I need to modify one of the timeout
parameters in scanner.h in the kernel source. How do I recompile
this module to get scanner.o without having to recompile the entire
kernel? Do I make a backup of /lib/modules/2.2.16 before I do this,
and can it be safely restored in case of error?
&mdash;Jin, j.r.ong@ieee.org</p><p>After modifying the file, simply type <b  >make
(target)</b>, e.g., <b  >make bzImage</b>, from
your /usr/src/linux or similar directory. This will recompile only
the necessary files. The Makefile set for Linux has been altered to
always compile certain files, such as main.c, but only a few files
fit that category. All of the drivers should be skipped except the
one you've changed. If you've changed only the .h file, the
<span   class="bold"><b>make</b></span> program may not recompile
your driver. Try <b  >touch scanner.c</b> to simulate
having made changes to the file. In addition, you can make your
life a lot easier by simply using a module instead, in which case
you would not need to recompile the kernel, only rerun&mdash;Chad
Robinson, crobinson@rfgonline.com</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x12f6580.0x13eebe0"></a>fsck without Reboot</h2></div></div><p>I'm building a series of servers for a friend of mine, and
they must stay on 24 hours a day, 7 days a week, 52 weeks a year
(well, if they don't burn, obviously).</p><p>Is there a way to automatically recheck a mounted
filesystem?
&mdash;Franco Favento dei Favento da Trieste, f.favento@ieee.org</p><p>Switch to reiserfs, a journaling filesystem for Linux. Even
without it, I have had Linux servers running for years without
filesystem glitches, but reiserfs is more reliable. But if you
really want to do a filesystem check, boot using a very minimal
(better still, ramdisk) root filesystem, and store on it only those
executables needed to run a minimal system. That will allow you to
unmount the filesystems you actually need to check.  &mdash;Chad Robinson,
crobinson@rfgonline.com</p><p>Only a read-only check can be done on a mounted filesystem.
It cannot be repaired:</p><pre     class="programlisting">
fsck.ext2 -fn some-device
</pre><p>If it detects errors, you can plan downtime to
repair the filesystem.  &mdash;Keith Trollope,
keith@wishing-well.demon.co.uk
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x12f6580.0x13eeea0"></a>Files Larger than 2GB</h2></div></div><p>I am happy to report that my employers are moving to Linux in
a big way for seismic data crunching, and they've given me a nice
symmetric multipenguin. However, I routinely use files greater than
2GB. I've got reiserfs and a 2.4.2 kernel on the RH 7.0
installation now, but still can't deal with files greater than 2
&mdash;Adam Cherrett, adam.cherrett@elfgrc.co.uk</p><p>You should look at http://www.suse.de/~aj/linux_lfs.html. In
addition to kernel and glibc support, you need to do one of the
following in your programs: 1) Compile your programs with gcc
-D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE. This forces all file
access calls to use the 64-bit variants. Several types change also,
e.g., off_t becomes off64_t. It's therefore important to always use
the correct types and to not use, for example, int instead of
off_t. 2) Define _LARGEFILE_SOURCE and _LARGEFILE64_SOURCE. With
these defines you can use the LFS functions like open64 directly.
3) Use the O_LARGEFILE flag with open to operate on large
files.  &mdash;Marc Merlin, marc_bts@valinux.com</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x12f6580.0x13ef000"></a>Finding Memory Hogs</h2></div></div><p>I have recently installed Linux on my PC with 256MB RAM. I
wanted to use it as my experimental system with an Oracle server
and for some Java development.</p><p>To my surprise, the system was striving for resources,
especially memory. So I booted it fresh, and without an X session I
checked for memory usage with
<span   class="bold"><b>free</b></span>. It was showing that about
110MB was used. How do I decide what processes are using how much memory?
&mdash;Dhimant Patel, a24z57k@runbot.com</p><p>Be sure to note the &ldquo;-/+ buffers&rdquo; line when running the
<span   class="bold"><b>free</b></span> command. Linux will
automatically use available RAM to buffer I/O requests, and this
memory will be freed for program use as necessary. Your primary
concern should be the &ldquo;used&rdquo; indicator for your Swap space. It
should be small&mdash;less than a few megabytes. You can use the
<span   class="bold"><b>ps aux | less</b></span> command to examine
the memory usage of each running process. Only the resident set
size (RSS) value should be important here, but be aware that the
memory indicated is not necessarily used as-is by each process.
That discrepancy has to do with the fact that
<span   class="bold"><b>ps</b></span> will show all memory used, even
by shared libraries, although they are loaded only once for all
processes that need them.  &mdash;Chad Robinson,
crobinson@rfgonline.com</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x12f6580.0x13ef318"></a><b  >make zdisk</b> Makes SuSE Box
zdead</h2></div></div><p>I compiled kernel 2.2.16 from SuSE using <b  >make
zdisk</b>. When I boot my system, the progression dot goes to
the end of the screen and bombs out with the error mesage &ldquo;out of
memory&rdquo;.  &mdash;Eskinder Mesfin, amesfin@uhc.com</p><p>You need to compile with <span   class="bold"><b>make
bzdisk</b></span> to solve that problem; it shuffles memory around
in different ways to make bigger kernels work.  &mdash;Marc Merlin,
marc_bts@valinux.com</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x12f6580.0x13ef580"></a>Matthew 9:17</h2></div></div><p>I made some backup tapes using
<span   class="bold"><b>ftape</b></span> (HP/Colorado Travan 1). I
could read them fine on Red Hat 5.2, but on later releases (e.g.,
6.2, 7.0) it acts as if nothing is on the tape.  &mdash;Jim Haynes,
jhaynes@alumni.uark.edu</p><p>In the newer versions of ftape, a fixed block size on the
tape is used rather than the variable size previously used. To
change the block size to a variable size, type:</p><pre     class="programlisting">
mt -d /dev/qft0 setblk 0
</pre><p>Information on the old and new versions can be
found on the &gt;tape home page,
<a href="http://www.instmath.rwth-aachen.de/~heine/ftape" target="_self">http://www.instmath.rwth-aachen.de/~heine/ftape/</a>.  &mdash;Keith
Trollope, keith@wishing-well.demon.co.uk
</p></div></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../086/toc086.html">Issue Table of Contents</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>