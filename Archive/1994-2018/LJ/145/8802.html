<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>
Running Sound Applications under Wine</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;You still need Wine to get a buzz (and other audio applications) on.&#10;"><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0x20d2580.0x21c9ab0"></a>
Running Sound Applications under Wine</h1></div><div><div class="author"><h3 class="author">
Dave
 
Phillips
</h3></div><div class="issuemoyr">Issue #145, May 2006</div></div><div><p>
You still need Wine to get a buzz (and other audio applications) on.
</p></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x20d2580.0x21ca3a0"></a></h2></div></div><p>
Open any of the popular music trade magazines such as
<span   class="emphasis"><em>Keyboard</em></span> or <span   class="emphasis"><em>Sound
On Sound</em></span>, and you can't miss the plethora of colorful advertisements for
sound and music software, all of it for Windows and Mac. Much of this
software is of truly outstanding quality; some of it has set industry
standards for features and performance, and not a bit of it is available
for any platform other than Windows and Mac.
</p><p>
The open-source audio development community has made great strides toward
providing musicians with a freely available alternative to the Win/Mac
hegemony, and they deserve great praise. Nevertheless, it also must be
admitted that our community is still relatively small. Potential converts
to Linux often ask whether they can run their familiar
programs successfully under Linux, and that criterion alone can determine whether they
make the change to Linux. For all of Linux's vaunted technical
superiority, it's
a no-show if you need an application that simply doesn't exist for it.
</p><p>
This article describes how to set up and use the Wine Windows emulation
environment for sound and music applications. I test a few programs,
and I indicate the quality of performance you can reasonably expect
from running Windows music and sound software under Wine.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x20d2580.0x21ca608"></a>
Some Details</h2></div></div><p>
System emulators come in two basic flavors, machine architecture emulators
and operating system emulators. Wine is a complete package that emulates
the Windows operating system. Windows itself is not required. Wine
includes its own versions of the Windows system DLLs, but you can use
the native Windows versions if you prefer. Depending on the intended
use, the system may require other native support software expected by
your applications.
</p><p>
Wine's sound capabilities have developed largely in response to users
who want to play their favorite games without leaving their favorite
operating system. As a result, Wine has become a good candidate for
running Windows audio and MIDI applications. However, before installing
the emulator, you should check its documentation for the most current
sound system status reports. If you intend to run a particular sound or
MIDI application under emulation, your success will depend on a variety
of factors, including support for the original file formats, audio
sampling rates and required drivers.
</p><p>
The tests in this article were performed on an 800MHz machine with
an M-Audio Delta 66 digital audio I/O system and an SBLive Value
sound card. The software base included ALSA 1.0.4, JACK 0.99 and a
rock-solid 2.4.26 Linux kernel patched for low latency. As always,
your mileage may vary.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x20d2580.0x21ca7c0"></a>
Wine</h2></div></div><p>
Wine is an acronym for either WINdows Emulator or Wine Is Not an
Emulator. Curiously, both interpretations are correct. Wine is the
wine executable, a Linux program that runs Windows programs, and it is
equally libwine, a library designed to assist Windows/Linux cross-platform
development.
</p><p>
After 12 years at the alpha-release level, Wine is now officially a
beta-stage project. Hopefully, this event signals a more consistently
stable environment, but some programs still may behave erratically. The
Wine documentation gives detailed instructions for submitting useful
bug reports, so if you find that your favorite Windows program doesn't
work well (or at all) under Wine, you can help yourself and the project
by submitting a report.
</p><p>
Wine's support for basic sound and MIDI is good, and support for audio
extensions such as Microsoft's DirectX is improving, but you won't be
able to use Wine to run large, integrated multimedia applications, such
as Cubase or SONAR. However, Wine can run a variety of sound and music
programs, even some fairly big packages. Check the Wine Web site (see
the on-line Resources) for
links to lists that rate the compatibility of various Windows applications.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x20d2580.0x21ca978"></a>
Getting It, Building It</h2></div></div><p>
The WineHQ Web site provides Wine in a variety of package formats,
including the common RPM and DEB formats and full source tarball. Use your
package manager of choice to install the latest version. If you decide
to build Wine from the source package, simply open an xterm, enter your new
wine-x.x.x directory and run <tt  >./tools/wineinstall</tt>
(as a normal user). Answer
the prompts, then relax and let the Wine installer do its stuff.
</p><p>
After installation, run the notepad.exe file included with the
distribution:

<pre     class="programlisting">

wine $HOME/c/windows/notepad.exe

</pre>
</p><p>
If the familiar editor appears, Wine is ready for use. Now you can
try to run some Windows music and sound applications.
</p><p>
System requirements and build procedures may change from version to
version, so if you decide to build Wine yourself, be sure to read the
README and follow the recommended installation instructions included
with the package. The version used in this article is Wine 0.9.6,
released on January 20, 2006.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x20d2580.0x21cac38"></a>
Audio and MIDI Support in Wine</h2></div></div><p>
Linux-based musicians have two good reasons to take an interest in Wine's
sound support. The first reason is applications. Some Windows sound
programs have no equivalent in native Linux versions, and the possibility
of running those programs under Wine is very attractive. The second reason
involves libwine. That library is a key component in projects that provide
support for running Windows VST/VSTi audio synthesis/processing plugins
under Linux. In this article, I focus only on running applications
under Wine, but readers interested in learning more about the Linux + VST
connection should check out the Web page (see Resources)
for details regarding the FST (FreeST) Project.
</p><p>
At the user level, the heart of Wine's audio support can be found in
the ~/.wine/config file. Here's the relevant section of that file as it
appears in my Wine configuration:

<pre     class="programlisting">

[WinMM]
; Uncomment the "Drivers" line matching your sound setting.

"Drivers" = "winealsa.drv"    ; for ALSA users
;"Drivers" = "wineoss.drv"     ; default for most common configurations
;"Drivers" = "winearts.drv"    ; for KDE
;"Drivers" = "winejack.drv"    ; for the JACK sound server
;"Drivers" = "winenas.drv"     ; for the NAS sound system
;"Drivers" = "wineaudioio.drv" ; for Solaris machines
;"Drivers" = ""                ; disables sound
"WaveMapper" = "msacm.drv"	 ; do not change !
"MidiMapper" = "midimap.drv"	 ; do not change !

</pre>
</p><p>
The WaveMapper and MidiMapper are required; they emulate the native
Windows MCI (Media Control Interface) drivers that provide the standard
commands for controlling multimedia devices and playing and recording
multimedia data files.
</p><p>
Wine provides audio interface drivers for OSS/Free (the default), ALSA,
aRts, JACK and NAS (a network audio system). You can select a new driver
at any time, but you will need to restart Wine. Your choice of sound
driver may be determined by the application. In my experiences, some
programs worked only with the OSS/Free driver, others worked only with
ALSA, and some worked well with either one. I was especially excited to
see a JACK driver listed, but as far as I could tell, the JACK driver is
broken in this release&mdash;a reminder that Wine is still beta-stage software.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x20d2580.0x21caea0"></a>
Running Sound Apps under Wine</h2></div></div><p>
Due to space considerations, it is not possible to describe the
installation and configuration details fully for the programs I've reviewed
here. I wanted to test Wine's audio performance without going to heroic
measures, employing only its default settings as far as possible and
doing little more than selecting an appropriate sound driver as described
above. I provide a brief description of each tested program, and then I
relate my experience with running the program under Wine. Note that
these tests were made mainly with the demos and examples packaged with the
programs, and my conclusions are necessarily provisional and incomplete.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x20d2580.0x21cafa8"></a>
AudioMulch</h2></div></div><p>
Ross Bencina's AudioMulch is a sound synthesis and music composition
environment with a unique interface and a strong emphasis on real-time
performance capabilities.
</p><div       class="mediaobject"><a href="8802f1.large.jpg"><img src="8802f1.jpg"></a><div class="caption"><p>
Figure 1. AudioMulch
</p></div></div><p>
AudioMulch divides itself into three main panels (Figure 1). The left-most
panel is a graphic instrument design and connections center&mdash;a canvas upon
which you place and connect AudioMulch's various synthesis and processing
modules. Next to this panel, we see the controls for the parameters of
your selected modules. Underneath it all are the automation
controls&mdash;a stack of breakpoint displays that control module parameter changes
in real time.
</p><p>
Everything in AudioMulch is designed for
real-time updates. I verified this
assertion by loading an example file and randomly altering its controls
and breakpoint displays at random. AudioMulch easily kept up with my
changes, and Wine's audio never broke or stuttered. Very impressive!
</p><p>
I tested AudioMulch version 1.0rc2. It installed easily and was ready
for immediate use. I loaded and ran every example included with the
package, and each one performed perfectly with Wine's OSS/Free and ALSA
drivers. Potential users should note that AudioMulch is shareware,
not freeware, and the registration fee is $50 US. If you want to
test-drive the release candidate, be aware that it will expire on the
date indicated at the AudioMulch Web site.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x20d2580.0x21cb370"></a>
Band-in-a-Box</h2></div></div><p>
Band-in-a-Box is an automatic accompaniment generator. The program
creates a virtual backing band that interprets a series of user-defined
chord changes according to a selected &ldquo;style&rdquo;. A Band-in-a-Box style
is a set of rules governing quantifiable aspects of a particular music
performance style, such as country swing, rhumba, waltz time, blues shuffle
and so forth. When the user clicks the Play control, the program processes
the chord changes by the style rules, generates a real-time performance
stream and plays it with your preferred MIDI synthesizer. Voil&agrave;, you
have your dream rehearsal band.
</p><div       class="mediaobject"><a href="8802f2.large.jpg"><img src="8802f2.jpg"></a><div class="caption"><p>
Figure 2. Band-in-a-Box
</p></div></div><p>
Band-in-a-Box is the reigning king of the auto-accompaniment software
domain. Need to play those changes more slowly? No problem, Band-in-a-Box
is a MIDI-based program, so you can adjust the tempo to whatever speed
is most comfortable. Want those chords played in a different meter or
rhythm? Still no problem, Band-in-a-Box supplies hundreds of styles
to choose from, and if you don't like what's included with the base
package, you can design your own or access literally thousands of styles
and arrangements created and freely distributed by the program's vast
base of users and style developers. Don't like the instrumentation for
a particular style? Change it on the fly, add or subtract players from
the band, or mute parts at will.
</p><p>
I downloaded the most recent Band-in-a-Box demo from the program's Web
site and installed it with <tt  >wine bbw2004demo.exe</tt> at an xterm prompt. I
entered my new ~/c/bbdemo directory and ran <tt  >wine
bbwdemo</tt> to start Band-in-a-Box. I loaded an example style
from the File/BB Song dialog, pressed
the Play control and watched as the program apparently played the loaded
style. Alas, there was no sound. I reconfigured the default MIDI output
to go to the Emu10k1 synthesizer on my SBLive Value sound card, pressed Play,
and behold, I had sound. I tested other built-in styles, all perfectly
happy to perform as though they were playing under Windows itself.
</p><p>
I discovered only one potentially serious difficulty with the demo
version. I configured the MIDI input device to the hardware port on
the SBLive, but Band-in-a-Box would not record what I played on my MIDI
keyboard. The program's virtual keyboard display worked perfectly, but
I prefer to record directly from the hardware interface, so perhaps it's
time to fire up the Wine debugging tools.
</p><p>
Band-in-a-Box is strictly commercial software, with a list price of
$88 US for the Pro Edition. The demo is, of course, free.
</p><p>
Band-in-a-Box has the honor of a place in the Wine AppDB Gold 10, a
selection of Windows applications that has demonstrated consistently
excellent performance under Wine. By the measure of my simple
tests,
I must concur with that rating. Band-in-a-Box is an excellent music
application that runs beautifully under emulation. Consider it double-plus
recommended.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x20d2580.0x21cb898"></a>
Buzz</h2></div></div><p>
Buzz combines tracker-style pattern and sequence editors with a powerful
audio synthesis/processing environment to form an all-in-one package
for sound design and music composition. No other music software is quite
like Buzz.
</p><p>
I had tried installing Buzz unsuccessfully by following the normal
instructions for Windows users, but reading over the comments on the
Wine AppDB, I discovered that I needed an installation package different
from the one available on the official Buzz Web site. Here's what I
did to install and run Buzz successfully under Wine:
</p><div class="itemizedlist"><ul type="disc"><li><p>
Downloaded the package found at <a href="http://buzzdistro.cjb.net" target="_self">buzzdistro.cjb.net</a>.
</p></li><li><p>
Ran <tt  >wine buzz_base.exe</tt> to install the program.
</p></li><li><p>
Changed directory to ~/c/Program Files/Buzz.
</p></li><li><p>
Ran <tt  >wine buzz</tt>. (Honest!)
</p></li></ul></div><p>
And indeed, as shown in Figure 3, Buzz runs under Linux.
</p><div       class="mediaobject"><a href="8802f3.large.jpg"><img src="8802f3.jpg"></a><div class="caption"><p>
Figure 3. The Wine Buzz
</p></div></div><p>
Buzz synthesis and processing modules are known as machines in
Buzz-speak. The default package includes dozens of immediately useful
machines, and hundreds more are available from the Buzz community. Like
many other synthesis applications, Buzz uses a &ldquo;patching&rdquo; metaphor to
roll your own audio processing network&mdash;that is, you link machines together
with virtual patching cables to create a data-flow diagram representing
your network.
</p><p>
Figure 3 displays some opened machines. Whenever you want to manipulate
a machine's parameters, simply double-click on the machine box, and its
control panel appears. You can control all parameters in real time
with the mouse or with MIDI controllers.
</p><p>
Buzz's composition interface closely resembles a typical tracker interface
(Figure 4). A scrolling display represents beats within a selected
pattern length. Audio events (typically sampled sounds) are entered on
the desired beat lines anywhere within the pattern. Completed patterns
are then linked together to form a song sequence.
</p><div       class="mediaobject"><a href="8802f4.large.jpg"><img src="8802f4.jpg"></a><div class="caption"><p>
Figure 4. Buzz Tracker Interface
</p></div></div><p>
By the way, the package available from the link above is
not the only Buzz-for-Linux package available. If that one
doesn't work for you, try the bundle available from Flavor8 (see
Resources). Peruse
the hints and tips while you're there, and be sure to check out the
demos made with Buzz on Linux.
</p><p>
Buzz is much too rich an application to treat in any depth here, so I
simply recommend playing and studying some of the demo files included
with the distribution. The package includes extensive documentation, and
a very active community of users can be reached through the main Buzz
site. Buzz is freeware, and though it's a shame that no native Linux
version of Buzz exists (or ever will&mdash;the source code has been lost),
in lieu of a native version, you can still enjoy a pleasant Buzz with
Wine. Sorry, I just had to say it.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x20d2580.0x25c45e8"></a>
Some Conclusions</h2></div></div><p>
In the course of writing this article, I also tried to run many sound and
music programs that failed in various ways. Native Instruments' very cool
FM7 loaded and appeared to work (it received MIDI input from my
keyboard),
but no sound came from it. NI's Tracktion installed and ran, but its audio
output was terribly distorted. The latest Finale demo wouldn't install
at all, and the Reaktor 5 demo installed but crashed when started. Of
course, all these programs run perfectly well in their native Windows
environment, which is simply to say that Wine is still in development.
</p><p>
I also solicited the Linux Audio Users mail list regarding opinions of and
experiences with the use of Wine with Windows audio applications. As might
be expected, input varied. Reports included whole or partial success
with applications such as Native Instruments' Battery and Kontakt,
the Renoise tracker and the demo for Guitar Pro 3. I plan to put up a
Web page that will list Windows audio/MIDI applications that have been
tested with Wine, so if you have any notable successes or failures to
report, please contact me at <a href="mailto:dlphilp@linux-sound.org">dlphilp@linux-sound.org</a>.
</p><p>
Hopefully, Wine's JACK driver will work again in a stable version of Wine by the time
this article is printed. JACK is the present and future of Linux audio,
and it would be a definite Good Thing for the Wine Project. A virtual
ASIO driver might be a helpful addition too.
</p><p>
Ideally, native Linux applications would replace their Windows
counterparts, but until that happy time, Wine may prove to be a viable
alternative to dual-booting or setting up secondary machines. It may
lend a new lease on life to your software investment, and hopefully,
it will work well enough to let you run those needed music and sound
applications that still have no Linux equivalents.
</p><p><span   class="bold"><b>Resources for this article:</b></span>
<a href="../145/8886.html" target="_self">/article/8886</a>.
</p></div></div>
<div class="authorblurb"><p>
Dave Phillips is a musician, teacher and writer living in Findlay, Ohio.
He has been an active member of the Linux audio community since his first
contact with Linux in 1995. He is the author of <span   class="emphasis"><em>The Book of
Linux Music &amp; Sound</em></span>, as well as numerous articles in
<i  >Linux Journal</i>. He can be reached
at <a href="mailto:dlphilp@linux-sound.org">dlphilp@linux-sound.org</a>.
</p></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../145/toc145.html">Issue Table of Contents</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>