<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>
Build a Skype Server for Your Home Phone System</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;Build this Skype server to provide 24/7 phone service through regular&#10;phone handsets in your home&mdash;and save a bundle of money in the process!&#10;"><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0x2a2c580.0x2b23ab0"></a>
Build a Skype Server for Your Home Phone System</h1></div><div><div class="author"><h3 class="author">
Andrew
 
Sheppard
</h3></div><div class="issuemoyr">Issue #141, January 2006</div></div><div><p>
Build this Skype server to provide 24/7 phone service through regular
phone handsets in your home&mdash;and save a bundle of money in the process!
</p></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x2a2c580.0x2b24450"></a></h2></div></div><p>
One irritating feature of Skype is that it must be running on a computer
for you to make and receive calls. That is, when your computer is off,
Skype doesn't work. Moreover, when you run Skype on the computer you use
day in and day out, Skype's performance (call quality, reliability
and so forth) can suffer if you are doing other things that deprive it
of the runtime resources it needs.
</p><p>
My solution was to build a Skype server that provides 24/7 phone service
with the minimum of hassle and fuss. By dumping your regular phone company
and taking back control of your home phone wiring using a Skype server,
you will have not only a phone system with nearly the same capabilities
as before&mdash;indeed, in some ways better&mdash;you will also save a bundle
of money! In my case, I save a little less than $700 US each year
(this year, next year, and the year after that, and so on), or about 82%
off of my old phone bill.
</p><p>
Using a Skype server plugged in to the existing copper phone wiring of your
home means that you can lift a receiver anywhere in your home, at any
time,
and get a regular dial tone. Incoming calls either from Skype users or
regular phones ring all handsets throughout your home. Basically, you
can make Skype behave like a regular phone line, but at a tiny fraction
of the cost.
</p><p>
You have three choices when building a Skype server: buy a new computer,
build a new computer or convert an old machine you have conveniently
at hand. This article shows you how to build a new computer from
scratch to act as a Skype server. However, whichever path you take,
the configuration is the same and is covered in this article.
</p><p>
Skype is not an all-or-nothing proposition, as you can mix and match
Skype with your existing phone system, and run the new alongside the
old in parallel. That way you have the comfort of having a regular
land line and, at the same time, reap the benefits of Skype, such as
free Skype-to-Skype calls, and long-distance and international calls
at very low rates. This is the approach this article takes, and the
configuration you should be aiming for should look something like that
in Figure 1. Keeping one of your regular phone lines neatly sidesteps
issues such as 911, 411, regular fax and alarm system monitoring (make
sure the regular phone line you keep is the one used by your home alarm).
</p><p>
The setup shown in Figure 1 also simplifies the configuration of your
Skype server a good deal. Indeed, making multiple instances of Skype run
under Linux to support multiple phone lines is another article in itself!
</p><div       class="mediaobject"><a href="8592f1.large.jpg"><img src="8592f1.jpg"></a><div class="caption"><p>
Figure 1. Using a Skype Server to Replace an Existing Regular Phone
Line
</p></div></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x2a2c580.0x2b248c8"></a>
Build a Skype Server</h2></div></div><p>
Whether you buy, build new or piece together a Skype server from computer
parts you have at hand, you must first make sure that what you end up with
will meet Skype's minimum software and hardware requirements, which are:
</p><div class="itemizedlist"><ul type="disc"><li><p>
Fedora Core 3 (Skype also supports SUSE 9, Mandriva 10.1 and
Debian 3 or newer. However, Linux support for Skype add-on hardware is
presently extremely limited. In the case of the SkypeMate software used
in this article, it is limited to Fedora Core 3 only).
</p></li><li><p>
400MHz processor.
</p></li><li><p>
128MB of RAM.
</p></li><li><p>
10MB of
disk space
</p></li><li><p>
OSS-compatible sound device (or ALSA with OSS-compatibility layer
enabled).
</p></li><li><p>
Broadband Internet connection.
</p></li></ul></div><p>
Pay particular attention to the fact that these are minimum hardware
requirements for a single phone line. If you scale these requirements
in proportion to the number of phone lines you want your Skype server
to support in the long run, you won't go far wrong. You might even want
to build in some margin for future expansion. Skype is advancing at a
phenomenal rate, with each new release bringing new features and
improvements to existing features. All of this new functionality must
surely come at the cost of increased hardware resources.
</p><p>
For my Skype server, I decided to build a new machine that would be
small, both in terms of its physical size and its power consumption (as
it runs 24 hours a day, 365 days a year). The specification, and cost,
of my Skype server is shown in Table 1. Remember, a Skype server needs
no mouse, keyboard, monitor, CD-ROM or floppy drive&mdash;other than at the
time of its configuration.
</p><div class="table"><a name="N0x2a2c580.0x2b24ef8"></a><p class="title"><b>
Table 1. Typical Cost of Building a New Skype Server from
Scratch</b></p><table     summary="&#10;Table 1. Typical Cost of Building a New Skype Server from&#10;Scratch" border="1"><colgroup><col><col></colgroup><thead><tr><th>Component</th><th>Cost (US)</th></tr></thead><tbody><tr><td>
IN-WIN BT610P.180BFU2 Black steel MicroATX computer case, 180W power
supply</td><td>$39.99</td></tr><tr><td>
BIOSTAR M7VIG400 MicroATX motherboard with AMD Duron 800 mobile CPU
</td><td>$69.00</td></tr><tr><td>
OCZ value series 512MB (2 x 256MB) 184-pin unbuffered PC 2700 DDR SDRAM
</td><td>$43.75</td></tr><tr><td>
10GB Hard disk drive (used&mdash;salvaged from an old system)</td><td>Free</td></tr><tr><td>
Skype-to-Phone USB adapter (Figure 2)</td><td>$43.90</td></tr><tr><td>
Linux operating system</td><td>Free</td></tr><tr><td>
Total cost</td><td>$196.64 </td></tr></tbody></table></div><div       class="mediaobject"><a href="8592f2.large.jpg"><img src="8592f2.jpg"></a><div class="caption"><p>
Figure 2. A Typical USB Skype-to-Phone Adapter
</p></div></div><p>
Building your Skype server requires that you assemble it from the
parts. I won't cover the nitty-gritty details as there are plenty
of on-line resources to help you in this task; for example, there's a
step-by-step guide to building your own PC at PCMechanic.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x2a2c580.0x2b25b00"></a>
Configure Linux to Work with Skype</h2></div></div><p>
I'll assume that because you're a <i  >Linux Journal</i> reader, getting Fedora
Core 3 up and running on your Skype server is a no-brainer. The only
important thing to remember is that Skype is a Qt application (though
it's also available in a version with Qt statically linked), and the
Skype API uses D-BUS. Also, disable the screensaver (after all, there
won't be any screen to &ldquo;save&rdquo;) and power standby features as these may
interfere with Skype.
</p><p>
Here's a step-by-step guide to setting up Linux to work with Skype
(it assumes you have set up a Linux user account named skype for the
purpose):
</p><div class="orderedlist"><ol type="1"><li><p>
With your Skype server powered off, plug your Skype-to-Phone adapter
in to your server using a USB cable and, for test purposes, connect its
TEL socket to a regular phone handset.
</p></li><li><p>
Power up the server and log in to Linux as skype.
</p></li><li><p>
Download and install Skype for Linux. If you don't install from an RPM,
you will have to add this file by hand, /etc/dbus-1/system.d/skype.conf:

<pre     class="programlisting">

&lt;!DOCTYPE busconfig PUBLIC "-//freedesktop//DTD D-BUS Bus Configuration 1.0//EN"
 "http://www.freedesktop.org/standards/dbus/1.0/busconfig.dtd"&gt;
&lt;busconfig&gt;
  &lt;!- skype.conf --&gt;
  &lt;policy context="default"&gt;
    &lt;allow own="com.Skype.API"/&gt;
    &lt;allow send_destination="com.Skype.API"/&gt;
    &lt;allow receive_sender="com.Skype.API"/&gt;
    &lt;allow send_path="/com/Skype"/&gt;
  &lt;/policy&gt;
&lt;/busconfig&gt;

</pre>
</p></li><li><p>
Start Skype and then log in. Next (steps 5 and 6) configure Skype.
</p></li><li><p>
Make sure Skype starts automatically at login (select
Skype&rarr;Tools&rarr;Options&rarr;Privacy, and then check the box
opposite Remember my password).
</p></li><li><p>
As you want your Skype server to provide 24/7 phone service, you will
want other Skype users to see your on-line status as always Online.
Select Skype&rarr;Tools&rarr;Options&rarr;General, and then set Show me
as &ldquo;Away&rdquo; when
inactive to 0 instead of 5 minutes. Set Show me as &ldquo;Not
Available&rdquo; when
inactive to 0 instead of 20 minutes. Zero, in this case, means infinity
or never.
</p></li><li><p>
Switch to superuser mode by entering the command
<tt  >su</tt> and the root password.
</p></li><li><p>
Download install-SkypeMate.zip and unzip it to get the file
install-SkypeMate (this assumes your Skype-to-Phone adapter is compatible
with the SkypeMate software&mdash;check before you buy).
</p></li><li><p>
Change the
permissions for install-SkypeMate to make it executable
(<tt  >skype@fc3:~$</tt>
is the command prompt; what follows is the command you should enter):

<pre     class="programlisting">
skype@fc3:~$ chmod +x install-SkypeMate
</pre>
</p></li><li><p>
Run the SkypeMate install program:

<pre     class="programlisting">
skype@fc3:~$ ./install-SkypeMate
</pre>
</p></li><li><p>
Exit superuser mode and reboot the Skype server. Log in again as
skype.
</p></li><li><p>
Double-click the SkypeMate icon on your desktop (which points to
/usr/bin/SkypeMate). Skype will pop up a window asking you to give
SkypeMate permission to use its API to control Skype (Figure 3). Check
the box Do not ask me again, and then click Yes (that way, you won't
be asked to give permission again).
</p></li><li><p>
Select your USB Skype-to-Phone adapter as the audio device for calls
(select Skype&rarr;Tools&rarr;Options&rarr;Hand/Headsets, and then under
Audio Devices select the appropriate device from the pull-down list).
</p></li><li><p>
For your convenience when dialing, you may want to set up speed-dial
numbers for your contacts list. That way, you can pick up a phone handset
and simply dial, say 10#, to call a specific contact.
</p></li><li><p>
Test Skype by
calling the echo123 call-testing service.
</p></li></ol></div><div       class="mediaobject"><a href="8592f3.large.jpg"><img src="8592f3.jpg"></a><div class="caption"><p>
Figure 3. Giving Permission for SkypeMate to Connect to Skype through Its
API
</p></div></div><p>
If you want to make calls to regular phones, you will have to sign up your
Skype server account for SkypeOut, and if you want to receive incoming
calls from regular phones, you will have to sign up for SkypeIn. Both
services are available at Skype's cheap rates.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x2a2c580.0x2b1d4c0"></a>
Installing Your Skype Server</h2></div></div><p>
Where are you going to locate your Skype server? Ideally, it should be
somewhere with access to power, good ventilation, an Internet connection,
your regular phone lines (RJ11 sockets) and out of sight. My choice was
to install my Skype server in my basement (Figure 4), which is possibly
the ideal location, but not necessarily one open to everybody. If your
choices are more limited, that's all the more reason to think long and
hard about where to put your Skype server once it's built.
</p><div       class="mediaobject"><img src="8592f4.jpg"><div class="caption"><p>
Figure 4. Skype server to provide 24/7 phone service. Server is at the top
of the photo, cable modem and wireless router are to the left, and the patch
board for household phone wires is to the right. In the center of the
picture is the power distribution cabinet for my house.
</p></div></div><div       class="mediaobject"><a href="8592f5.large.jpg"><img src="8592f5.jpg"></a><div class="caption"><p>
Figure 5. Phone Patch Board
</p></div></div><p>
Here's a step-by-step guide to installing your Skype server in your home:
</p><div class="orderedlist"><ol type="1"><li><p>
Cancel one of your regular phone lines (not the one that serves your home alarm system).
</p></li><li><p>
Cut the incoming phone line that has been canceled where it enters
your home (see sidebar).
</p></li><li><p>
Connect the Skype-to-Phone adapter to all the handsets of your canceled phone line by connecting its TEL socket to the wall socket of the canceled line using a regular phone cable having RJ11 sockets at both ends.
</p></li><li><p>
Test Skype again using the handsets plugged in to the canceled line.
</p></li><li><p>
Power down your server and remove any borrowed hardware that was used
during its configuration, but that is not needed for its operation, such
as a CD-ROM and floppy drive.
</p></li><li><p>
Move the server to its new location. Plug in all the cables and connectors, then power it on.
</p></li><li><p>
Log in and test Skype once more.
</p></li><li><p>
Remove the mouse, keyboard and monitor.
</p></li><li><p>
If all has gone well, you now have 24/7 phone service on one phone line provided exclusively by Skype.
</p></li></ol></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x2a2c580.0x2b1e018"></a></h2></div></div><div class="sidebar"><p class="title"><b>Safely Cutting Your Phone Line
</b></p><p>
To cut your incoming phone wires safely, you need a pair of wire
cutters (or sharp scissors) with insulated handles, a roll of electrical
insulation tape, and you need to follow a simple procedure to
do the cutting (Figure 6).
</p><p>
Your phone wires are powered by the telephone company; that's why your
regular telephone works during a power cut. Now, even if you've had the
phone company disconnect you, your phone wires may or may not still
have electrical power. Consequently, you must be careful not to short the
wires when cutting them. Even a momentary short can be bad news. This
can happen if you cut two or more wires at the same time (step 1). The
solution is simple, cut only one wire at a time (step 2). As you cut
wires,
you should insulate their exposed ends with electrical tape (step 3).
</p><div       class="mediaobject"><a href="8592f6.large.jpg"><img src="8592f6.jpg"></a><div class="caption"><p>
Figure 6. Steps for cutting your phone lines: step 1) don't cut all the
wires at once; step 2) cut wires one by one; step 3) insulate ends of
cut wires as you go.
</p></div></div><p>
Now, if this activity looks to be beyond your comfort zone, you
always have the option of calling the phone company and having them send
a technician to do the job for you. Even after paying for this to be
done,
your Skype savings will most likely recoup the cost in very little time.
</p></div><p>
For those readers who are security-conscious, and don't trust Skype as an
application, building a Skype server has an added advantage. By placing
the Skype server on your Internet connection outside your firewall, you
gain the peace of mind that should a hacker break in to your server, or
compromise Skype somehow, then as the server interfaces with nothing more
than a copper phone line into your home beyond the firewall, any damage
will necessarily be contained and limited to the Skype server outside the
firewall. Worst case is that you'll need to do a reinstall on your Skype
server, and perhaps, a better job of locking it down from a security
point of view so that it can protect itself. Indeed, if your firewall is
sufficiently restrictive that Skype won't work on the inside, then
placing your Skype server outside your firewall is the only way in which
you can take advantage of Skype's phone services.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x2a2c580.0x2b1e490"></a>
Working Out Your Savings from Using a Skype Server</h2></div></div><p>
Phone bills have a lot in common with taxes. Both are mind numbingly
complex, and both take a lot and give little in return! To help work out
your potential savings from switching to Skype for your phone services,
in whole or in part, I've written a spreadsheet that simplifies the
process and can be downloaded from the Elpis Web site (see the on-line Resources).
</p><p>
You should factor in the cost of building and running a Skype server into
your savings analysis. Running costs will depend on the machine that you
choose to use in order to run Skype 24/7. An old clunker of a machine may
consume so much power that it would be worthwhile to build a new machine
in the long run. As always, run the numbers and make some decisions.
</p><p>
Let's look at the cost of running a small Skype server 24 hours a day,
365 days a year. Without a monitor and other peripherals to guzzle power,
a small modern computer typically consumes between 50W and 100W. If your
cost of electricity is $0.10 per kWh, then the annual cost of running your
Skype server is between $44 and $88. These are just ballpark numbers and
you'll no doubt do your own, but it does show that the cost of running
a Skype server 24/7 is not insignificant. (Cost = power consumed in kW
x 365 days x 24 hours x cost per kWh, where a power consumption of 50W
is 0.05kW and 100W is 0.1kW.)
</p><p><span   class="bold"><b>Resources for this article:</b></span>
<a href="../141/8644.html" target="_self">/article/8644</a>.
</p></div></div>
<div class="authorblurb"><p>
Andrew Sheppard is the author of the book <span   class="emphasis"><em>Skype
Hacks</em></span> (ISBN:
05-9610-1899) published by O'Reilly (<a href="http://www.oreilly.com" target="_self">www.oreilly.com</a>), and the
editor of Elpis' <span   class="emphasis"><em>Skype Power User Magazine</em></span> for Elpis Publishing
Limited (<a href="http://www.elpispublishing.com" target="_self">www.elpispublishing.com</a>). He can be contacted at
<a href="mailto:shep@elpispublishing.com">shep@elpispublishing.com</a>.
</p></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../141/toc141.html">Issue Table of Contents</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>