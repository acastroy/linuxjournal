<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>UpFront</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;Use netstat to See Internet Connections&#10;"><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
<div class="article" lang="en">
  <div class="titlepage">
    <div>
      <h1 class="title">UpFront</h1>
    </div>
<a name="mpart"></a>
<ul class="mpart-list"><li class="mpart-listitem"><a href="#mpart1">Tech Tip</a></li>
<li class="mpart-listitem"><a href="#mpart2">Tech Tip</a></li>
<li class="mpart-listitem"><a href="#mpart3">Tech Tip</a></li></ul>

<a name="mpart1"></a>
<h2 class="title">Tech Tip</h2>
<div class="titlepage"><div><div class="author"><h3 class="author">
Erik
 
Falor
</h3></div><div class="issuemoyr">Issue #177, January 2009</div></div><div><p>
Use netstat to See Internet Connections
</p></div></div><div class="simplesect" lang="en"><p>
Using netstat, you can monitor programs that are making connections to
remote hosts:

<pre     class="programlisting">
$ netstat -tpe
</pre>
</p><p>
The -t flag limits the output to show only TCP connections. The -p flag
displays the PID and name of the program making the connection. The -e
flag displays extra information, such as the user name under which each program is
running.
</p></div>

<a name="mpart2"></a>
<h2 class="title">Tech Tip</h2>
<div class="titlepage"><div><div class="author"><h3 class="author">
David
 A. 
Sinck
</h3></div><div class="issuemoyr">Issue #177, January 2009</div></div><div><p>
Handle Compressed and Uncompressed Files Uniformly
</p></div></div><div class="simplesect" lang="en"><p>
When looking at log files or other files that are 
compressed and rotated automatically, it's useful to be able to deal with them in a
uniform fashion. The following bash function does that:

<pre     class="programlisting">
function data_source ()
{
 local F=$1

 # strip the gz if it's there
 F=$(echo $F | perl -pe 's/.gz$//')

 if [[ -f $F ]] ; then
  cat $F
 elif [[ -f $F.gz ]] ; then
  nice gunzip -c $F
 fi
}
</pre>
</p><p>
Now, when you want to process the files, you can use:

<pre     class="programlisting">
for file in * ; do
 data_source $file | ...
done
</pre>
</p><p>
If you have bzip2 files, just modify the data_source function to check
for that also.
</p></div>

<a name="mpart3"></a>
<h2 class="title">Tech Tip</h2>
<div class="titlepage"><div><div class="author"><h3 class="author">
Janos
 
Gyerik
</h3></div><div class="issuemoyr">Issue #177, January 2009</div></div><div><p>
Using ps to Monitor Processes
</p></div></div><div class="simplesect" lang="en"><p>
In a previous tech tip, we saw how to use kill to monitor processes.
Another option is to use ps. With both methods, you can check $? for
success/failure. However, note that <tt  >kill -0</tt> may return failure even
if the process actually exists. This happens when the current user has
no permission to the process in question, for example: <tt  >kill -0
1</tt>.
</p><p>
To check for a process silently (with no output), use:

<pre     class="programlisting">
kill -0 PID 2&gt;/dev/null
ps -p PID &gt;/dev/null
</pre>
</p></div>
  </div>
</div>


  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../177/toc177.html">Issue Table of Contents</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>