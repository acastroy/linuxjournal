<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Best of Technical Support</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;    Our experts answer your questions.&#10;    "><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0x2643580.0x273aab0"></a>Best of Technical Support</h1></div><div><div class="author"><h3 class="author">Various</h3></div><div class="issuemoyr">Issue #89, September 2001</div></div><div><p>
    Our experts answer your questions.
    </p></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x2643580.0x273b0e0"></a>The Dreaded &ldquo;LI&rdquo; Problem</h2></div></div><p>I put a second IDE hard drive in my PC and installed Mandrake
Linux 8.0 on it. Now when I reboot, I have the dreaded &ldquo;LI&rdquo;
problem, i.e., LILO displays only the first two letters of the LILO
prompt. I believe the source of my problem is that I installed the
second hard drive as slave on the secondary IDE. My boot partition
(mounted as /) is hdd6.</p><p>&mdash;Frederic Mora, fmora@attglobal.net</p><p>Getting &ldquo;LI&rdquo; from LILO usually means that the first-stage
boot loader was able to load the second-stage boot loader but has
failed to execute it. This can either be caused by a disk's
physical configuration inconsistency or because you moved
/boot/boot.b without running the map installer. In practical terms,
you indeed need to reconfigure /etc/lilo.conf to describe where
(which disk) each partition is on your system. So, you need to
reboot your system from a rescue disk and get into a root prompt so
you can edit lilo.conf and point each element to where it is
physically located (in accordance to the way your disks are
identified: /dev/hdaX, /dev/hdbY, /dev/hddZ, etc.). After editing
/etc/lilo.conf, run <b  >/sbin/lilo -v</b> to write all
to the disks and reboot. Look at the page
<a href="http://www.fan.nb.ca/~aa126/troubleshoot-LILO.html" target="_self">www.fan.nb.ca/~aa126/troubleshoot-LILO.html</a>
for additional information on LILO.</p><p>&mdash;Felipe E. Barousse Bou&eacute;, fbarousse@piensa.com</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x2643580.0x273b3a0"></a>wu-ftp Won't Let Users in</h2></div></div><p>I'm having some problems with logging on to the FTP server in
my company. I've installed wu-ftpd and anonyftp to the server. The
guest account has been created, but all the users are not able to
log on to the FTP server. I'm sure that the password is
correct.</p><p>&mdash;Alan Lim, alan_lim@astro.com.my</p><p>Check the log files in /var/log to see if they are telling
you anything. You can use the -d flag in conjunction with wu-ftpd
to increase the amount of logging. If you compiled the FTP
d&aelig;mon yourself, check to see whether it is having problems
with PAM or shadow passwords. It may not be sensing that this is
required during the compile process. Please note that, in any case,
this is a huge security risk.
<span   class="bold"><b>wu-ftpd</b></span> is not designed to execute
the chroot() function for normal user logins, meaning normal
(nonanonymous) users will be able to access the entire system once
they log in. You might want to consider fixing both issues at the
same time by installing a more secure FTP d&aelig;mon such as
ProFTPD or NcFTPD and configuring them to chroot() to the user's
home directory.</p><p>&mdash;Chad Robinson, crobinson@rfgonline.com</p><p>Alan, please make sure that the shell account used with those
users is listed in the wu-ftp configuration. Otherwise it will deny
access even if the password is correct.</p><p>&mdash;Mario Neto, mneto@argo.com.br</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x2643580.0x273b6b8"></a>I Have No Source and I Must make</h2></div></div><p>I have installed or attempted to install almost every
distribution available. The best install I have found is Mandrake
7.0, 7.1 and 7.2. The problem I have is I cannot get source code to
install when I do <b  >configure</b>. The system either
gives me a syntax error or some file is missing. I've read all the
read files, I have several books and I still can't find out what's
wrong.</p><p>&mdash;Bill York, bill_york@pipeline.com</p><p>You should be able to install source files (such as the Linux
kernel source) with RPM; just mount the source CD,
<b  >cd</b> to the directory containing the source RPMs,
and use</p><pre     class="programlisting">
rpm -i kernel-source-file.rpm
</pre><p>That should do it. Installing with RPM (in the case
of Mandrake) is fairly easy, and it also takes care of most
dependencies on other files. If you still get an error, then you
probably need to install some other stuff before the actual file
you are trying to install.
</p><p>&mdash;Felipe E. Barousse Bou&eacute;, fbarousse@piensa.com</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x2643580.0x273ba28"></a>Ignoring BOOTP Requests</h2></div></div><p>I recently set up a DHCP server, and when I monitor the port
I am seeing BOOTP requests that come from an old VAX system that
gets its boot information from a machine on the other side of our
router. Is there something I can turn off on my Linux box or
configure to ignore those requests?</p><p>&mdash;Pat Derosa, pderosa@ap.org</p><p>Are the BOOTP requests actually causing problems or are they
merely an annoyance in your log files? The ISC DHCP d&aelig;mon
allows you to use the deny bootp option to ignore BOOTP clients,
but that may not stop the server from logging the request. In that
case, you may have limited options. You may be stuck with the
message unless you are comfortable locating the line in the source
code, commenting it out and recompiling the d&aelig;mon.</p><p>&mdash;Chad Robinson, crobinson@rfgonline.com</p><p>If you don't have &ldquo;allow unknown-clients&rdquo;, your DHCP server
will not serve requests to machines that aren't explicitly listed
by MAC address. Also, if you omit dynamic-bootp, your DHCP server
will not serve bootp requests.</p><p>&mdash;Marc Merlin, marc_bts@valinux.com</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x2643580.0x273bce8"></a>Adding Services from Kickstart</h2></div></div><p>In writing the post installation part of my Red Hat 7.1
Kickstart file, I would like to add services such as ypserv and
autofs automatically. How can I do it?</p><p>&mdash;Sowmya, sowms@yahoo.com</p><p><span   class="bold"><b>chkconfig</b></span> would be the way
to do it. Do a <b  >chkconfig --help</b> and see all the
options you can. For instance, add nfs to start automatically at
run level 3 with</p><pre     class="programlisting">
chkconfig --level 3 nfs on
</pre><p>&mdash;Felipe E. Barousse Bou&eacute;, fbarousse@piensa.com
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x2643580.0x273c000"></a>Slow Mail Server</h2></div></div><p>We are experiencing a long delay in resolving the request at
the server when checking for mail. At times it is instant (seldom)
and at others it times out (taking more than four minutes). We have
tried with different setups of &ldquo;hosts, DNS&rdquo; and &ldquo;DNS, hosts&rdquo;,
assuming it was trying to resolve the querying address. When a
dial-up connection is made they are assigned an IP address and DNS
server.</p><p>The Internet (Squid) has no problems and works perfectly. It
also seems that once a connection is made checking for mail, the
next request is instant.</p><p>&mdash;Kevin, kevin@atom.co.za</p><p>You could use <b  >host mailserver</b> and check
the delay to see if it is DNS. You could use
<b  >tcpdump</b> and watch traffic to and from your mail
server to see where the delay is (assuming it is not DNS).</p><p>&mdash;Christopher Wingert, cwingert@qualcomm.com</p><p>You should run <b  >tcpdump</b>, or if you have it,
<b  >ethereal</b>, and snoop your connection. This will
give you an idea if the DNS delay is from your side or possibly on
the mail server's side.</p><p>&mdash;Marc Merlin, marc_bts@valinux.com</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x2643580.0x273c478"></a>Need to Write to Windows Partitions</h2></div></div><p>Although I have my three Windows partitions mounted in Linux,
I only have write-access when logged on as root. I need to have
write-access as myself so that I can run VMware. I have tried to
change the permissions for these partitions using
<b  >chmod</b> while logged on as root, but the
permissions don't change.</p><p>&mdash;Bill Freeto, wfreeto@earthlink.net</p><p>Use the uid and gid mount options (you also want &ldquo;quiet&rdquo;
typically). A sample fstab entry for a vfat partition would look
like this:</p><pre     class="programlisting">
/dev/sda3      /drv/c          vfat
user,umask=002,uid=500,gid=500,quiet,low
</pre><p>More info can be found in the mount man
page.
</p><p>&mdash;Marc Merlin, marc_bts@valinux.com</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x2643580.0x273c790"></a>That's Enough Disk Space for You</h2></div></div><p>Is there any way that I could limit the size of a directory?
I want to start a web-hosting server and limit some users to 100MB.
How do I go about doing this?</p><p>&mdash;Jason Sidabras, sidabraj@msoe.edu</p><p>Take a look into the quota package for Linux. Part of this
application resides in the kernel and must be compiled in or
installed as a module. The other part is a user-space program that
handles the actual control and notification aspects.</p><p>&mdash;Chad Robinson, crobinson@rfgonline.com</p><p>Look at the Quota mini-HOWTO:
<a href="http://www.linuxdoc.org/HOWTO/mini/Quota.html" target="_self">www.linuxdoc.org/HOWTO/mini/Quota.html</a>.</p><p>&mdash;Marc Merlin, marc_bts@valinux.com</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x2643580.0x273caa8"></a>2.4.2 Panics!</h2></div></div><p>I tried to upgrade my kernel to 2.4.2. When I rebooted I got
a kernel panic. It said:</p><pre     class="programlisting">
root fs not mounted
cannot open root device "301" of 03:01
Please append a correct root = "boot option"
kernel panic vfs:
unable to mount root file system on 03:01.
</pre><p>I used the same device as my other kernel, /dev/hda1, and I
did a <b  >rdev</b> to make sure that is right. I also
went back into <b  >make xconfig</b> and made sure that
ext2 was compiled in and not a module.
</p><p>&mdash;Michael Diaczyk, mdiaczyk@tampabay.rr.com</p><p>If you didn't somehow mess up the partition table or the
actual disk data, you should be able to boot by passing a parameter
to LILO at boot time. At the LILO: prompt, try typing</p><pre     class="programlisting">
linux root=/dev/hda1
</pre><p>Once this works, edit your /etc/fstab to ensure
that the entry for your root (i.e., /) partition is correct. Also
ensure that the root= line in your /etc/lilo.conf points to the
right partition.
</p><p>&mdash;Scott Maxwell, maxwell@ScottMaxwell.org</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x2643580.0x2b35118"></a>Bad Module, Bad, Bad!</h2></div></div><p>Is it possible for an errant module to mess up /proc files so
that nobody can look at them without causing an oops? If the module
forgets to free an interrupt when it is unloaded, then
/proc/interrupts is gone. If it forgets to release I/O space, then
/proc/ioports is defunct. If it calls unregister_chrdev with the
module name misspelled (nobody would do that, right?), that
destroys /proc/devices. When this sort of thing has happened, can
the system be rescued or is rebooting the only option?</p><p>&mdash;Bill McConnaughey, mcconnau@biochem.wustl.edu</p><p>It's possible for an errant module to do anything&mdash;it's
running as part of your kernel, after all. If I saw a problem like
the one you're reporting, I'd reboot immediately. It's
theoretically possible to fix the problem without rebooting by
writing and installing another module that undoes the damage caused
by the first one, but this is impossible in practice unless you
happen to know exactly what went wrong&mdash;and it's not necessarily
easy even then.</p><p>&mdash;Scott Maxwell, maxwell@ScottMaxwell.org</p></div></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../089/toc089.html">Issue Table of Contents</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>