<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Alias|Wavefront Maya 4</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;    The high-end graphics application used by animators in recent&#10;    films has a new Linux offering.&#10;    "><meta name="keywords" content="3-D, animation, Maya, Alias|Wavefront, graphics"><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0x1e90580.0x1f87ab0"></a>Alias|Wavefront Maya 4</h1></div><div><div class="author"><h3 class="author">Robin Rowe</h3></div><div class="issuemoyr">Issue #90, October 2001</div></div><div><p>
    The high-end graphics application used by animators in recent
    films has a new Linux offering.
    </p></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1e90580.0x1f886b8"></a></h2></div></div><p> Universal Pictures' <span   class="emphasis"><em>Captain
Corelli's Mandolin</em></span> and Paramount Pictures'
<span   class="emphasis"><em>Enemy at the Gates</em></span> both feature combat scenes
with Stuka dive bombers, despite there being no flying Stukas in
the world today. The Stukas flying in both of these summer movies
are the creations of 3-D animators using Linux and Alias|Wavefront
Maya at Double Negative, a division of Universal in London. Maya is
a professional 3-D software package for creating digital content
for movies, television and computer games. In the film industry,
Maya is used for everything from photorealistic effects including
Columbia Pictures' <span   class="emphasis"><em>Final Fantasy: The Spirits
Within</em></span> to classic cel animation including DreamWorks
SKG's <span   class="emphasis"><em>The Road to Eldorado</em></span> and <span   class="emphasis"><em>The
Prince of Egypt</em></span>. Linus Torvalds described Maya 3 as
&ldquo;the most complex and powerful 3-D graphics application ever to
run on Linux.&rdquo; In this article, I review installing and using
Linux Maya 4, point out resources on the Web of interest to Maya
animators and interview the team who ported Maya to Linux.
<div       class="mediaobject"><img src="5235f1.jpg"><div class="caption"><p>
Enemy Stuka from Universal Pictures' <span  class="emphasis"><em>Captain Corelli's
Mandolin</em></span>. Visible motion blur is a deliberate effect
generated during rendering.
</p></div></div>

</p><p>Maya 1 was first released in 1998 on SGI IRIX, where it is
considered a killer application. In fact, Alias|Wavefront is a
division of SGI. Maya for Windows NT2000 first appeared in 1999,
and the first Linux version was Maya 3, released in March with
support for Red Hat Linux. My installation won't be on the typical
Red Hat but rather on Debian Woody with kernel 2.4.7. My hardware
configuration is a homebrew Athlon 1.2GHZ, ASUS A7A266 motherboard,
256MB DDR, with 100GB of 7,200RPM IDE disk drives. For graphics
we're running XFree86 4.1.0 with its accelerated open-source DRI
driver on an ATI ALL-IN-WONDER RADEON. Building and installing
4.1.0 with the accelerated RADEON driver is a story of its own&mdash;to
be covered next month.</p><p>
<div       class="mediaobject"><a href="5235f2.large.jpg"><img src="5235f2.jpg"></a><div class="caption"><p>From Steven Stahlberg's Animation Short
</p></div></div>
</p><p>Improvements in Maya 4 include enhancements, optimizations
and bugfixes. It has a new 3-D paint system. Changes were made to
rendering, character animation, brush-and-paint tools, and
games-related functionality. Enhancements to the Maya nonlinear,
motion-editing technology include time warping, character merging,
drag-and-drop, and character set editing. New character animation
features include switching between forward kinematics and inversion
kinematics, quaternion-based IK, motion trails, ghosting and a
jiggle deformer to wobble character muscles. What that means in
English is that it has every feature you can think of for an
animation package and then some.</p><div       class="mediaobject"><img src="5235f3.jpg"><div class="caption"><p>
Maya 4 Opening View
</p></div></div><p>As commercial software for professional animators, Maya is
priced accordingly. Maya Builder is $2,995 US, Maya Complete is
$7,580 and Maya Unlimited is $16,000. A free 30-day evaluation
period is available, and students are offered a half-price
discount. Builder is configured primarily for game developers. It
contains full-polygonal modeling, UV toolset (for working with
textures) and basic animation features including path, scaling,
keyframing, plus some of the deformation tools, some of the IK
solvers (for realistic motion) and the full API. Builder provides
no renderer because games have their own engine. By the way, most
film animators use Pixar's RenderMan software for rendering their
final output. Complete is Builder plus NURBS tools, all animation
and IK tools, plus unlimited rendering. Unlimited is Complete plus
Fur, Cloth and Live (camera extraction for match-moving mattes with
live action). Before starting Maya you need to enter a separately
provided serial number based on your machine's unique Ethernet MAC
address into the license manager.</p><p>Linux Maya Unlimited is provided as a set of RPM files, about
143MB in the Maya 4 prerelease package I received. For Debian, we
of course need deb files and not RPM. This provided an opportunity
for me to try the package-converter Alien. Author Joey Hess says,
&ldquo;Alien converts between the rpm, deb, Stampede slp and Slackware
tgz file formats. If you want to use a package from another
distribution than the one you have installed on your system, you
can use alien to convert it to your preferred package format and
install it.&rdquo; Alien is GPL and a package included with
Debian.</p><p>I used the syntax <b  >alien -k
package_name.rpm</b> for Alien. When I ran Alien against Maya
it created a deb but also generated a bunch of warnings of the
form:</p><pre     class="programlisting">
dpkg-shlibdeps: warning:
format of maya_lib_name.so is not recognized
</pre><p>where maya_lib_name.so was each of the shared libraries
included with Maya. When I tried launching Maya it terminated,
unable to find its shared libraries. Hess quickly set it right,
&ldquo;It's possible that the libraries are installed, but the necessary
symlinks to let ldconfig find them are not installed.&rdquo; He
suggested manually running ldconfig, which did the trick. Besides
running <b  >ldconfig -v /usr/aw/maya4.0/lib</b>, I also
added that directory name to my /etc/ld.so.conf file.
<div       class="mediaobject"><img src="5235f4.jpg"><div class="caption"><p>
A Simple Polygon Cylinder
</p></div></div>

</p><p>Maya is a large application and needs some time to load its
plugins. Like the popular Linux image editor, the GIMP, it takes a
while to load, but once it's up, it's fast. After Maya is loaded,
you are presented with a grid plane in 3-D space. The functionality
of Maya can be categorized roughly as modeling, animation,
dynamics, shaders, rendering and plugins. Models are created from
polygons, but the shapes may be faceted or smooth and organic.
Working in a 3-D animation package is more like sculpting than
drawing. You do need to be an artist.</p><p>The user interface for Maya centers on the Hotbox, a spider
web of pop-up menus. Hotbox enables quick menu access by pressing
the spacebar. You then drag from the center position to the menu
desired. Although pull-down menus are provided, many animators turn
them off because using Hotbox is faster and more intuitive.</p><p>The Maya hotkeys are a refinement of the vi theory of key
navigation: location, location, location. Hotkeys are placed
according to speed of operation, like the QWERTY keyboard. The
QWERTY key functions are Q for select, W for translate, E for
rotate, R for scale, T for show manipulator and Y for last tool
used. This system is very fast for trained operators but confusing
at first. Note that everything in Maya is customizable. Using the
built-in MEL scripting language you can change anything you don't
like, even Maya's entire GUI. Maya's creators sometimes have to ask
what application a Maya animator has up on his or her screen. It
may not look anything like Maya.</p><div       class="mediaobject"><img src="5235f5.jpg"><div class="caption"><p>
The Same Cylinder after Converting to SubD Keg Viewed in Four
Perspectives Simultaneously
</p></div></div><p>Let's make a simple figure. The icons across the top create
basic shapes. Shapes may be polygons, subdivisions (SubD) or NURBS.
Polygons are faceted shapes, while SubDs and NURBS are smooth. When
shapes are created they pop to the origin at 0,0,0. Viewing the
shape may require moving the view perspective to face the object.
An easy way to do that is to use View&reg; Frame Selection. The
left row of icons contains the scale, move and rotate tools.
Grabbing an object by one of its x-y-z handles manipulates
it.</p><p>Looking from just one perspective tends to be misleading and
causes mistakes. What happens is the side of an object you can see
looks fine as you work on it, but the sides and back turn out to be
way off. Quickly clicking the spacebar switches to four-view mode.
In this mode, you can see what you are doing from multiple
perspectives, simultaneously.</p><p>An object created as a polygon can be converted into another
type, such as SubD or NURBS. The advantage of a SubD surface is you
can build a perfectly smooth complex object from a single
primitive. When you animate a SubD it can't fall apart due to
seams. NURBS may require stitching together separate pieces.
Working with SubD surfaces is more like polygons in that areas may
be extruded, for instance, to create fingers on a hand. You may
also add levels of detail to a SubD to create complex features to
local regions, such as the knuckles of a hand.</p><p>
<div       class="mediaobject"><a href="5235f6.large.jpg"><img src="5235f6.jpg"></a><div class="caption"><p>Clicking the spacebar switches to 4-view mode, vital
for seeing your work from multiple perspectives
simultaneously.</p></div></div>
</p><p>In working with Maya the initial reaction tends to be
frustration. Although simple tasks are easy and intuitive, the
sheer complexity of the tool defeats novices. The learning curve is
steep. The software comes with excellent tutorials, but the books
suffer from an assumption that you have seen Maya before. Following
the tutorials (which are otherwise excellent) is a struggle in
figuring out where an option box or menu referred to by the manual
is located in the software. There are many menus and they drill
many levels deep. There is even a search box to find a particular
menu, a thoughtful but sobering feature.</p><p>For a detailed overview of the features of Maya and 3-D
graphics in general see the book <span   class="emphasis"><em>The Art of
Maya</em></span> published by Alias|Wavefront (2000). That may be
your best bet if you decide to get just one book (besides the
manuals), and it looks good on your coffee table besides.
Third-party books include <span   class="emphasis"><em>Mastering Maya 3</em></span>
(2001), <span   class="emphasis"><em>Digital Effects Animation Using Maya</em></span>
(1999) and <span   class="emphasis"><em>Maya Illuminated: Games</em></span> (2001).
There aren't drastic changes in Maya 4, so books on version 3 are
still usable.</p><div       class="mediaobject"><img src="5235f7.jpg"><div class="caption"><p>
Searching for a Menu in Maya
</p></div></div><p>The Web provides tons of information about Maya, starting
with Alias|Wavefront's own site. Besides descriptions of Maya being
used in movie productions, it lists events, job postings, industry
links, listservs, user groups and HOWTO guides. You can download
shaders, source images, props, MEL scripts, paint effects, sample
projects, plugins, screensavers and desktop pictures there. Another
site with a lot of content is HIGHEND3D. And, 3D CAFE says they are
the world's largest web site for computer graphic artists. Both
sites have large sections devoted to Maya. Magazines devoted to 3-D
graphics include <span   class="emphasis"><em>Computer Graphics World</em></span>,
<span   class="emphasis"><em>CGI</em></span>, <span   class="emphasis"><em>3D World</em></span> and
<span   class="emphasis"><em>Computer Arts</em></span>, all of which have web
sites.</p><p>There's an attractive gallery of projects done in Maya at
<a href="http://www.users.pandora.be/gds/maya/gallery.htm" target="_self">users.pandora.be/gds/maya/gallery.htm</a>.
If you are interested in realism you may want to visit Steven
Stahlberg's gallery and check out the tutorials on creating human
faces at
<a href="http://optidigit.com/stevens/howto.html" target="_self">optidigit.com/stevens/howto.html</a>.</p><p>General manager of Maya engineering Kevin Tureski says the
reason for Maya on Linux is quite simple: &ldquo;Demand for Linux became
a dull roar. The Visual Effects Society, which represents our
strategic customers, had a meeting with us about a year ago
expressing a strong desire for Linux.&rdquo; VES members are from the
major motion picture companies.</p><p>According to Tureski, Maya is about 20 million lines of code,
15 thousand source files and 15 thousand classes. Linux Maya lead
developer Wayne Arnold says they compiled using Red Hat 6.2 and gcc
2.91.66, although Red Hat 7.1 is supported. Linux tools used with
Maya include vi, Emacs, gdb and ddd.</p><p>Support for accelerated graphics was a sore point with
porting to Linux. &ldquo;Only in March of this year has Linux become
viable to fully support our configuration&rdquo;, says Tureski. &ldquo;Maya
is a very large application. The OS and OpenGL are pushed to the
limit.&rdquo; Arnold says that drivers for HP fx10, ATI FireGL2 and
NVIDIA are supported. The RADEON and NVIDIA open-source drivers are
not. &ldquo;We spent a lot of time with graphics card driver
manufacturers getting Maya fully supported&rdquo;, says Arnold. &ldquo;The
biggest problem was getting the correct visual 24-bit. There were a
lot of memory leaks and other bugs to fix in drivers because they
were so new. Some areas of pixel-type operations and triangles
hadn't been hardware accelerated.&rdquo; New code was added to Maya to
remove the requirement for hardware overlay in order to provide
compatibility even with (unsupported) nonaccelerated
drivers.</p><p>Red Hat on HP was the initial configuration for Linux Maya,
and other PC machines are described as being in various states of
almost there. &ldquo;Audio was a challenge and continues to be&rdquo;, says
Tureski. They are writing to the OSS sound API. Maya is almost
equivalent on Linux to the Maya on Windows and IRIX. One thing
missing is the ability to read AVI, QuickTime and MPEG files. On
the subject of QuickTime players, ILM Director of Research Andy
Hendrickson says that their Linux QuickTime code library may become
open source.</p><p>DreamWorks SKG is using Maya on Linux for production of their
next feature animation motion picture, <span   class="emphasis"><em>Spirit: Stallion
of the Cimarron</em></span>, as described in this column last month.
Many other studios are switching to Linux for their animation and
special effects desktops. Thanks in part to Maya, Linux is becoming
the technical desktop of choice for the film industry.</p><p><a href="5235s1.html" target="_self">Resources</a></p></div></div>
<div class="authorblurb"><p>
        <div       class="mediaobject"><img src="5235aa.jpg"></div>

        <span   class="bold"><b>Robin
      Rowe</b></span> (robin.rowe@movieeditor.com) is a partner in
      MovieEditor.com, a technology company that creates internet and
      broadcast video applications. He has written for
      <span   class="emphasis"><em>Dr. Dobb's Journal</em></span>,
      the <span   class="emphasis"><em>C++ Report</em></span>, the <span   class="emphasis"><em>C/C++
      Users Journal</em></span> and <span   class="emphasis"><em>Data Based
      Advisor</em></span>.</p></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../090/toc090.html">Issue Table of Contents</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>