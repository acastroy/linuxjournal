<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>The Dotfile Generator</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;    The Dotfile Generator is a useful tool to help in configuring programs&#10;    by using X11 widgets to make option choices.&#10;    "><meta name="keywords" content="dotfile, configuration, tool"><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0x119c580.0x1293ab0"></a>The Dotfile Generator</h1></div><div><div class="author"><h3 class="author">Jesper K. Pedersen</h3></div><div class="issuemoyr">Issue #42, October 1997</div></div><div><p>
    The Dotfile Generator is a useful tool to help in configuring programs
    by using X11 widgets to make option choices.
    </p></div></div><div       class="mediaobject"><img src="2106f1.jpg"></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x119c580.0x12944a8"></a></h2></div></div><p>The Dotfile Generator, TDG, is a
configuration tool that configures programs using X11 widgets like
check boxes, entries, pull-down menus, etc. In order for TDG to
configure a given program, a module must be built for it. At the
moment modules exist for the following programs: bash, fvwm1,
fvwm2, emacs, tcsh, rtin and elm.</p><p>TDG is freely available and can be downloaded from
ftp://ftp.imada.ou.dk/pub/dotfile/dotfile.tar.gz. The home page of
the Dotfile Generator is at
http://www.imada.ou.dk/~blackie/dotfile/.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x119c580.0x1294608"></a>Introduction</h2></div></div><p>The Unix system was developed many years ago, long before
graphical user interfaces became commonplace, so that most of the
applications today work fine without a graphical user interface.
Examples of these applications are editors and shells.</p><p>A basic concept in Unix is that the programs are very
configurable. For example, in Emacs if the user asks to go to the
next line after the end of a file, there are two logical ways for
Emacs to handle this situation:</p><div class="orderedlist"><ol type="1"><li><p>Insert a blank line, and move to it.</p></li><li><p>Beep, to tell the user that there is no next
line.</p></li></ol></div><p>Instead of implementing only one of the solutions, the people
behind Emacs chose to implement both, and let you decide which one
you prefer. Since the program works without a GUI, the standard
method for configuring such options is to use a
<span   class="emphasis"><em>dot-file</em></span>. In this file, you can
<span   class="emphasis"><em>program</em></span> the method emacs will use.</p><p>This solution requires that the user learn the programming
language used in the dot file and read lots of documentation to
discover the available configurations. This task can be difficult
and tedious, and for that reason many users choose to use the
default configuration of the program.</p><p>If you take a look at some dot files, you may find that most
of the configurations can be described by the following
items:</p><div class="itemizedlist"><ul type="disc"><li><p>Configurations with two possibilities (like
above)</p></li><li><p>Configuration where the program wishes to know a
number or text. Examples of this could be questions like: &ldquo;How
many times should one press ctrl-d to quit?&rdquo;, and &ldquo;e-mail address
to use in the <b  >Reply-to</b> field?&rdquo;.</p></li><li><p>Configuration where the user may choose an option
from a list, e.g., &ldquo;Which editor would you like to use: emacs,
jed, vi or vim?&rdquo;</p></li></ul></div><p>The configurations above can be easily done with a GUI using
the following widgets in order: a check box, an entry and a pull
down menu. This is exactly the method used in TDG.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x119c580.0x1294df0"></a>The Basic Concept of TDG</h2></div></div><p>TDG is a tool which configures other programs (e.g., Emacs,
bash and fvwm) with widgets like those described above and many
more. The widgets are placed in groups to make it easy to find the
correct configuration without having seen it before. And most
important of all, help is located at the configuration of each
option instead of in a manual far away. To get help, you just press
the right mouse button on the widget that contains the
configuration you wish to know more about.</p><p>When you start TDG you are offered a list of standard
configurations from which you pick one to use as a starting point.
This is convenient if you do not have a dot-file for the given
program or if you would like to try a new configuration. If, on the
other hand, you already have a dot-file that you would like to put
the finishing touches on, you can read this file into TDG. Note,
however, that not all modules have the capability to read the
dot-file (the fvwm2, rtin and elm modules have, the other modules
do not, since it is complicated to create such a parser.)</p><div       class="mediaobject"><img src="2106f2.jpg"><div class="caption"><p>
Figure 2. TDG Menu Window
</p></div></div><p>When you have selected a start-up configuration, the menu
window is displayed (see Figure 2). In this window, you can travel
through the configuration pages in the same way you would through a
directory structure. If you select a page, a new window is
displayed showing the configuration for this page (see Figure 3).
This window is reused for all the configuration pages, i.e., only
one configuration page is visible at a time, so you do not have to
destroy the window yourself.
<div       class="mediaobject"><img src="2106f3.jpg"><div class="caption"><p>
Figure 3. Configuration Page
</p></div></div>

</p><p>The actual configuration is located in region 1 of Figure 3.
Region 2 is the help region, and it is in this region that help for
the whole page is shown when requested. Help for the individual
configuration is also shown here, when the right mouse button is
clicked on one of the widgets. In region 3, information is shown on
what will be generated. There are three possibilities:</p><div class="orderedlist"><ol type="1"><li><p>You can generate all pages. This is the most
natural thing to do, when you want a configuration for a given
program.</p></li><li><p>You can generate just the page shown. This is
useful if you are playing around with TDG to see what will be
generated for the different configurations.</p></li><li><p>Finally, you can tell TDG to generate specific
pages using the radio buttons in this region.</p></li></ol></div><p>In the <b  >Setup-Options</b> menu, you can select
which of the above three methods to use.</p><p>When the configurations are complete, you must tell TDG which
file you wish to generate from the Options menu
(<b  >Setup-&gt;Options</b>). Now, it's time to create
the actual dot-file by selecting <b  >Generate</b> in the
<b  >File</b> menu.</p><p>Once you have generated the dot-file, you may decide to
change some of the configuration. If so, go to the configuration
page in question, change your configuration and regenerate. If,
however, you are testing several different options for a single
configuration (i.e., several items from a pull-down menu), you may
find it cumbersome to generate the whole module over and over
again. In this situation, you can chose <b  >Regenerate this
page</b> in the <b  >File</b> menu. Note that if
some part of the configurations on the page affects other pages,
these other pages will not be generated unless you regenerate the
whole module.</p><p>To see how to use the generated dot-file, go to the
<b  >Help</b> menu, and select &ldquo;<b  >How to use the
output</b>&rdquo;.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x119c580.0x12959f8"></a>The Configuration Widgets</h2></div></div><p>TDG uses a lot of widgets for configuration of the different
options. Some of them are well known from other applications and
include: check boxes, radio buttons, pull-down menus, entries, text
boxes (for multi-line text), directory and file browsers. Others,
however, are specifically designed for use in TDG.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x119c580.0x1295b00"></a>The ExtEntry Widget</h2></div></div><p>The ExtEntry is a container that repeats its elements, just
as a list box repeats labels. A number of the elements in the
ExtEntry may be visible on the screen at one time. The elements in
the ExtEntry can be any of the widgets from TDG. An element in an
ExtEntry is called a tuple. In Figure 4, you can see an ExtEntry
from the tcsh module.</p><div       class="mediaobject"><a href="2106f4.large.jpg"><img src="2106f4.jpg"></a><div class="caption"><p>
Figure 4. ExtEntry for tcsh
</p></div></div><p>This ExtEntry has three visible tuples, although only two of
them contain values (as you can see, the third one is grayed out).
To add a new tuple to the ExtEntry, press the button in the lower
right corner, just below the scroll bar. If the ExtEntry contains
more tuples than can be shown in the window, you can scroll to the
end of the tuple list using the scroll bar.</p><p>When the left mouse button is clicked on one of the scissors,
a menu with four elements is displayed. These elements are used to
cut, copy and paste tuples within the ExtEntry.</p><div       class="mediaobject"><img src="2106f5.jpg"><div class="caption"><p>
Figure 5. ExtEntry Display of Large tuple
</p></div></div><p>If the tuples get very large, only one of them can be
displayed on the screen at a time (see Figure 5). When the tuples
contain many widgets, scrolling the ExtEntry becomes slow. In these
cases, the ExtEntry may have a quick index. In Figure 5, you can
see the quick index at the top of the ExtEntry (it's the button
labeled <b  >Idx</b>). When this quick index is invoked,
a pull-down menu is displayed with the values of the element
associated with the quick index. This makes it easier to scroll
ExtEntries.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x119c580.0x128c968"></a>The FillOut Widget</h2></div></div><p>Every shell has a configuration option called
<b  >Prompt</b>, a text string that is printed when the
shell is ready to execute a new command. Special tokens can be
inserted in this text, and when the prompt is printed, these tokens
are replaced with information from the shell. For example, in bash
the token <b  >\w</b> is expanded to the current working
directory.</p><div       class="mediaobject"><img src="2106f6.jpg"><div class="caption"><p>
Figure 6. FillOut Widget
</p></div></div><p>In TDG, a special widget called <b  >FillOut</b>
has been created to do configurations like the one above. In Figure
6, you can see a FillOut widget from the bash module. At the top of
the widget there is an entry in which you can type ordinary text.
The tokens are placed below it. If you select one of the tokens, it
is inserted in the entry at the point of the cursor. Some of the
tokens may even have some additional configurations. For example,
the token &ldquo;<b  >Current working directory</b>&rdquo; has two
possible options: &ldquo;<b  >Full directory</b>&rdquo; and
&ldquo;<b  >only the last part</b>&rdquo;. When tokens with
additional configurations are selected, a window is displayed in
which these configurations can be made. If you wish to change such
a configuration, press the left mouse button on the token in the
entry.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x119c580.0x128ce90"></a>The Command Widgets</h2></div></div><p>TDG can be extended by the module programmer through the
Command widget making it possible to configure specific options
with widgets s/he has developed. At the moment three such widgets
exist: the directory/file browser, the color widget and the font
widget.</p><p>The widgets appear as a button within TDG, and when the
button is pressed, a new window is displayed in which the actual
configuration can be done.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x119c580.0x128cff0"></a>Save, Export and Reload</h2></div></div><p>When you have configured the different options in TDG, you
may wish to leave it and come back later to change some of the
configurations. When you leave TDG, you can save your changes using
an option in the <b  >File</b> menu. Next time you enter
TDG, your saved file will be one of the the files you are offered
as a start-up configuration.</p><p>One important point to note is that this &ldquo;<b  >save
file</b>&rdquo; option is an internal dump of the state of TDG.
That is, this file depends on the version of TDG and the module.
Therefore, if you wish to send a given configuration to another
person, this format is not appropriate. A version-independent
format does exist called the <span   class="emphasis"><em>export format</em></span>. To
create such a file, you have to select <b  >Export</b>
instead of <b  >Save</b> in the <b  >File</b>
menu.</p><p>To restore the configuration on a single page to its original
value or to merge another person's configuration with your own,
select <b  >Reload</b> in the <b  >File</b>
menu. To tell TDG that you want to reload only some of the pages,
select the <b  >Detail</b> button in the load window.
This button brings up a window in which you can select the
configuration pages to reload. Here you can also tell it how you
want the pages to be reloaded. You have two possibilities:</p><div class="orderedlist"><ol type="1"><li><p>Overwrite&mdash;The pages that you are loading will
totally overwrite the contents of the file.</p></li><li><p>Merge&mdash;Tuples in the ExtEntries are appended to
those already present in the module. Other configurations are
ignored in the file.</p></li></ol></div><p>Here's another difference between the save files and the
export files&mdash;you cannot merge with save files. In other words, if
you have a save file that you wish to merge, first you have to load
and export it, and only then can you merge with it.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x119c580.0x128d6d0"></a>The End</h2></div></div><p>Additional information as well as information on work
currently in progress can be found on
http://www.imada.ou.dk/~blackie/dotfile/, the home page of
TDG.</p><p>I have just finished a module for procmail, a mail filter for
sorting your incoming e-mail.</p><p>John D. Hardin (jhardin@wolfenet.com) is working on a module
for configuring the firewalling and IP Masquerading setup for
stand-alone systems connected to the Internet via dial up. He may
expand it to more general firewalling in the future.</p><p>If you have the time, I would like to encourage you to
develop a module for your favorite program. On the home page of TDG
there is a link to a document that describes how to create a module
for TDG. Send me e-mail at blackie@imada.ou.dk, and I will be happy
to help you get started.</p></div></div>
<div class="authorblurb"><p>Jesper Pedersen lives in Odense, Denmark, where
      he has studied computer science at Odense University since 1990. He
      is a system manager at the university and also teaches computer
      science. In his spare time, he does Jiu-Jitsu, listens to music,
      drinks beer and has fun with his girlfriend. He loves pets, and has
      a 200 litre aquarium and two very cute rabbits. His home page can
      be found at http://www.imada.ou.dk/~blackie/, and he can be reached
      via e-mail at blackie@imada.ou.dk.</p></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../042/toc042.html">Issue Table of Contents</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>