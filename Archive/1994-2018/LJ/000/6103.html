<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Linux Dreamworks Redux</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;    DreamWorks latest entry in the animated movie genre opened&#10;    this past weekend in US theaters. Robin fills us in on what the studio has been up to lately,&#10;    Linux-wise.&#10;    "><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0x1f32580.0x2029ab0"></a>Linux Dreamworks Redux</h1></div><div><div class="author"><h3 class="author">Robin Rowe</h3></div><div class="issuemoyr">Issue #0, linuxjournal.com</div></div><div><p>
    DreamWorks latest entry in the animated movie genre opened
    this past weekend in US theaters. Robin fills us in on what the studio has been up to lately,
    Linux-wise.
    </p></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1f32580.0x202a240"></a></h2></div></div><p>Last summer we visited the DreamWorks SKG
Glendale studio where the animated motion picture <span   class="emphasis"><em>Spirit,
Stallion of the Cimarron</em></span> was in production using Linux.
<span   class="emphasis"><em>Spirit</em></span>, the story of a wild mustang's
adventures in the untamed American West, will be in US wide release
on Memorial Day, May 27th, 2002. Let's find out what's happened
with Linux at DreamWorks since our <a href="../088/4803.html" target="_self">cover
feature in the August 2001 issue</a> of <i  >Linux Journal</i>.</p><p>&ldquo;For <span   class="emphasis"><em>Spirit</em></span> the Ink and Paint department
was entirely Linux, as was half of rendering&rdquo;, says DreamWorks Head
of Animation Technology Ed Leonard. &ldquo;Now all the departments have
been converted. For our current production,
<span   class="emphasis"><em>Sinbad</em></span>, every workstation and the entire
renderfarm is Linux.&rdquo; Linux gained its first toehold in the motion
picture industry on servers for rendering and has now become a
standard desktop for artists. For <span   class="emphasis"><em>Spirit</em></span>
DreamWorks utilized more than 150 Linux desktops. More than 350 are
in use for <span   class="emphasis"><em>Sinbad</em></span>.</p><div       class="mediaobject"><img src="6103f1.jpg"></div><p>Leonard describes the DreamWorks Linux conversion as a
two-step process: porting an extensive library of internal
proprietary tools and convincing vendors of commercial tools to do
the same. Alias|Wavefront's Maya 3-D animation package already had
a Linux port underway, but DreamWorks' core 2-D system based on
Cambridge Systems Animo came to Linux later. In the DreamWorks
production pipeline Adobe Photoshop is the sole Linux
holdout.</p><p>So how does DreamWorks use Photoshop with Linux desktops?
&ldquo;We're running Photoshop in VMware&rdquo;, reports DreamWorks
Technologist Skott Miller. &ldquo;That combination makes a 2GHz P4 feel
like 1.5GHz, but the NVIDIA drivers work accelerated at full
screen.&rdquo; Miller notes that VMware runs Windows Photoshop in Linux
without trouble, but the tricky part is the Wacom tablet. &ldquo;Each OS
wants raw pen input. Users have to turn off the tablet in X first
to enable it in VMware.&rdquo;</p><p>HP has been working with DreamWorks on Linux for some time,
and in January 2002 DreamWorks formally announced selecting HP as
its preferred technology provider. Leonard reports DreamWorks is
very happy with Red Hat and has a close relationship with them
through HP. DreamWorks has made Red Hat upgrades in two phases: 6.2
to 7.1 with 2.4 kernel, then to 7.2 to get better Alias|Wavefront
support. Going to 7.2 provided enhanced XFree86 and NVIDIA support.
For the first two years DreamWorks was using the proprietary HP/UX
X server on Linux, not XFree86.</p><p>&ldquo;With Linux I miss the clear SGI release roll-ups&rdquo;, says
Miller. &ldquo;With Red Hat it seems like every day you get errata. You
don't know what those changes may break.&rdquo; DreamWorks is adopting
Red Hat's Advanced Workstation Edition to gain greater
stability.</p><p>&ldquo;On the front end we still use Windows and Macintosh for some
preproduction&rdquo;, notes Leonard. &ldquo;But, we don't see OS X as a core
platform for us. We're very committed to Linux.&rdquo; Leonard says a key
feature of Linux is that being open source allows it to be tuned
for performance. Miller says, &ldquo;We're really happy with what Linux
is allowing us to do with commodity software.&rdquo;</p><p>DreamWorks has over 350 Linux desktops, plus 250 dual-Pentium
Linux renderfarm servers. The desktops are Pentium dual-P3 1GHz 2GB
machines with 100-BASE-TX to a gigabit switch. DreamWorks has just
started to upgrade to dual-P4 2GHz 2GB desktops, the HP x4000&mdash;the
June 2002 <i  >Linux Journal</i> cover story. For
servers, 1.26GHz dual-P3 PCs are housed as a tower of 42 1RU
rackmounts together with a switch and a Cyclades terminal
management system. DreamWorks has six of these renderfarm tower
units with plans for at least six more.</p><p>The workstations for <span   class="emphasis"><em>Spirit</em></span> used HP FX5
or FX10 graphics cards, but the FX cards are since discontinued.
For dual-head display two FX cards are used, one AGP and one PCI.
&ldquo;We're still using the FX cards on <span   class="emphasis"><em>Sinbad</em></span> and
are scrounging for additional P3 FX machines&rdquo;, says Miller.
DreamWorks is switching to the NVIDIA Quadro4 that supports two
monitors from just one AGP card.</p><div       class="mediaobject"><a href="6103f2.large.jpg"><img src="6103f2.jpg"></a></div><p>For rendering, DreamWorks uses the batch queuing package LSF
by Platform Computing. &ldquo;LSF is a distributed load manager that we
and Disney and Wild Brain use&rdquo;, says Miller. &ldquo;In fact, Wild Brain's
Jim Meyer originally worked at LSF.&rdquo; LSF provides a job submission
API with UI that lets artists draw dependency graphs to be
rendered. A final composite step at the end brings partial frames
together. For that composite DreamWorks used internally developed
compositor Matte for <span   class="emphasis"><em>Shrek</em></span>, Animo for
<span   class="emphasis"><em>Spirit</em></span>, and is using Shake for
<span   class="emphasis"><em>Sinbad</em></span>. Miller is seeking more artist
productivity out of the network between Glendale and Palo Alto, but
workflow obstacles include that a given scene might require
hundreds of files spread across multiple file servers.</p><p>&ldquo;Our ambition two years ago was to get on Linux&rdquo;, says
Miller. &ldquo;Now it is to double our film production based on Linux.
We're trying to do four pipelines for less than the cost of four
films.&rdquo; Each pipeline is a production unit working on one
film.</p><p>Pipeline 1: Glendale, California:
<span   class="emphasis"><em>Spirit</em></span>, now
<span   class="emphasis"><em>Sinbad</em></span>Pipeline 2: PDI Palo Alto:
<span   class="emphasis"><em>Shrek</em></span>, now <span   class="emphasis"><em>Shrek 2</em></span>, then
<span   class="emphasis"><em>Madagascar</em></span>Pipeline 3: Aardman England:
<span   class="emphasis"><em>Chicken Run</em></span> (not Linux)Pipeline 4: Glendale
PDI South: <span   class="emphasis"><em>Sharkslayer</em></span></p><p>DreamWorks' new Linux pipeline 4 uses Pentium P4s with
dual-head NVIDIA displays. <span   class="emphasis"><em>Sharkslayer</em></span> (July
2004) is simultaneously in production with
<span   class="emphasis"><em>Sinbad</em></span> (May 2003). Like
<span   class="emphasis"><em>Shrek</em></span> and <span   class="emphasis"><em>Spirit</em></span>,
<span   class="emphasis"><em>Sinbad</em></span> and <span   class="emphasis"><em>Sharkslayer</em></span>
will be two more DreamWorks animated motion pictures produced
primarily using Linux.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1f32580.0x202b2c0"></a>Resources</h2></div></div><p>Animo:
<a href="http://www.animo.com/products/animo.htm" target="_self">www.animo.com/products/animo.htm</a></p><p>Cyclades:
<a href="http://www.cyclades.com" target="_self">www.cyclades.com</a></p><p>DreamWorks:
<a href="http://www.dreamworks.com" target="_self">www.dreamworks.com</a></p><p>HP x4000:
<a href="http://www.hp.com/workstations/products/linux/x4000/summary.html" target="_self">www.hp.com/workstations/products/linux/x4000/summary.html</a></p><p>PDI:
<a href="http://www.pdi.com" target="_self">www.pdi.com</a></p><p>Platform Computing:
<a href="http://www.platform.com" target="_self">www.platform.com</a></p><p>Spirit:
<a href="http://www.dreamworks.com/spirit" target="_self">www.dreamworks.com/spirit</a></p><p>VMware:
<a href="http://www.vmware.com" target="_self">www.vmware.com</a></p><p>Robin Rowe is a partner in the motion picture technology
company MovieEditor.com. He has led video R&amp;D at a Fortune 500
IT company, taught C++ at two universities and was an NBC-TV
technical director. He leads two users groups,
<a href="http://www.LinuxMovies.org" target="_self">LinuxMovies.org</a> and
<a href="http://www.OpenSourceProgrammers.org" target="_self">OpenSourceProgrammers.org</a>.</p></div></div>
<div class="authorblurb"><p>
       email: <a href="mailto:robin.rowe@movieeditor.com">robin.rowe@movieeditor.com</a>
       </p></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../000/toc000.html">Issue Table of Contents</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>