<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>At Last, An X-Based vi</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;    One reader's quest has come to a successful conclusion.&#10;    "><meta name="keywords" content="text, editor, programming, applications, business"><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0x16b3580.0x17aaab0"></a>At Last, An X-Based vi</h1></div><div><div class="author"><h3 class="author">Dan Wilder</h3></div><div class="issuemoyr">Issue #34, February 1997</div></div><div><p>
    One reader's quest has come to a successful conclusion.
    </p></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x16b3580.0x17ab450"></a></h2></div></div><p>The <span   class="bold"><b>vi</b></span>
editor and kin are used (if maybe not always loved) by many who
value a small, nimble, no-frills programmer's editor. The
keystrokes are somewhat cryptic, but mostly just terse. With a
small but sufficient command set, a rudimentary set of modes, and
no scripting language to speak of, vi is extensible only by
modifying the source code. But it starts up in the blink of an eye.
Its keyboard response speed is just short of dazzling.
Sophisticated global commands are available. The learning curve is
steep at the beginning, but once the muscles have learned the
commands and the brain has forgotten them, vi is both fast and
effortless.
</p><p>Unfortunately most vi clones have little in the way of X
Windows support. When running in an xterm, some will resize nicely,
and some will let you click the mouse to position the cursor. But
that's about it for mouse support. No scrollbars. X selection at
your own peril. Not much other use for the mouse at all.</p><p>Enter vile-5.6, compiled for X11 as
<span   class="bold"><b>xvile</b></span>.</p><p>While not perfect, the basis is solid, and this editor
delivers:</p><div class="itemizedlist"><ul type="disc"><li><p>A vertical scrollbar</p></li><li><p>Good integration of primary X selection</p></li><li><p>Mouse-based cut and paste</p></li><li><p>Mouse selection of regions for other
commands</p></li><li><p>Mouse commands to open, resize and close subwindows
(panes)</p></li></ul></div><p><span   class="bold"><b>vi</b></span> also allows commands
prefaced by a colon&mdash;the so-called &ldquo;colon commands&rdquo;. In xvile
colon commands I found a few jarring things; the release notes and
help files warn about these.</p><p>While I'm no vi zealot, I've used vi off and on for seven
years, so I'm pretty familiar with the command set. With xvile I
found few surprises in the standard vi commands. Mostly, it just
did what it should. Paul Fox (not the Paul D. Fox of Crisp fame),
Tom Dickey, Kevin Buettner, and a host of others must have put in
many long evenings on this project. MicroEMACS was the starting
point, but this doesn't look much like Emacs. No mere Emacs
vi-mode, this is a vi editor down to its code. Weighing in at about
280K stripped, it is larger than conventional vi, but small enough
to be nearly as fast.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x16b3580.0x17abbe0"></a>Building It</h2></div></div><p>After downloading the source from a sunsite.unc.edu mirror
site, I unpacked it and followed the instructions in README.CFG.
Configuration and build were uneventful, and xvile ran the first
time I tried it.</p><p>When I typed:</p><pre     class="programlisting">
xvile
</pre><p>a new window popped up. At a guess, I typed:</p><pre     class="programlisting">
:h
</pre><p>and the main help screen appeared.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x16b3580.0x17abea0"></a>Features, Good and Bad</h2></div></div><p>The help screens are ordinary read-only buffers, so you can
use standard search and paging commands to look through them. This
is an improvement over the help I've seen with other vi clones.
There is, however, no introductory information, and no hypertext
capability. This won't bother you if you already use vi. If you
don't and would like to try this editor, a good book might help
(see Resources, page 13).</p><p>There are extensions. Among these are commands to manipulate
panes, rebind keys, justify text, and so on. There is a
sophisticated macro capability, which perhaps I'll use some day,
but the basic operation of the editor is fast partly because it
does not at all depend on macros.</p><p>As with Emacs, functions are not inextricably bound to keys.
Some Emacs commands have found their way into extensions to the
colon command mode. For instance:</p><pre     class="programlisting">
:bind-key undo-changes-backward u
:bind-key format-til M-w
</pre><p>can provide my preferred undo binding, and adds ragged-right
text justification on ALT-w. These commands (without colons) also
work in the .vilerc file, as do the other colon commands, so if you
have some standard setup commands, you don't have to type them
every time.
</p><p>If you are thinking &ldquo;bind-key looks like Emacs&rdquo; you are
partly right. &ldquo;vile&rdquo; stands for &ldquo;vi Like Emacs.&rdquo; As the README
file says, the joke is old, but somehow the name has stuck.</p><p>I wasn't delighted with a few things. Chief among these were
the weaknesses in the colon commands. For example, I'm used to
typing:</p><pre     class="programlisting">
:.w tmp
</pre><p>to write the current line to a file. xvile insists on the
longer equivalent form:</p><pre     class="programlisting">
:.,.w tmp
</pre><p>which my fingers forget to type.</p><p>Many of the colon commands originate with the ancient ed, via
ex, which gives you all its formidable power for the things it does
very well, such as global substitutions using regular expressions.
For example, to duplicate the entire contents of lines 50 to 100 in
a file, with at-signs (<b  >@</b>) for delimiters, you
might type:</p><pre     class="programlisting">
:50,100s/..*/@&amp;@&amp;@/
</pre><p>and a line that looked like:</p><pre     class="programlisting">
framos.bin
</pre><p>would now look like:</p><pre     class="programlisting">
@framos.bin@framos.bin@
</pre><p>The most common ex colon commands are there, and do just about what
you'd expect, though adding some dialogue might help the novice
user. An experienced vi user just starting to use xvile should keep
an eye on this dialog at first, as sometimes it asks questions that
won't be anticipated, or might indicate when a colon command is not
having its intended effect. Once you learn the quirks, you can
ignore the dialogue. But many less common ex colon commands are
missing, or have incompatible implementations. I use these commands
a lot, and it took a while for me to get used to the differences.
</p><p>Keystrokes can be rebound, but mouse-clicks cannot. I'd sure
like to bind some things like
<b  >CTL-ALT-BUTTON3-DOWN</b> to useful actions.</p><p>The copying policy is clouded. vile is derived from
MicroEMACS, which is under a license that limits commercial use.
The extensions are under GPL. Paul Fox informs me he's tried
without success to contact the MicroEMACS authors to clarify this
situation. The README suggests you buy the original authors a beer
if you ever meet them.</p><p>Some xvile differences are big improvements over standard vi.
For instance, if you use the simplest form of the yank command to
yank ten lines of text, thus:</p><pre     class="programlisting">
10yy
</pre><p>you may then change to an alternate file:</p><pre     class="programlisting">
:e
</pre><p>and paste that same text with just a p. This differs from standard
vi, where the text goes away on a file change.
</p><p>Another annoyance of standard vi is gone. You don't have to
write your buffer to a file whenever you change windows. Don't
abuse this unless you <span   class="emphasis"><em>really</em></span> trust your local
electric power company, and your kids don't ever kick the power
switch, or unless you don't mind enabling automatic save to disk.
But it is a nice touch, when all you want is a quick look at
another file or two or three or ten.</p><p>Unlike some vi clones, when you write a file you don't lose
your place in the alternate file. In fact, xvile keeps your place
in as many files as you have open.</p><p>The vertical scrollbar is handy, both for moving through the
file and for telling where you are. In addition, mouse clicks on
the scrollbar let you split or unsplit the window, and resize the
panes.</p><p>The keypad HOME, END, PAGE UP and PAGE DOWN keys all do what
you'd hope they do. So do the arrow keys. This again is different
from some the vi clones.</p><p><a href="1258f1.jpg" target="_self"><span   class="bold"><b>Example xvile
Window</b></span></a></p><p>An example xvile window is shown in Figure 1. The shaded text
in the lower window is a mouse selection, to which any of those
cursor-movement &ldquo;operator&rdquo; commands can be applied using
<b  >^s</b> (which I've rebound to <b  >g</b>).
So in traditional vi, to delete a word starting at the cursor, you
would type:</p><pre     class="programlisting">
dw
</pre><p>where <b  >d</b> is the delete operator and
<b  >w</b> is the one-word cursor movement command. In
xvile, you could also select a word (or three, or a few lines or
whatever), using the mouse, then type:</p><pre     class="programlisting">
d^s
</pre><p>Alternately, you can left-click at each end of the deletion with
the <b  >d</b> command intervening, thus: and so on with
all the other operator commands, such as <b  >c</b>
(change), <b  >j</b> (join), and so on. A complete list
of these is elicited in xvile with the command:</p><pre     class="programlisting">
:list-operators
</pre><p>An X selection can also be pasted by moving the mouse cursor where
you want to paste, clicking the left button to set the cursor
there, and then clicking the middle button to paste at the cursor.
Rectangular selections are accomplished by holding down the Control
key while doing the selection. Unfortunately, they are bound on the
right by the shortest line included in the selection.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x16b3580.0x1ba5278"></a>Summary</h2></div></div><p>My search for an X-based vi is over. For me, xvile fills the
bill.</p><p>If you aren't a vi user, but you like to try a new editor
once in a while, give this one a try. Don't expect it to be self-
teaching, however: you'll need the book.</p><p>If you are already a vi user seeking to use your mouse for
more than a paperweight, and if you won't be seriously upset at
having to relearn a few of your keystroke sequences, take a look at
xvile.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x16b3580.0x1ba5430"></a>Resources</h2></div></div><p>xvile source can be retrieved via anonymous ftp from
sunsite.unc.edu in the file
/pub/Linux/apps/editors/vi/vile-5.6.tar.gz Use a mirror of sunsite
where possible.</p><p>A good book for learning vi is <span   class="emphasis"><em>Learning the vi
Editor</em></span>, by Linda Lamb, published by O'Reilly &amp;
Associates, ISBN: 0-937175-67-6, 192 pages, $21.95</p><p>The authors of vile are:Paul Fox,
pgf@foxharp.boston.ma.usKevin Buettner, kev@primenet.comTom Dickey,
dickey@clark.net</p></div></div>
<div class="authorblurb"><p>
      <span   class="bold"><b>Dan Wilder</b></span>
      is a programmer and system
      administrator in Seattle. He can be reached as
      dan@gasboy.com.</p></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../034/toc034.html">Issue Table of Contents</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>