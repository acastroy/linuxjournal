<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>
Cooking with Linux</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;Is it easier to find a document on a far-away Web server than&#10;one on your own hard drive? Try some search programs to dig up&#10;the files you need.&#10;"><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0x117d580.0x1274ab0"></a>
Cooking with Linux</h1></div><div><h3 class="subtitle"><i>
Trekking through the Desktop Jungle</i></h3></div><div><div class="author"><h3 class="author">
Marcel
 
Gagn&eacute;
</h3></div><div class="issuemoyr">Issue #138, October 2005</div></div><div><p>
Is it easier to find a document on a far-away Web server than
one on your own hard drive? Try some search programs to dig up
the files you need.
</p></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x117d580.0x12753f8"></a></h2></div></div><p>
That certainly does make it difficult, Fran&ccedil;ois. When
I asked you to locate the wine order from last
month and you told me it was somewhere on your disk,
I didn't expect that it was sitting &ldquo;somewhere on
your disk&rdquo; in quite this way. This is possibly the
most disorganized home directory I've ever seen. Every
document is in the same folder, and all the files
are cryptically named. What were you thinking,
<span   class="emphasis"><em>mon ami</em></span>?
</p><p>
<span   class="emphasis"><em>Quoi?</em></span> Well, of course there is a way to find
it. If the document still exists somewhere on your
disk, we'll find it. We just need to use the right
tools. Later, though&mdash;our guests will be here any
moment and...too late, Fran&ccedil;ois, they are already
here! Welcome, everyone, to <span   class="emphasis"><em>Chez Marcel</em></span>, home of fine
Linux fare and exquisite wines. Please sit and make
yourselves comfortable. Fran&ccedil;ois will fetch your wine
<span   class="emphasis"><em>imm&eacute;diatement</em></span>. Fran&ccedil;ois, head to the east wing
of the wine cellar and bring back that 2001 Nuits
Saint George Pinot Noir we've been tasting, er,
I mean, subjecting to quality control. <span   class="emphasis"><em>Vite!</em></span>
</p><p>
That wine, <span   class="emphasis"><em>mes amis</em></span>, just happens to represent part of an order lost
in one of Fran&ccedil;ois' documents on his computer. Trouble is, he doesn't
remember which document. What we need to do, is set him up with a desktop
search engine. Luckily, this just happens to be the basis of tonight's
menu, so we all will profit from my faithful waiter's lack of organization.
</p><p>
The original desktop search engine, <span   class="emphasis"><em>mes amis</em></span>, is something that's
been around in Linux from the beginning, and that's the find
command. This is an amazingly powerful tool and one that is easily
overlooked in this age of cutting-edge graphical desktops. In its most
basic form, find is used like this:

<pre     class="programlisting">
find starting_dir [options]
</pre>
</p><p>
One of those options is -print, which makes sense only if you want to see
any kind of output from this command. You easily could get a listing of
every file on the system by starting at the top and recursively listing
the disk:

<pre     class="programlisting">
find / -print
</pre>
</p><p>
Of course, it makes more sense to search for something, for instance,
all the MP3-type music files sitting on your disk. Because you
know that the files end in a .mp3 extension, you can use that
to search:

<pre     class="programlisting">
find / -name "*.mp3" -print
</pre>
</p><p>
This is also great for locating big files you haven't looked at in
forever. Maybe it's time to do a little archiving of those old files,
but how do you find only those? Say you want to look for anything that
has not been modified (this is the -mtime parameter) or accessed
(the -atime parameter) in the past 12 months. The -o
option is the &ldquo;or&rdquo; in this equation:

<pre     class="programlisting">

find /home/marcel -size +1024 \( -mtime +365 -o -atime +365 \) -ls

</pre>
</p><p>
In case you are curious, the back-slashes in front of the parentheses
are escape characters; they are there to make sure the shell does not interpret
them in ways you do not want it to&mdash;in this case, the open and close
parentheses on the second line. The preceding command also searches for
files that are greater than 500KB in size. That is what the <tt  >-size
+1024</tt> means, because 1024 refers to 512-byte blocks. The
<tt  >-ls</tt>
at the end of the command tells the system to do a long listing of any
files it finds that fit the search criteria. So far so good?
</p><p>
The find command is fairly simple to use on the surface, but
it also has many command-line options and (as you can see) interesting
ways of passing the results of a search to other commands, so that the results
can be narrowed down or fine-tuned. Getting to know find is a great idea,
but there are alternatives that are a little friendlier.
</p><p>
Many people out there have grown up in the graphical world of
KDE or GNOME, so desktop tools have been created in each of these
environments. Even so, my experience indicates that these excellent
tools are, for many users, as equally overlooked as find. Let's
have a look at those now.
</p><p>
Let's begin our search for search tools under KDE. Click the application
launcher and look for a submenu labeled Find. The Find menu has two
options, one for files and one for Web search (which, by default,
launches Konqueror on the Google Web site). You also can fire up
the files search tool by using the Alt-F2 quick launch
(program name: <tt  >kfind</tt>). When the application starts, the Find
Files/Folders dialog appears. It contains three different tabs, and
each is designed to help you locate the information you need. They are
labeled Name/Location, Contents and Properties.
</p><p>
Under the Name/Location tab, specify the starting folder, either
by entering it manually or by clicking the Browser button and
navigating over to it using the KDE file navigator. There's also a
field labeled Named where you enter part of a filename using Linux
metacharacters. For instance, if I wanted to find all the files with
Cooking anywhere in the title, I would enter
<tt  >*cooking*</tt>. By
default, this is a case-insensitive search, so upper- and lowercase don't
matter in terms of the search results. You can, however, override this
behavior by clicking the Case-sensitive search check box.
</p><p>
Under the Contents tab, the real action takes place. Generally speaking,
I don't have a problem locating a file by name. It's the
content that is the real issue. Which of your several hundred documents
contains a reference to a particular word or phrase is a more difficult search
than which has a particular word in the name. The Contents tab lets you
enter your search text (again, case-insensitive by default), regular
expression searches and so on. You even can specify that Kfind search
through binary files and not only documents (Figure 1). There's also a
meta-info search feature for things like MP3 files that contain embedded
information, such as title and artist.
</p><div       class="mediaobject"><a href="8441f1.large.jpg"><img src="8441f1.jpg"></a><div class="caption"><p>
Figure 1. KFind makes it easy for Marcel to locate all those columns that
mention &ldquo;wine&rdquo;.
</p></div></div><p>
Finally, the Properties tab provides a means of searching for files or
folders based on creation or modification date, ownership and more.
</p><p>
Similarly, GNOME users have access to the GNOME search tool (program
name: <tt  >gnome-search-tool</tt>), a similar program that lets you search
based on filename, file content (text search) and date. Choose Search
for files in the GNOME Places menu (I'm running 2.10 in this example),
and this brings up the file find dialog (Figure 2).
</p><div       class="mediaobject"><a href="8441f2.large.jpg"><img src="8441f2.jpg"></a><div class="caption"><p>
Figure 2. The GNOME search tool allows you to search by name as well as
text within a file.
</p></div></div><p>
When the dialog first appears, there isn't much to see. The defaults are
to search for a file by name, which you enter in the Name contains
field. Below that is your starting folder for the search, the default
being your home directory. To get the full power of the GNOME search tool,
click on the arrow next to the label that says Show more options. A
new field appears through which you can specify some text in the
file itself.
</p><p>
Finally, directly below the text search field, is one other option
that can be quite complex. A drop-down box labeled Available options
includes size, date and ownership search criteria that can be applied
to narrow down your search results even further.
</p><p>
If you've been following search technology in any way, you'll know that
there's a lot of excitement concerning desktop search engines these
days&mdash;think Google for your desktop. In fact, Google does provide such
a tool, but alas, only for non-Linux operating systems. However, this is not
to say that desktop search tools don't exist for Linux.
</p><p>
One such tool is Roberto Cappuccio's Kat, a desktop search engine
and indexing tool that makes it easy and fast to do full-text searches
in a variety of document formats (for example, PDF, OpenOffice.org, KWord and
so on). You
also can search for images using thumbnails and more.
</p><p>
The Kat Web site (see the on-line Resources) provides binary
packages for a number of distributions, so you may not need to build
from source. Should you need to, however, the process is nothing more
than the classic extract-and-build five-step. In terms
of prerequisites, you need the SQLite database and its development
libraries.
</p><p>
To use Kat, simply start the program (name: <tt  >kat</tt>) and a plain
three-pane window appears where you will do your work and your
searching. The first step is to create a catalog. To do this, click
File on the menu bar and select New.
</p><p>
When creating a new catalog, a four-tabbed window appears. The first
tab, labeled Catalog, is where you enter the starting directory, the name
of the catalog and other identifying information. On the second tab,
labeled Metadata, you'll see a list of the various metadata engines that
are available to Kat for indexing. You can remove different formats, but
most likely, this will stay as is (Figure 3). Similarly, the Fulltext
tab. Under Thumbnails, you can select the size of the thunmbnails created
during the index process.
</p><div       class="mediaobject"><a href="8441f3.large.jpg"><img src="8441f3.jpg"></a><div class="caption"><p>
Figure 3. Using kfile hooks, Kat can index almost anything.
</p></div></div><p>
A status window keeps you abreast of the
number of files and folders scanned, as well as the size of the collection
(Figure 4).
</p><div       class="mediaobject"><a href="8441f4.large.jpg"><img src="8441f4.jpg"></a><div class="caption"><p>
Figure 4. As Kat creates the new catalog, the program reports statistics
on the process.
</p></div></div><p>
This brings us to the one big drawback of a tool like this. If the
folder for which you are creating a catalog is large, this can take an
amazing amount of time. Be prepared or keep your catalogs confined to a
reasonable collection of files. I tried to index my own home directory
in its entirety at nearly 6.6 GB of data&mdash;suffice it to say, that was
a mistake.
</p><p>
Once a catalog has been created, finding information is blazingly
fast. Simply click on the search icon on the far right (the magnifying
glass), enter your search term and Kat returns the results of the search
almost instantly (Figure 5).
</p><div       class="mediaobject"><a href="8441f5.large.jpg"><img src="8441f5.jpg"></a><div class="caption"><p>
Figure 5. Although the initial indexing can take some time, Kat searches
are blazingly fast.
</p></div></div><p>
According to the clock on the wall, it would appear, <span   class="emphasis"><em>mes
amis</em></span>,
that closing time has arrived. Before we leave this topic of desktop
search engines, I'd like to mention another package with the friendly,
puppy-dog name of Beagle. Beagle is built on Mono (the open-source
.Net implementation) and requires an inotify-enabled kernel. Neither is
uncommon in the more modern distributions. Beagle also shows
promise in that it is very fast and works silently in the background,
keeping an eye on what you tell it while automatically updating its
catalog of information. Unfortunately, Beagle is very much alpha code
and not quite ready for prime time, as they say (although it is included
with the new SUSE Linux Professional 9.3). Nevertheless, Beagle is a
tool to watch, and I've included the link in the on-line Resources.
</p><p>
Please raise your glasses, <span   class="emphasis"><em>mes amis</em></span>, and let us all drink to one
another's health.
<span   class="emphasis"><em>A votre sant&eacute; Bon app&eacute;tit!</em></span>
</p><p><span   class="bold"><b>Resources for this article:</b></span>
<a href="../138/8456.html" target="_self">/article/8456</a>.
</p></div></div>
<div class="authorblurb"><p>
Marcel Gagn&eacute; is an award-winning writer living in Mississauga,
Ontario. He is the author of <span   class="emphasis"><em>Moving to the Linux Business
Desktop</em></span>
(ISBN 0-131-42192-1), his third book from Addison-Wesley. He also makes
regular television appearances as Call for Help's Linux guy. Marcel
also is a pilot and a past Top-40 disc jockey. He writes science fiction
and
fantasy and folds a mean Origami T-Rex. He can be reached via e-mail
at <a href="mailto:mggagne@salmar.com">mggagne@salmar.com</a>. You can discover a lot of other
things (including great Wine links) from his Web site at <a href="http://www.marcelgagne.com" target="_self">www.marcelgagne.com</a>.
</p></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../138/toc138.html">Issue Table of Contents</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>