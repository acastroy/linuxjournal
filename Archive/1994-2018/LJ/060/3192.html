<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Windows/Linux Dual Boot</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;    Don't want to give up Windows while you learn Linux? Here's&#10;    how to use both on the same machine.&#10;    "><meta name="keywords" content="dual, boot, novice"><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0x147c580.0x1573ab0"></a>Windows/Linux Dual Boot</h1></div><div><div class="author"><h3 class="author">Vince Veselosky</h3></div><div class="issuemoyr">Issue #60, April 1999</div></div><div><p>
    Don't want to give up Windows while you learn Linux? Here's
    how to use both on the same machine.
    </p></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x147c580.0x15743a0"></a></h2></div></div><p>So you've heard great things about Linux:
faster, cheaper, more efficient, more stable. Sounds good. You'd
like to try it out, but probably have a lot of time and data
invested in Windows and can't afford to be down while figuring out
how to use Linux for your daily tasks. Windows and Linux can live
comfortably on the same computer, even on the same hard drive. The
choice of operating system can be made when you power on. This is
commonly called a &ldquo;dual boot&rdquo; configuration, and one of the most
common questions among new Linux users is how to set it up.
</p><p>My system is a Pentium II 400MHz with 128MB of RAM and an
11GB EIDE (actually Ultra-DMA 33 ATAPI, for you hardware gurus)
hard drive. The hard drive had Windows 95 &ldquo;C&rdquo; on one big
FAT32-formatted C: drive, which is a typical factory configuration.
I tested installs of Red Hat Linux 5.1 and SuSE Linux 5.2.</p><p>Before starting, there are two terms you need to be familiar
with: <span   class="emphasis"><em>partition</em></span> and <span   class="emphasis"><em>file
system</em></span>. The disk can be divided into smaller, separate
pieces which can belong to different owners. For dual booting,
Windows will own some and Linux will own others. The word
&ldquo;partition&rdquo; does not refer to the wall; it refers to the
separated space. Thus, we say Windows is installed &ldquo;on&rdquo; the first
partition. The <span   class="emphasis"><em>file system</em></span> is a method of
organization. Your hard drive can have different file systems. The
operating system provides the <span   class="emphasis"><em>directory tree</em></span>
(also referred to as &ldquo;the file system&rdquo;) as a catalog of available
files. Every operating system has its own type of file system, and
other operating systems often don't know how to read it. Lucky for
us, Linux is a versatile operating system and it does understand
the file system used by Windows 95 and Windows 98.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x147c580.0x15746b8"></a>Making Room for Linux</h2></div></div><p>Most factory-installed Windows installations take up all the
space on your hard drive, leaving no room for installing Linux. The
first and most difficult thing we must do is clear some space where
Linux can be installed. Linux needs to have partitions of its own,
but Windows does not have the ability to resize partitions.
Ordinarily, this would mean you would have to delete your existing
partition (and everything on it) to make room on the drive and then
create partitions of smaller sizes and reinstall. You can still do
this, but there is a better way.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x147c580.0x15747c0"></a>What You Need</h2></div></div><p>Most Linux distributions come with a special tool to allow
you to resize or divide hard drive partitions. Called FIPS, the
First (non-destructive) Interactive Partition Splitter, it is
normally found on your Linux CD in a directory called /dosutils.
You will also need a blank, formatted floppy disk to use as a boot
disk. For most older Windows installations, that should be all.
However, if you have Windows 98 or a recent version of Windows 95
with a large hard drive (bigger than 2GB), you may need some
additional tools if you are using the FAT32 file system.</p><p>To check what type of file system Windows is using, open
Windows Explorer, right click on the C: drive and choose
Properties. If you see &ldquo;File System: FAT32&rdquo; on the General tab,
you will need some additional tools to support this newer file
system.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x147c580.0x1574920"></a>FAT32 Support Requirements</h2></div></div><p>To adjust your partitions, you will need version 2.0 or
higher of FIPS. If the version included with your Linux
distribution is older than this, the latest version is available
for download from the FIPS home page at
http://www.igd.fhg.de/~aschaefe/fips/. If you want to share files
between Windows and Linux (a good idea), you will also need to have
version 2.0.34 or higher of the Linux kernel. Table 1 is a list of
Linux distributions known to support FAT32. If your distribution
does not include support, you will need to upgrade the kernel.
Upgrading a kernel is beyond the scope of this article, so check
the documentation included with your distribution or your
distributor's web site for information about how to do that.</p><p><a href="3192t1.html" target="_self">Table 1</a></p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x147c580.0x1574ad8"></a>Preparing Your Drive</h2></div></div><p>Before you can resize your Windows partition, a few steps
must be taken to ensure that the process goes smoothly. First,
delete any files from your hard drive that are not being used; for
example, any old files in the C:\windows emp folder, and then empty
your recycle bin. Next, check your file system for errors using
Scandisk, and compact your hard drive using Defrag. I'll assume you
Windows users know how to do this. When running Scandisk, be sure
to check the box next to &ldquo;Automatically Fix Errors&rdquo;.
Defragmentation consolidates all your data at the &ldquo;front&rdquo; of the
drive to make room at the &ldquo;back&rdquo; of the drive for your new
partition.</p><p>When both are finished, it would be wise to note how much
space is available on the disk. If this number is less than the
amount required to load Linux (check your distribution's
documentation for space requirements), you'll need to delete more
files or uninstall some software to make room.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x147c580.0x1574c38"></a>Using FIPS</h2></div></div><p>Before using FIPS, you <span   class="emphasis"><em>must</em></span> read the
FIPS.DOC text file which accompanies the program. The use of the
program is not entirely obvious, and you may need the background
information the documentation provides. Also, while running FIPS
you should carefully read all the messages it displays. They will
provide valuable information on the steps you will need to take
next. Most importantly, FIPS comes with no warranty. Although it
has been used safely many times, there is always the chance it
could damage the data on your hard drive. If you value your data,
<span   class="emphasis"><em>back it up</em></span> before you begin.</p><p>For safety, create a DOS or Windows boot disk to work from.
To do this, click Start <b  >-&gt;</b> Settings
<b  >-&gt;</b> Control Panel. Double click &ldquo;Add/Remove
Programs&rdquo; and select the tab called Startup Disk. Press the button
and follow the instructions.</p><p>Next, copy the working files for FIPS to the floppy. The
files FIPS.EXE, RESTORRB.EXE and ERRORS.TXT are mandatory. You may
also want to copy the documentation files included with FIPS. When
your data is backed up, restart your computer and boot from the new
floppy.</p><p>When you arrive at the <b  >A:&gt;</b> prompt, type
<b  >FIPS</b> and press enter. A warning will appear
about using FIPS in multitasking environments like Windows. Since
we booted from a floppy, we are safe, so press enter. FIPS will
analyze your existing partitions. It may pause for a long time at
&ldquo;Checking FAT&rdquo; and &ldquo;Searching for Free Space&rdquo;; this is
perfectly normal, so just wait. The bigger your hard drive, the
longer it will take. When FIPS is done with its analysis, it will
display the results. You may get a warning of something being wrong
with your FAT. If you read the message carefully, you will find
that this is normal with large hard drives and will not prevent
FIPS from working properly.</p><p>FIPS will then demonstrate how it plans to split the existing
partition and you will have the opportunity to make changes. Do
<span   class="emphasis"><em>not</em></span> just press enter. By default, FIPS will
take <span   class="emphasis"><em>all</em></span> of the available free space for the
new partition it creates, leaving your Windows partition with no
free space at all. Windows will not run if it has no free drive
space, so you <span   class="emphasis"><em>must</em></span> adjust the partitions. Use
the up and down arrow keys to make large changes (ten cylinders at
a time) and the left and right arrow keys for small adjustments
(one cylinder at a time). The size of the existing partition is
shown on the left and the size of your new empty partition is on
the right. In the middle is the cylinder number where the split
will take place. I left about 1500MB for my own Windows partition.
Adjust yours according to your needs, but I would recommend using
at least 1024MB for Windows.</p><p>When you are satisfied, press enter. FIPS displays
information on the new partitions and asks permission to write it
to disk. Your hard drive has not been altered at this point. You
may choose to write this configuration to disk or re-edit the
partition table. On my machine, when I chose to re-edit I received
an error message that said FIPS couldn't find some files it needed.
If this happens to you, just press
<b  >ctrl-alt-delete</b> to reboot from the floppy and
start over. This did not cause me any trouble.</p><p>When you choose to write the new partitions, FIPS will offer
to make a backup of your existing boot sector&mdash;you should
definitely do this. The backup file it creates is only 1KB in size
and will be invaluable if anything goes wrong.</p><p>After FIPS completes its work, it will display another
message stating that you should run scandisk on your old partition.
I found that Windows will sometimes miscalculate the used and free
space on your drive after using FIPS, and Scandisk will correct
this problem. If you choose to restore your original partition
scheme using the RESTORRB utility, you should run Scandisk after
this as well.</p><p>After FIPS was done, I received another error. This one said
&ldquo;Memory Allocation Error, Unable to Load COMMAND.COM&rdquo;. If you see
this, just press <b  >ctrl-alt-delete</b> to reboot and
all is well. This should not affect your hard drive.</p><p>Finally, you may want to run the Windows FDISK program from
your floppy. This is not necessary, since Linux has its own fdisk
program for manipulating partitions. You will find that your hard
drive now contains two &ldquo;Primary Partitions&rdquo; (or &ldquo;Primary DOS
Partitions&rdquo;). The second one was created by FIPS out of the free
space on your drive. For Linux installation, delete this second
partition, freeing up the space for allocating Linux partitions.
(Be careful not to delete the first one, where Windows
lives.)</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x147c580.0x1575420"></a>Linux Install Tips for Large Drives</h2></div></div><p>Once you've made room for Linux on your drive with FIPS, you
should be able to install Linux by following the steps in the
installation guide that accompanied your Linux distribution. Here
are a few tips that should help you with the areas where dual
booting might make a difference.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x147c580.0x1575528"></a>Planning your Partitions</h2></div></div><p>Both the Red Hat and SuSE installation guides have excellent
chapters on how to divide up your hard drive for use by Linux.
Personally, I favor the &ldquo;Keep It Simple&rdquo; principle, especially
for beginners. I let Windows keep the first partition, create a
second for the entire Linux install, a third for Linux swap space
and the fourth for my /home directory (where data is kept). Having
/home on a separate partition will make things much easier, if you
ever have to reinstall Linux. The size of each partition will
depend on your individual situation, but this should suffice for
most folks. However, if your hard drive is larger than 8GB, there
is something else to think about&mdash;LILO.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x147c580.0x1575630"></a>Booting with LILO</h2></div></div><p>The usual and recommended method to boot into Linux is using
LILO (the LInux LOader). LILO can install itself in your boot
sector and allows you to choose which operating system you would
like at boot time. Due to a technical limitation, LILO is unable to
read data from the hard drive past the 1024th cylinder&mdash;the 8GB
mark for modern LBA (Logical Block Addressing) hard drives.</p><p>Does this mean you can't use the rest of your drive? Not at
all. What it does mean is that your <span   class="emphasis"><em>boot
partitions</em></span> must all live <span   class="emphasis"><em>below</em></span> the
8GB mark, that is, below cylinder 1024. Thus, if you want Windows
to use the first 9GB of your fancy new 18GB drive, you won't be
able to use LILO to boot Linux. Because of this limitation, Red
Hat's Disk Druid tool for partitioning the hard drive will not
allow you to create your Linux boot partition past cylinder 1024.
You can still create the partitions using fdisk, but Red Hat setup
will not install LILO if you do.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x147c580.0x1575840"></a>Booting from Floppy</h2></div></div><p>It is possible to avoid the entire problem of the 8GB barrier
by booting from a floppy disk. Although this may sound inefficient,
it actually works quite well. The kernel loads into memory from the
floppy disk and never accesses the floppy again, so loading the
kernel is slower; but after that, the system runs the same as if it
had booted from the hard drive. The Linux kernel has no difficulty
accessing the end of large hard drives, so it can still reach all
the files of your Linux installation.</p><p>The setup program for your distribution will almost certainly
ask you to create a boot floppy during installation. Even if you
don't plan to boot from floppy regularly, you should definitely
make a boot disk. If for some reason LILO fails to install or
becomes corrupted, you will have no other way to access the files
on your Linux installation.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x147c580.0x15759a0"></a>Booting with Loadlin</h2></div></div><p>Loadlin is a program that runs under DOS (or Windows 95 in
MSDOS mode). It can load the Linux kernel into memory from the DOS
partition. Because it loads the Linux kernel from the hard drive,
there is still a possibility the 8GB barrier could cause problems,
but only if your Windows partition is larger than 8GB and is almost
full. That's not likely at the time of this writing, but who
knows&mdash;the next release of Windows might take up that much space by
itself.</p><p>Frankly, I wouldn't recommend Loadlin to Linux novices
because it can be difficult to configure correctly. If you simply
must use it, an excellent Loadlin + Win95 Mini-HOWTO document
available from the Linux Documentation Project should get you up
and running.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x147c580.0x1575b00"></a>Conclusion</h2></div></div><p>Giving Linux a try does not mean you have to buy a whole new
computer or even a new hard drive. With just a little extra effort,
you can run both Linux and Windows without losing any data or any
productivity while you learn Linux. I think you will find it is
well worth the effort.</p><p><a href="3192s1.html" target="_self">Resources</a></p></div></div>
<div class="authorblurb"><p>
      <span   class="bold"><b>Vince Veselosky</b></span>
      is a computer consultant in the
      Atlanta, Georgia area, working mostly in technical support for
      Microsoft operating systems. He has made it his mission in life to
      master Linux before the year 2000. When he's not working with
      computers, he's looking for a new girlfriend. Potential girlfriends
      and others can reach him via e-mail at
      vincevski@geocities.com.</p></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../060/toc060.html">Issue Table of Contents</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>