<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>
The Linux-Based Recording Studio</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;With a Linux-based hard disk recorder,&#10;you can create your own project studio on a budget. Now the&#10;only thing between you and that great album you want to make&#10;is practice, man, practice.&#10;"><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0x2219580.0x2310ab0"></a>
The Linux-Based Recording Studio</h1></div><div><div class="author"><h3 class="author">
Aaron Trumm</h3></div><div class="issuemoyr">Issue #121, May 2004</div></div><div><p>
With a Linux-based hard disk recorder,
you can create your own project studio on a budget. Now the
only thing between you and that great album you want to make
is practice, man, practice.
</p></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x2219580.0x2311298"></a></h2></div></div><p>
I grew up using keyboards. Cold-war grey TRS-80s, green-screened Apple IIs,
IBM clones, 8088s, 286s, PC-DOS, then Windows (missing the command
line) and finally UNIX command lines.
Later, the recording bug bit me and
took me away from the
command line and into studios.
I still was a PC guy, but there never was a reason to bring a computer
into the studio. Affordable hard drives and memory were too small for
audio, sound cards were junk and processors were too slow.
</p><p>
Then, Linux came along. Sure, I had to wait for hard drives to get bigger
and chip speeds to increase, but even after that, proprietary software
still was way out of reach.
So I upgraded my studio, learning a lot about Linux along the way.
Here, I share a bit of what I did in my studio and explain how you might start a
Linux-based studio.
General information about Linux audio and recording is vast, so I refer you
to further resources where appropriate (see the on-line Resources
section).
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x2219580.0x23113f8"></a>
How to Set Up a Linux Studio</h2></div></div><p>
Like anything, what you need to buy for your studio and how you set it up
is
determined by a few key decisions, especially when it comes to studio
hardware.
The hardware is easy as 3.1415. Anything that runs Linux can run Linux
audio applications, but bear the following in mind:
</p><div class="itemizedlist"><ul type="disc"><li><p>
Audio uses 5MB per track minute at CD quality (44.1KHz, 16 bit),
meaning a three-minute song recorded in stereo takes up 30MB on
the hard drive. Multitracking uses more than two tracks. A typical
project of 24 tracks that is three-minutes long would use 360MB, not including
captured audio being used.
</p></li><li><p>
Slight upgrades to things like RAM size and CD-ROM speed are
nice if you have older equipment. A CD writer is your friend, too,
as you might have guessed.
</p></li><li><p>
Some bad video cards introduce noise into the sound card.
</p></li><li><p>
Drivers in Linux are sometimes hard to come by, so read and ask
around before buying hardware, especially sound cards.
</p></li></ul></div><p>
Acquiring software is almost as easy.
Latency needs to be low, so the kernel needs a bit of a tweak in
the form of a low-latency patch. The hard drive needs to be tuned
correctly too. This subject is more than I can cover here, but
check out the Resources on the Web for other readings.
Also, keep a dual-boot system with Microsoft Windows
for troubleshooting. You may need
to test hardware on another operating system to narrow
a problem to a Linux driver, or you may have tasks,
such as upgrading firmware, that need to be done on a Windows box.
</p><p>
Now that we've got the box, it's time to decide what studio hardware
we need. I like to think of the signal flow for a given project, and
that tells me what I need. Figure 1 shows the basic concept of where a
signal goes in a recording project. Also take a look at Figures 2 and
3; 2 is a wiring scheme for a simple studio and 3 shows my studio's scheme.
I begin with the lynchpin, which actually is a couple of rungs down on
the signal chain.

</p><div       class="mediaobject"><a href="7205f1.large.jpg"><img src="7205f1.jpg"></a><div class="caption"><p>
Figure 1. Basic Recording Signal Flow for a Simple Project
</p></div></div><div       class="mediaobject"><img src="7205f2.jpg"><div class="caption"><p>
Figure 2. A Simple One-Way Signal Flow in the Studio
</p></div></div><div       class="mediaobject"><a href="7205f3.large.jpg"><img src="7205f3.jpg"></a><div class="caption"><p>
Figure 3. The Author's Studio
</p></div></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x2219580.0x2311e48"></a>
Analog-to-Digital Conversion</h2></div></div><p>
The key to digital recording is analog-to-digital and digital-to-analog
converters (ADCs and DACs).
In other words, you need to get sound in to and out of your computer.
In both directions, you have some decisions to make.
</p><p>
ADC must be done in order to record. This happens in the sound card,
in a digital mixer or in a standalone ADC.
</p><p>
Getting sound out (DAC) consists of two parts, listening (or monitoring&mdash;more on that below)
and mixing.
When mixing, you might never convert back to analog. You might mix
digitally inside or outside the computer, saving a mix as a .wav file
or transferring digitally to a digital recorder. The thing to understand
here is that at some point before you can hear it, a DAC must happen.
If you've done everything digitally, make a CD and play it in your
car, that's where the DAC has happened.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x2219580.0x2312000"></a>
The Mixer: Analog, Digital or Software?</h2></div></div><p>
As you can imagine, your choices are endless. You conceivably
could choose any combination, such as converting analog to digital with the
sound card while converting digital to analog outside, or vice versa.
It's a bit easier, though, to pick one place to do all your conversions,
either in the sound card or somewhere else.
If you simplify it this way, your decision comes down to whether
to have an external mixer.
</p><p>
In the simplest configuration, say if you were using a consumer sound
card with only one stereo output, you'd mix entirely in the computer and
not think much about the ADC and DAC being done in the sound card.
You would then have no external mixer (see the Preamps section below).
</p><p>
If you do have an external mixer, you're either using an analog mixer
or a digital mixer. In either case, you need a professional sound card that can
separate channels, as opposed to a consumer card that outputs
only one stereo mix, requiring you to mix inside the computer.
</p><p>
If using an analog mixer, your DAC and ADC happen in your sound card.
Therefore, you need a sound card or sound card/breakout box that
has analog inputs and outputs, such as RME's PCI cardbus and
Multiface combination card.
There is a nice primer on this card on the <i  >LJ</i> Web
site (see the on-line Resources).
</p><p>
If you choose a digital mixer, your DAC and ADC happens in the mixer
itself.
You therefore need a sound card that has digital inputs and outputs that
are
compatible with your mixer. In my case, this is RME's HDSP 9652.
</p><p>
Many digital mixers have built-in effects and processing, including reverb,
compression and noise gates, as do many software packages. Few
analog mixers offer such features, so if you're doing traditional analog
mixing, you might spend more on outboard effects and processing. There
still are
plenty of reasons to use these tools if you've got the money, but on a
budget, I recommend a digital mixer.
</p><p>
A few questions to ask about potential sound cards:
</p><div class="itemizedlist"><ul type="disc"><li><p>
Is it noisy?
</p></li><li><p>
Does it have the ability to record while playing back (duplex mode)?
</p></li><li><p>
How many channels can it play back at once?
</p></li><li><p>
How many channels can it record at once?
</p></li><li><p>
What kind of physical I/O ports does it have?
</p></li><li><p>
Does it have built-in MIDI?
</p></li><li><p>
Is there a Linux driver for it?
</p></li></ul></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x2219580.0x2312898"></a></h2></div></div><p>
A great place to answer the last question is the ALSA Sound Card Matrix
(see Resources).
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x2219580.0x23129a0"></a>
Microphones</h2></div></div><p>
If you're recording acoustic sources, such as voice or drums, you need
microphones. Your budget and what you're recording influence your
decisions here. For example, if you have a medium to large budget and
need to record an acoustic guitar and singer, I might recommend two AKG
414s (about $1,000 US each). If you need to record pristine vocal tracks
and have a large budget, I might recommend one Neumann U87 (about $3,000 US).
Or, maybe you have a small budget but still need to record vocals and an
electric guitar amp. Then I might go with a pair of Shure SM58s, about
$100 US each.
Of course, if you never record acoustic sources and only
use synths plugged in directly, you don't need microphones
or preamps.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x2219580.0x2312aa8"></a>
Preamps</h2></div></div><p>
The signal from a microphone needs to be amplified before it is loud enough
to record or broadcast properly. If you plug a computer microphone
in to the microphone input of a consumer sound card, you're using a preamp,
and you should get a loud enough signal. If you try plugging in to the
line input, you barely get anything. Professional sound cards don't have
1/8" microphone inputs and assume you have outboard preamps.
</p><p>
The question is whether to use standalone preamps or the preamps
built into a mixer. For most, the preamps in almost any mixer are
sufficient.
The only reasons not to use the mixer's preamps are if you don't have a
mixer, you need more at once than your mixer has or you have aesthetic
reasons to use a standalone.
</p><p>
The need for preamps is a good case for having an external mixer,
because having a professional sound card with multiple analog inputs, no mixer
and a bunch of outboard preamps usually is more costly and less flexible
than having a mixer.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x2219580.0x2312c60"></a>
Monitoring</h2></div></div><p>
To listen, you can use anything you please, from computer speakers
to headphones to a home stereo speaker/amp combination to studio reference
monitors.
There is, however, a distinction between speakers and monitors.
A speaker is designed to enhance the sound of a recording, and a monitor
is designed to give an accurate, uncolored representation. If you want
to do accurate work, you need monitors.
</p><p>
Studio monitors come in a variety of flavors. The major thing you need to
know is whether a set is powered. If it isn't,
you need a power amp, just as if you were using a set of home
stereo speakers. Replacing your regular speakers with studio monitors
and connecting to your existing amp is easy.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x2219580.0x2309650"></a>
Digital Recorder</h2></div></div><p> The Linux box is your digital recorder. The
decision to make here concerns software.
Literally hundreds of open-source audio applications
are available for Linux, from hard-disk recorders to
MIDI sequencers to MP3 encoders. I don't have room
to talk about them all, so I focus on my main studio
tool, Ardour. (See the Where to Start section of
the Resources page on the Web for more information on finding software.)
</p><p>
You can Google your way to most software, but there are some
great package resources out there. I'm on Red Hat,
so I use Planet CCRMA.
The Planet is a project at Stanford's Center for Computer
Research in Music and Acoustics, maintained by a knowledgeable
guy named Fernando. Not only does Nando maintain Red Hat RPMs
of most audio and video applications, drivers, utilities and
even custom kernels, he has an extensive guide for installing
kernels, ALSA sound drivers and software, as well as for tweaking your
machine's performance. I highly recommend reading through
the Planet, even if you're not using Red Hat. There are
other similar resources for different distributions.
</p><p>
To quote the Ardour home page, &ldquo;Ardour is a
multichannel hard-disk recorder (HDR) and digital audio workstation
(DAW). It is capable of simultaneous recording of 24 or more channels
of 32-bit audio at 48KHz....&rdquo;
Ardour needs a 2.4 or later low-latency kernel, 0.9 series or later ALSA
sound drivers and JACK (Jack
Audio Connection Kit). It also needs a window
manager because it doesn't run from the
command line like many other Linux audio applications. I run Ardour
from Fluxbox and sometimes KDE, but most managers should work.
</p><p>
Ardour should be fine with any sound card supported by ALSA. Part of
why I use the HDSP is because Ardour was written with RME's cards in mind.
Ardour looks and acts a lot like Pro Tools from Digidesign.
</p><div       class="mediaobject"><a href="7205f4.large.jpg"><img src="7205f4.jpg"></a><div class="caption"><p>
Figure 4. The Ardour Edit Window
</p></div></div><p>
Starting Ardour is a matter of starting JACK and then starting Ardour
while JACK runs. It's best to run these as the superuser, because only root
is allowed to invoke real-time priority.
A generic start command for JACK would be:

<pre     class="programlisting">
jackd -d alsa -d hw:0
</pre>
</p><p>
This starts the JACK server using ALSA as its device, and
the default sound card as ALSA's device. See the JACK User Documentation to learn more about command-line
options for JACK.
</p><p>
Like Pro Tools, Ardour is very powerful. You can create as many
audio tracks as your hardware can handle, record tracks, mix internally,
apply plugins and route them any way you and your sound card can
imagine. A typical session for me might see 20 Ardour tracks routed
to 20 separate card outputs, and eight more tracks submixed within Ardour
and sent to two more channels of output, all mixed on my digital mixer.
It's relatively easy to do this. I simply click on the Out button,
toward the bottom of each track in the mix window (Figure 5),
and choose an output channel from a pop-up list.
</p><div       class="mediaobject"><a href="7205f5.large.jpg"><img src="7205f5.jpg"></a><div class="caption"><p>
Figure 5. The Ardour mix window lets you select the input, output
and level for each channel.
</p></div></div><p>
Another option is mixing totally within Ardour and exporting the
session as a .wav file. The mix window has graphical faders,
exactly like Pro Tools, as well as plugins and automation.
Automation is as simple as clicking arec, moving your
settings, then unclicking arec and clicking aplay to play
back the automation.
</p><p>
As you can see, using Ardour is as straightforward as any
professional DAW, which isn't totally straightforward, but it doesn't take
long to learn. Because it's in beta, the manual is forthcoming,
although a read through the Pro Tools manual should provide a good idea
of how
it works. There also are some good HOWTOs on-line (see Resources).
At the time of this writing, Ardour is at 0.9beta8-1. It's important to keep this
in mind, save often and don't be alarmed by the occasional crash. You
can help get it to version 1 by reporting bugs (see Resources).
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x2219580.0x2309e90"></a>
Space</h2></div></div><p>
Studios consist of some combination of control room, recording space and
isolation rooms. If you've got the space, you can have all of them;
if not, you may be limited to only your control room. Figure 6 is a
typical studio floor plan; Figure 7 is my studio's floor plan.

</p><div       class="mediaobject"><a href="7205f6.large.jpg"><img src="7205f6.jpg"></a><div class="caption"><p>
Figure 6. A typical studio floor plan includes isolation (ISO)
booths separate from the main recording space, but it can be
simpler.
</p></div></div><div       class="mediaobject"><a href="7205f7.large.jpg"><img src="7205f7.jpg"></a><div class="caption"><p>
Figure 7. The Author's Super-Fabulous, Ultra-Creative Studio Floor
Plan
</p></div></div><p>
Some people get expensive rigs, put them in an office and
call it a professional studio, which is far from the truth. The best
thing you can do to improve your recordings, better than buying
$5,000 US microphones, better even than 77-string custom guitars made by
Beelzebub himself, is improve your studio's acoustics. There are two
areas to consider, recording space and listening environment.
It's easy to be off the mark with your recording space and easier still to
be dead wrong in your listening space.
</p><p>
You should find some information about bass traps, no parallel surface rule,
diffusion, absorption, isolation, flutter echo, reverb times and the
like on the Resources page on the Web. Then you can start deciding things like
where to place furniture and acoustic material, finding a good room that's not
a hallway next to a jackhammer and so on.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x2219580.0x230a410"></a>
Practice</h2></div></div><p>
Good studio practice is more than a computer and its fancy open-source applications. For example, don't forget to take tracks outside of
the computer's domain. You may want to use a tube preamp, a classic
reverb or an outboard compressor. Experiment, don't be afraid to fuse
the old with the new and admit when your software isn't giving you
what you really want. A drum machine never can replace a drummer.
</p><p>
You also want to be wise about your cabling and general studio
maintenance. Keep audio cables away from AC cables, cross them only at
right angles when absolutely necessary and keep your connections clean.
See the Resources page on the Web for some general recording information
that
should be helpful.
</p><p>
There you have it, the fusion of computer geek and recording nerd. You're
now a few steps closer to your Linux-based studio. When you need help,
check out the Mailing Lists on the Resources page. Good luck, and raise your glass
to some ingenious open-source records appearing in stores everywhere.
</p><p><span   class="bold"><b>Resources for this article:</b></span>
<a href="../121/7457.html" target="_self">/article/7457</a>.
</p></div></div>
<div class="authorblurb"><p>
Aaron Trumm started recording pause loop tape hip-hop at 14.
He has since released seven albums and countless side projects.
He created and still owns NQuit Records, and he formed the
Techno/Classical/Poetry Project Third Option, which includes
his classical piano improvisation and poems, as well as poetry
from Tamara Nicholl, who was the first ever female Albuquerque
City Poetry Slam Champion. Aaron was also the tenth-ranked
slam poet in the US in 2002 and has competed at the National
Poetry Slam four times.
<div       class="mediaobject"><img src="7205aa.jpg"></div>
</p></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../121/toc121.html">Issue Table of Contents</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>