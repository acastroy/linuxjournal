<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>
AIDE&mdash;Developing for Android on Android
</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;No matter where you find yourself, there you are. And with AIDE, now you&#10;can develop code there too.&#10;"><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0x1dba580.0x1eb1ac0"></a>
AIDE&mdash;Developing for Android on Android
</h1></div><div><div class="author"><h3 class="author">
Joey
 
Bernard
</h3></div><div class="issuemoyr">Issue #230, June 2013</div></div><div><p>
No matter where you find yourself, there you are. And with AIDE, now you
can develop code there too.
</p></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1dba580.0x1eb21f8"></a></h2></div></div><p>
Android, as a platform, is one of the fastest growing on the planet. It
is available on smartphones and a series of different tablet sizes. Most
devices also include a full spectrum of sensors that are available to
programs you install, so it's a very inviting platform
for development. The usual workflow involves installing a development
environment on some other machine, either a Windows or Linux desktop or
laptop. You then do all of your code writing, compiling and debugging
there before you actually copy it and install it onto your Android
device. 
</p><p>
But, there may be times when you want to develop on the road
or shorten the cycle by developing on your Android device
itself. One of the better options for this is AIDE, the Android Java
IDE. AIDE is distributed under a freemium
model. The free version allows you to develop, compile and run your
code. It also allows you to install to the device on which AIDE is running.
However, if you want to generate APK files that can be used to install
onto other devices, you need to purchase the full version. 
</p><p>
In this
article, I start by explaining how to install AIDE and create a new
program, and then I cover what is involved in coding, debugging and running
your new program. For more information, see the Google+ page
(<a href="https://plus.google.com/101304250883271700981/about" target="_self">https://plus.google.com/101304250883271700981/about</a>).
</p><div       class="mediaobject"><a href="11394f1.large.jpg"><img src="11394f1.jpg"></a><div class="caption"><p>
Figure 1. AIDE is available as a free download from the Google Play store.
</p></div></div><p>
The first step is to install AIDE on your Android device. Open up
the Play Store and do a search for &ldquo;AIDE&rdquo;. The appropriate package
should show up at the top of the list. If you are in doubt, verify that
the developer is &ldquo;appfour GmbH&rdquo;. AIDE takes up more than 12MB, so
if you are running short on space, you can transfer the majority of it
to an SD card, leaving 4.45MB in your device's main storage. 
</p><p>
The very
first time you start AIDE, it will pop up a dialog box where you can
enter the details for beginning a project. In this dialog,
you can enter an App Name and a Package Name. You also can select an
app template from some built-in ones, such as &ldquo;Hello World&rdquo;,
&ldquo;Tetris&rdquo;
and &ldquo;Analog Clock Widget&rdquo;. These templates will set up the folders and
files for your new project. 
</p><div       class="mediaobject"><a href="11394f2.large.jpg"><img src="11394f2.jpg"></a><div class="caption"><p>
Figure 2. When AIDE starts up the first time, you are shown a dialog for
your first project.
</p></div></div><p>
Once you click create, the files will be
created in the folder /mnt/sdcard/appname (where appname is the name
you gave your project), and this new project will be opened up in the
IDE. The main part of the IDE consists of two panes. Their
alignment depends on the size of the device on which you're running it.
On my phone, the panes are one above the other, and on my tablet,
the panes are side by side. The first pane is a file
listing for your project, containing all the properties, resources
and source files needed for an Android project. The second pane is the
main editor, where the central file (MainActivity.java) gets loaded on
project creation. 
</p><div       class="mediaobject"><a href="11394f3.large.jpg"><img src="11394f3.jpg"></a><div class="caption"><p>
Figure 3. When you open a project, it gets pulled up into the IDE.
</p></div></div><div       class="mediaobject"><a href="11394f4.large.jpg"><img src="11394f4.jpg"></a><div class="caption"><p>
Figure 4. The tablet interface opens with panes side by side.
</p></div></div><p>
If you start with one of the templates, you can compile
it and run it right away to see how the process works. Click on the menu
button, and select the Run option. This will pop up a dialog,
informing you of each step being done. It will compile your code, link
it and create an APK file. In order to run it, this APK file
needs to be installed. So an installation dialog will appear asking
if you want to install it. Once installed, it then
will start up, and you will have your very first Android application,
developed completely on Android.
</p><div       class="mediaobject"><a href="11394f5.large.jpg"><img src="11394f5.jpg"></a><div class="caption"><p>
Figure 5. Security requires that you approve any app being installed.
</p></div></div><div       class="mediaobject"><a href="11394f6.large.jpg"><img src="11394f6.jpg"></a><div class="caption"><p>
Figure 6. After compiling and installing, AIDE will run your new program.
</p></div></div><p>
All of the apps that you develop in AIDE are structured as
projects. Anyone used to using IDEs, like Eclipse, should be familiar with
that. This means if you want to work on a different app, you
need to close the current project and open a new one. To close a
project, click the menu button, select More and then
Close Project. This still will leave you in the main directory of your
current project. 
</p><p>
To see your other projects, click
on the &ldquo;..&rdquo; entry in the file pane to move up one directory. Here,
you should see three standard entries, then a folder for each of your
projects. The first entry is a tool to let you clone a Git
repository to your Android device. The dialog that pops up allows you to
enter a repository URL and a directory name. If you 
already have done some development work and have the code on Dropbox, you
can download the relevant folder directly within AIDE. 
</p><div       class="mediaobject"><a href="11394f7.large.jpg"><img src="11394f7.jpg"></a><div class="caption"><p>
Figure 7. You can create new projects several different ways.
</p></div></div><div       class="mediaobject"><a href="11394f8.large.jpg"><img src="11394f8.jpg"></a><div class="caption"><p>
Figure 8. Cloning a Git repository is a fairly easy task.
</p></div></div><p>
The third option is
to create a new project. Selecting this option brings up the dialog you
saw when you started AIDE the very first time. To load a project into
the IDE, it isn't enough simply to select the project folder. Within
the folder is an option to &ldquo;Open this App Project&rdquo;. This loads all
the meta information about your project, like its properties and
resource file locations.
</p><p>
Now that you know a little about how projects are handled, let's start
creating your very first app. If you have a project open right now, go
ahead and close it. Change directories in the file pane until you are in
the main directory for all of your projects. From here, you can select
&ldquo;Create new App Project here&rdquo;, and name your project
&ldquo;MyFirstApp&rdquo;. You
can set the package name to whatever you like, as long as it
follows the usual format. Also, be sure that you have selected the
&ldquo;Hello World&rdquo; app template. 
</p><p>
Once everything is filled in, go ahead and
click the create button. This will create all of the required files
and open the new project in the IDE. The file MainActivity.java
extends the class &ldquo;Activity&rdquo;. This is the main class you will be
dealing with when developing apps. Your app builds on this class and
overrides the methods within it to make your app do its own thing. 
</p><p>
The
first method to override is &ldquo;onCreate&rdquo;. This method is called when
your activity first is created. The usual tasks involve creating the
graphical elements of your program and getting them initially rendered
and displayed. The first step (super.onCreate) runs the code in the main
class &ldquo;Activity&rdquo; to handle all of the OS-related tasks in creating a
new activity. You then add your own code, usually GUI creation. 
</p><p>
In the
Hello World template, it includes a call to the
&ldquo;setContentView&rdquo; method,
which assigns a particular layout as the content view. The beginning
value is the layout &ldquo;R.layout.main&rdquo;. Layouts are XML files, containing
all the elements that make up your graphical interface. To get to
this file, you can change to the directory res, then layout. Within
this subdirectory, you will find XML files for each layout that is
defined.
</p><div       class="mediaobject"><a href="11394f9.large.jpg"><img src="11394f9.jpg"></a><div class="caption"><p>
Figure 9. Layout files are stored in the subdirectory res/layout.
</p></div></div><p>
In this simple program, you just have a single file
called main.xml. Selecting it in the file pane loads it into the
editor pane. The outermost container in the XML file is the type of
layout being defined. A number of options are available. In the
Hello World template, the layout type being used is a LinearLayout. You
can set a width and height for the entire layout with the properties
android:layout_width and android:layout_height. In this example, let's
leave the defaults of &ldquo;fill_parent&rdquo; for both. 
You also can set the display's
orientation; in this case, it is vertical. 
</p><p>
The individual
elements for the graphical display are defined as internal XML containers
within the outermost Layout container. In this example, there is a
&ldquo;TextView&rdquo; object, where you can set various properties like the width,
height or the text to be displayed. The proper way to include things like
text strings, or anything else that may be reused, is to store them once
as a resource and to refer to this string with a resource identifier. In
this example, the identifier is &ldquo;@string/hello&rdquo;. The actual text string
is stored in the file strings.xml, which is located in the directory
res/values. The outermost container of this XML file is the tag
&ldquo;resources&rdquo;. Within this, is the list of all of the resources available
to your program. In this case, there are only two strings:
one for the app name and one for the text content of the main window.
</p><div       class="mediaobject"><a href="11394f10.large.jpg"><img src="11394f10.jpg"></a><div class="caption"><p>
Figure 10. Resources for your program are stored in a series of XML files.
</p></div></div><p>
To this example, let's add a button to change the text being
displayed. If you need to do any amount of typing, you will want to download
and install a more complete soft keyboard or use an external Bluetooth
keyboard. A good soft keyboard is the hacker's keyboard. It includes a
lot of extra keys that are useful in code editing, including arrow
keys to aid navigation and real control, Tab and Escape keys. Most
soft keyboards included on Android devices lack these. 
</p><p>
Open the main
layout file, and below the TextView, add a new tag for a Button entry
with the following code:

<pre     class="programlisting">

&lt;Button
   android:layout_width="wrap_content"
   android:layout_height="wrap_content"
   android:text="@string/button_title" /&gt;

</pre>
</p><p>
AIDE actually does a continuous code check to make sure there aren't
any errors in the code. This means that while you are typing the above
additions, you likely will see errors until you finally finish. 
</p><p>
The editor
includes tab completion, so you can start typing &ldquo;&lt;Butt&rdquo; and
then press Tab,
and the editor will fill out the rest of the word for you. This is because
&ldquo;Button&rdquo; actually is a special word in Android development. 
</p><p>
Once you add
the above, you can click the menu button, select More, and then select
Refresh Build. This will try to do a full rebuild of your app, and you
will see an error about the missing string resource. If you
have multiple errors, clicking on the error in the list will bring you to
the location where the error appears. To fix this particular error, you
need to add the following text to the file res/values/strings.xml:
   
<pre     class="programlisting">

&lt;string name="button_title"&gt;My Button&lt;/string&gt;

</pre>
</p><div       class="mediaobject"><a href="11394f11.large.jpg"><img src="11394f11.jpg"></a><div class="caption"><p>
Figure 11. Any errors that crop up during a rebuild are listed here.
</p></div></div><p>
When you get to the end of this line and start typing
&ldquo;&lt;/&rdquo;, the editor automatically will fill in the rest of the line for
you. When you refresh the build, the error should go away, assuming
that you haven't introduced any typos. 
</p><div       class="mediaobject"><a href="11394f12.large.jpg"><img src="11394f12.jpg"></a><div class="caption"><p>
Figure 12. You can add new string resources to the file strings.xml.
</p></div></div><p>
Buttons are expected to trigger
some reaction, however. This means you likely will want to add some
kind of callback to a function in your button. This is handled within the
layout file where the button is defined. You can add an extra property,
&ldquo;onClick&rdquo;, which gives a method name to be called when the button is
clicked. For example, you might have the following in the button
definition:

<pre     class="programlisting">
android:onClick="my_method"
</pre>
</p><p>
You then can add the function
&ldquo;my_method&rdquo; to the file MainActivity.java. This new method needs to
be public and return void. Also, the only input parameter is a View
object. Because you want to change the text in the TextView object, you'll
need to add an ID so that you can refer to it. In the main.xml file,
add the following property to the TextView entry:

<pre     class="programlisting">
android:id="@+id/view_text"
</pre>
</p><div       class="mediaobject"><a href="11394f13.large.jpg"><img src="11394f13.jpg"></a><div class="caption"><p>
Figure 13. Add callbacks for buttons in the main.xml file.
</p></div></div><p>
You then can use &ldquo;view_text&rdquo; to access the text display. In
the method &ldquo;my_method&rdquo;, you can get a reference to this text field with
the line:


<pre     class="programlisting">
TextView tview = (TextView)findViewById(R.id.view_text);
</pre>
</p><div       class="mediaobject"><a href="11394f14.large.jpg"><img src="11394f14.jpg"></a><div class="caption"><p>
Figure 14. You need to add ID labels to interact with items in your program.
</p></div></div><p>
You then can reset the text to be &ldquo;The button was clicked&rdquo;
with:
      
<pre     class="programlisting">
tview.setText("The button was clicked");
</pre>
</p><p>
When you click Run, your program will be recompiled,
re-installed and opened. Now you can see what happens when you click on
the added button. 
</p><div       class="mediaobject"><a href="11394f15.large.jpg"><img src="11394f15.jpg"></a><div class="caption"><p>
Figure 15. The actual callback code goes into MainActivity.java.
</p></div></div><div       class="mediaobject"><a href="11394f16.large.jpg"><img src="11394f16.jpg"></a><div class="caption"><p>
Figure 16. Before pressing the button.
</p></div></div><div       class="mediaobject"><a href="11394f17.large.jpg"><img src="11394f17.jpg"></a><div class="caption"><p>
Figure 17. After pressing the button.
</p></div></div><div       class="mediaobject"><a href="11394f18.large.jpg"><img src="11394f18.jpg"></a><div class="caption"><p>
Figure 18. There are lots of functions in the menu not covered here.
</p></div></div><div       class="mediaobject"><a href="11394f19.large.jpg"><img src="11394f19.jpg"></a><div class="caption"><p>
Figure 19. The premium version adds even more capabilities.
</p></div></div><p>
I've provided only a short introduction to AIDE and
all of its super powers here. This article hasn't looked at more than
the most basic features of an Android application. Lots of
tutorials exist to get you up to speed in Android development, and now
you can run through those tutorials on the go.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1dba580.0x22add00"></a></h2></div></div><div class="sidebar"><p class="title"><b></b></p><p>Send comments or feedback via <a href="http://www.linuxjournal.com/contact" target="_self">www.linuxjournal.com/contact</a> or to
<a href="mailto:info@linuxjournal.com">info@linuxjournal.com</a>.
</p></div></div></div>
<div class="authorblurb"><p>
Joey Bernard has a background in both physics and computer science. This
serves him well in his day job as a computational research consultant at
the
University of New Brunswick. He also teaches computational physics and
parallel programming. He has been using Linux since the mid-1990s and
believes it is the future.
</p></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../230/toc230.html">Issue Table of Contents</a>
    <a class="link3" href="../230/11394.html">Article</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>