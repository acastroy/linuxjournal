<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Best of Technical Support</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;      Our experts answer your technical questions.&#10;    "><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0x21f2580.0x22e9ab0"></a>Best of Technical Support</h1></div><div><p>
      Our experts answer your technical questions.
    </p></div></div><div class="qandaset"><a name="N0x21f2580.0x22ea030"></a><h4 class="title"><a name="N0x21f2580.0x22ea030"></a>
Unclean Shutdown Messes Up Large Directory</h4><p>
We have a directory containing a large number of small- and
medium-sized files (approximately 100,000). When we installed Red Hat
8.0, we ran into a problem when the system has an unclean shutdown.
We get a message about a too-large inode, and the system goes to
single-user mode. The only way to repair this is to do an
<tt  >e2fsck</tt>, answering <tt  >y</tt>.
The directory is completely gone, and all the files are moved to the lost&amp;found
directory. This never happened under releases up through Red Hat 7.3. We were
able to reproduce this on two different types of computers,
both using Red Hat 8.0. We have the same problem using either ext2 or ext3 filesystems.

<br><br>&mdash;<br> Joe Waytula  <br><br><br><a href="mailto:joseph.waytula@ipaper.com">joseph.waytula@ipaper.com</a>
</p><p>
What probably happened is that your system was powered off or crashed
while you were writing to the directory. This causes the directory to be
in an inconsistent state, and the directory is lost.
Although ext3 is a journaling filesystem, it guarantees that your system will
recover quickly, but not that no data can be lost. In this case, the
data lost is your directory. ext2 and 3, without the hashed directory
extension,
don't like directories with that many files. It's slow, and as a result
you have a big time window during which your directory can be potentially
corrupted during a crash.
I would recommend that you switch your filesystem to ReiserFS, XFS or
JFS, as they all have better support for big directories.

<br><br>&mdash;<br> Marc Merlin  <br><br><br><a href="mailto:marc_bts@google.com">marc_bts@google.com</a>
</p><a name="N0x21f2580.0x22ea608"></a><h4 class="title"><a name="N0x21f2580.0x22ea608"></a>
Dell Laptop Hangs at Boot</h4><p>
I purchased a Dell D800 laptop with 256MB of memory and 30GB
of hard disk. It also has an interchangeable CD-ROM and floppy. It came
with MS WinXP installed, but, like my desktops, I wanted to have Red
Hat Linux 8.0 on the rest of the disk. I allocated 6GB for Windows and
proceeded to divide up the remainder of the disk for what Linux needed. I
used GRUB to make the machine dual-boot between Windows and Linux. It
looked like I could do everything just as I did with the desktops. The
installation from CD-ROM went flawlessly. I did not make a boot floppy,
because I did not want to switch out the CD-ROM at that point.
However, after I congratulated myself on a smooth installation, when I
tried to boot Linux, the machine stalled during the boot, but shortly
after the boot started. The keyboard went dead and nothing would respond.
The display did not go blank, but I had to turn the machine off and then on
to reboot Windows. I tried re-installing twice afterward, but the same thing
happened. It's as if an interrupt is stopping the machine. I've read
about APM interrupts and laptops, but I am not sure what to do at this point.
I really want Linux on my laptop.

<br><br>&mdash;<br> Rob Borochoff  <br><br><br><a href="mailto:borochoff456@comcast.net">borochoff456@comcast.net</a>
</p><p>
Whenever you have Linux questions about a specific laptop model, check
out the excellent Linux on Laptops Web site: <a href="http://www.linux-laptop.net" target="_self">www.linux-laptop.net</a>. It has a link to someone who has successfully installed Linux on this
exact model, which will answer your questions on how to get Linux
running properly on your hardware.

<br><br>&mdash;<br> Greg Kroah-Hartman  <br><br><br><a href="mailto:greg@kroah.com">greg@kroah.com</a>
</p><p>
Try fetching or buying a copy of Knoppix (<a href="http://www.knoppix.com" target="_self">www.knoppix.com</a>), which
runs from the CD without installing, and
see if it can boot, autodetect and autoconfigure your laptop's
hardware. If it can, you have some valuable clues to use in
configuring Red Hat or any other distribution.
You might even find that you like running Knoppix straight from the CD
or that you want to run its little installation program.
I suggest it here because it currently has the best
hardware autodetection and autoconfiguration.

<br><br>&mdash;<br> Jim Dennis  <br><br><br><a href="mailto:jimd@starshine.org">jimd@starshine.org</a>
</p><a name="N0x21f2580.0x22eadf0"></a><h4 class="title"><a name="N0x21f2580.0x22eadf0"></a>
termcap or terminfo?</h4><p>
I need to use an xterm in order to connect to a SCO
machine. I can't find the definitions of the emulation. Does xterm use
terminfo or termcap?

<br><br>&mdash;<br> Aldo Gentile  <br><br><br><a href="mailto:agentile@lacapital.com.ar">agentile@lacapital.com.ar</a>
</p><p>
All modern Linux distributions use ncurses, which uses terminfo rather
than termcap. You might try running rxvt and using vt100 or vt220
as the terminal type.

<br><br>&mdash;<br> Jim Dennis  <br><br><br><a href="mailto:jimd@starshine.org">jimd@starshine.org</a>
</p><a name="N0x21f2580.0x22eb318"></a><h4 class="title"><a name="N0x21f2580.0x22eb318"></a>
There's More than One Way to Name Ethernet Cards</h4><p>
I have two Ethernet cards in the same machine. Is there a
way to specify one card to be eth0 and the other to be eth1 always?

<br><br>&mdash;<br> Ning Qian  <br><br><br><a href="mailto:nq6@columbia.edu">nq6@columbia.edu</a>
</p><p>
Yes there is. Look into the nameif program. It will name network
devices depending on their MAC address. So, no matter which way the
kernel probes your Ethernet cards, you always can name them the same
way. Combine nameif with the hot-plug scripts (available at <a href="http://linux-hotplug.sf.net" target="_self">linux-hotplug.sf.net</a>) and your network devices can be named
properly whenever the device is found by the kernel.

<br><br>&mdash;<br> Greg Kroah-Hartman  <br><br><br><a href="mailto:greg@kroah.com">greg@kroah.com</a>
</p><p>
There is an ether= kernel command-line parameter that can
control the assignment of Ethernet device names and other resources
for statically linked drivers, and there are command-line options
and aliases in /etc/modules.conf to control them for loadable module
drivers. The bootparam(7) man page (type <tt  >man 7
bootparam</tt> from a
terminal) provides details on the former; and the modules.conf(5)
man page explains more than you will want to know about the latter.

<br><br>&mdash;<br> Jim Dennis  <br><br><br><a href="mailto:jimd@starshine.org">jimd@starshine.org</a>
</p><p>
If they are different cards, make sure you are using modules and select
the order in /etc/modules.conf, like this:

<pre     class="programlisting">
alias eth0 e100
alias eth1 3c59x
</pre>

<br><br>&mdash;<br> Marc Merlin  <br><br><br><a href="mailto:marc_bts@google.com">marc_bts@google.com</a>
</p></div></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../115/toc115.html">Issue Table of Contents</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>