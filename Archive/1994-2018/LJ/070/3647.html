<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>LinuxPPC 1999</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;    How to install Linux on your Power Macintosh to gain a&#10;    robust alternative to the MacOS.&#10;    "><meta name="keywords" content="LinuxPPC, Macintosh, PowerPC"><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0x2261580.0x2358ab0"></a>LinuxPPC 1999</h1></div><div><div class="author"><h3 class="author">Stephane Morvan</h3></div><div class="issuemoyr">Issue #70, February 2000</div></div><div><p>
    How to install Linux on your Power Macintosh to gain a
    robust alternative to the MacOS.
    </p></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x2261580.0x23594a8"></a></h2></div></div><p>There are some very significant things
about LinuxPPC and the Macintosh that make installing LinuxPPC a
challenge for Mac users. For one, no matter how hard you look,
MacOS (the Macintosh Operating System) does not feature a command
line or anything remotely resembling one. Fortunately enough, with
this release of LinuxPPC 5.1, LinuxPPC, Inc. has done a great job
of making the intrinsically complicated installation process easy
with their X-based installer. Although the process is not perfect
or free from any defects, it does a good job of bridging the gap
between a 100% graphical OS and a 100% fundamentally command-line
OS.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x2261580.0x23595b0"></a>About LinuxPPC</h2></div></div><p>LinuxPPC, along with MkLinux and NetBSD, are the three
flavors of Linux that can be found for Macintosh computers.
LinuxPPC supports some very exotic hardware, with various degrees
of functionality: BeBoxes, Motorola Powerstacks (a PowerPC-based
machine capable of running a defunct WindowsNT), IBM AIX machines
(PowerPC-based, such as the Thinkpad 8x0 series) and Apple's
discontinued Network Servers (which ran only AIX). Most users run
LinuxPPC on Macintosh hardware, whether from Apple or from the late
clonemakers (Umax and PowerComputing). A wide array of platforms
are supported from old Performas (6360, 6400 series) to the latest
B&amp;W G3, Powerbooks G3 and all iMac flavors.</p><p>The name LinuxPPC 1999 refers to the most recent version of
LinuxPPC, in this case version 5.1, which is a minor update to
v5.0. Thus, the name LinuxPPC 1999 and LinuxPPC R5.1 may be used
interchangeably.</p><p>Essentially, LinuxPPC R5.1 is based on Red Hat 6. This may
sound like old news for x86 users, but LinuxPPC was almost an
entire year in gestation. On June 10, 1999, the CDs shipped out to
patient users. LinuxPPC 1999 follows from LinuxPPC 1998, another
Red Hat-based distribution (Red Hat 5). This last release brings
some very significant improvements over the previous version,
including XFree86, glibc 2.1-based, USB support with 2.2 kernels, a
wider array of window managers (WindowMaker, Enlightenment),
<span   class="bold"><b>linuxconf</b></span> support and Netscape
Communicator 4.6 to name a few. Furthermore, switching from the
MacOS to LinuxPPC has never been easier, due to the introduction of
Benjamin Herrenschmidt's BootX 1.1, a utility that makes flirting
with the buggy OpenFirmware settings a thing of the past.</p><p>I have successfully installed LinuxPPC on a variety of
platforms I have owned over the past years: a Performa 6360 (PPC
603ev, 160 MHz), a PowerMacintosh 6500/275 (PPC 603ev 275 MHz, ATI
RageII), a Powerbook G3/3500 (PPC 750 250 MHz, Chips and
Technologies 65554) and on my latest acquisition, a Powerbook
G3/266 (PPC 750 266 MHz, ATI Rage Pro LT).</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x2261580.0x2359818"></a>Installing LinuxPPC 1999</h2></div></div><p>Installation has never been so straightforward: there's the
choice of an X-based installer, running on a minimum live file
system (with shells and WindowMaker), and for more confident users,
the Red Hat installer.</p><p>The most difficult step to be carried out during the
installation process is partitioning the hard drive. Although this
is by no means a complicated operation, it has to be carried out
cautiously to prevent any loss of data on MacOS partitions. It
should be noted that, although LinuxPPC is becoming a mature
distribution, users are expected (read
<span   class="emphasis"><em>required</em></span>) to polish the edges by manually
tuning their installation and resolving some minor problems.
First-time users are often frustrated at this point: between the
use of <span   class="bold"><b>vi</b></span> and the large number of
configuration files to be edited, their MacOS experience falls
short of helping them conquer the final hurdles.</p><p>LinuxPPC, however, and for that matter most Linux
distributions, are built on the premise of experience
capitalization: from the resolution of a problem, so much is
learned of the system itself that the next problem is tackled
efficiently.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x2261580.0x2359a80"></a>Installing with the X-based Installer</h2></div></div><p>The installation process starts by launching the LinuxPPC
1999 Installer, having the live file system on a local volume and
rebooting the machine into LinuxPPC (using BootX). The installation
can access the distribution whether it is located on a CD-ROM,
HTTP, FTP or NFS. An excellent 68-page installation guide is
provided to cover the common pitfalls, and prospective users should
consider reading it several times before attempting the
installation.</p><p>By far, the simplest and safest installation process is with
the $40 CD-ROM sold by LinuxPPC (or any custom-made CD-ROM with
long file name support). Although the FTP installation is equally
easy, it requires a relatively fast and reliable Internet
connection and support present in the kernel for the Ethernet
hardware. The local installation, which involves downloading the
RPM files from one of the FTP sites to a MacOS volume, can be
equally challenging: MacOS does not support long file names (in
excess of 32 characters) and the name truncation is often FTP
client-dependent. Furthermore, HFS+, the updated version of the
MacOS file system HFS, is not supported in LinuxPPC. Hence, a local
distribution should be on an HFS volume only. A custom CD-ROM can
be recorded on any PC in the ISO9660/HFS Format with Rock Ridge
Extensions (with long file name support). The DOS version of
<span   class="bold"><b>mkhybrid</b></span> can be used to generate
the ISO image file supported by most CD mastering software.</p><p>Nevertheless, once the source installation issue is
addressed, the installation process involves six steps:</p><div class="orderedlist"><ol type="1"><li><p>Partition the hard drive (1GB as root and 200MB as
swap are recommended).</p></li><li><p>Choose and configure the installation
method.</p></li><li><p>Choose the packages to be installed (minimum
installation is 400MB).</p></li><li><p>Enter the root password.</p></li><li><p>Configure the network.</p></li><li><p>Reboot the machine.</p></li></ol></div><p>Although there aren't any major issues to be resolved during
the installation, I noticed the output shell is overly verbose. It
reports errors which appear to be are serious, but which do not
prevent the installation process from concluding successfully.
</p><p>Once the machine is restarted, the user may be faced with the
first problem as the screen cycles a number of times displaying a
hieroglyphic message stating that a process is respawning too fast,
and as a result, another process was murdered mysteriously.
Fortunately, the cycling pauses for five minutes after a number of
attempts, which is enough time to log in as root and solve the
problem. The resolution is described at the LinuxPPC web site,
under the updates section. Once this problem is resolved, the
system boots in runlevel 5, and it presents us with GNOME and
Enlightenment and an Xlogin screen. From there, customization of
the environment and installation of new packages are simple matters
common to most other Linux systems.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x2261580.0x235a1b8"></a>Installing with the Red Hat Installer</h2></div></div><p>The Red Hat-based installer is geared somewhat more toward
the command-line user, though other users should not anticipate any
difficulties with it. Perhaps the most stringent problem arising
with this installer is the difficulty of going back and making
changes to adjust for a problem encountered during the
installation.</p><p>Nevertheless, booting in the Red Hat installer is very
simple. Either add an option to the kernel arguments in BootX
(<b  >; redhat</b>) or remove the live file system from
the MacOS (renaming it is sufficient). The installation process
then prompts for various configuration information: keyboard type,
type of installation (upgrade or new install), source installation
(FTP, NFS, local or CD-ROM), and the partitioning step. Rebooting
the computer after the partitioning step is required rather than
suggested as per <span   class="bold"><b>pdisk</b></span>
instruction, otherwise the file system may be corrupted. Then the
file system is configured, the mount points are set, and the
package selection is proposed. Once installation of all packages is
finished, the installer will try to configure the X Server (e.g.,
by editing /etc/X11/XF86Config). Unfortunately, this operation will
likely fail in a frustrating manner; the workaround to this problem
is proposed later.</p><p>Then, the root password is set and the system is rebooted.
Since the X Server configuration failed, the system will boot in
runlevel 4 until the X Server is properly configured.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x2261580.0x235a420"></a>About the X Server: XF68_FBdev</h2></div></div><p>The current implementation of XFree86 is somewhat peculiar to
LinuxPPC: the incantation of the X Server is XF68_FBdev, written by
Geert Uytterhoeven. This X Server uses a hardware abstraction for
the frame buffer by creating a special device file in /dev/
(usually <b  >/dev/fb0</b>) and using it to drive the
graphics. As with any devices/special files, kernel support is
required. The default driver for the frame buffer device is called
the open firmware frame buffer
(<span   class="bold"><b>offb</b></span>). This driver is common to
all Macintosh computers, which makes it inherently slow, hence the
poor graphics performance of a basic installation (or the total
failure thereof).</p><p>Fortunately, patches are available to build a kernel to
support a particular frame buffer. Such is the case for Apple
Powerbooks (1998: G3/233, G3/250, G3/266, G3/292 and G3/300)
sporting an ATI Rage controller (either RageII LT or RagePro LT)
with 4MB SGRAM. Booting with such a patched kernel will provide
users with accelerated 2-D graphics, and an overall improved
experience with the X Server (often mistakenly associated with the
overall system speed, by first-time users).</p><p>To configure the graphics for such a kernel, do the
following:</p><div class="itemizedlist"><ul type="disc"><li><p>Pass the correct kernel arguments in BootX to
indicate the use of another frame-buffer device, screen size,
screen depth and refresh rate. For instance, to boot in
1024x768x32@60Hz on a Powerbook G3/266, use the following:</p></li></ul></div><pre     class="programlisting">
        video=atyfb:vmode:14,cmode:32,pll:135,mclk:60
</pre><div class="itemizedlist"><ul type="disc"><li><p>Once the booting process is finished, run
<span   class="bold"><b>Xconfigurator</b></span>. Note that the
correct amount of VRam is now detected. Select a monitor which
suits your needs and the resolutions to be used.</p></li><li><p>Let Xconfigurator try to start the X Server; in the
event it fails, be sure to select at least one configuration at
8bpp. In the event it keeps failing to start the X Server, select
another monitor.</p></li><li><p>Start the X Server using
<span   class="bold"><b>startx</b></span>.</p></li></ul></div><p>Xconfigurator edits the /etc/X11/XF86Config file for specific
hardware. Admittedly, this is more work than most users are willing
to do, and there is no guarantee that the list of monitors provided
will match a particular monitor. Fortunately, some alternate X
Servers are available. Such X Servers are
<span   class="bold"><b>Xpmac</b></span> and
<span   class="bold"><b>Xpmac_mga</b></span> (accelerated), which are
essentially software-only X Servers (although Xpmac_mga offers a
degree of acceleration on some hardware). Installing them requires
simply copying them to /usr/X11R6/bin in an existing XFree86
installation and linking X to either Xpmac or Xpmac_mga.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x2261580.0x235ac08"></a>Conclusion</h2></div></div><p>All in all, while this version of LinuxPPC certainly has its
flaws, once the problems are resolved, the system is rock-solid and
very responsive. Furthermore, the LinuxPPC community is fairly
responsive. The support newsgroup is a great source for help on
most common problems, as are the mailing lists. Hardware support is
currently at its best, as most devices do function properly (even
PPP works). For Mac users on the search for a robust alternative to
the MacOS, whether for development or server applications, LinuxPPC
certainly delivers the goods.</p><p><a href="3647s1.html" target="_self">Resources</a></p></div></div>
<div class="authorblurb"><p>
        <div       class="mediaobject"><img src="3647aa.jpg"></div>

      <span   class="bold"><b>Stephane Morvan</b></span>
      can be reached via e-mail at
      smorvan@ces.clemson.edu.</p></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../070/toc070.html">Issue Table of Contents</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>