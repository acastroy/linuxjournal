<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>
Hack and /
</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;If you want to be a futuristic Web-browsing machine, terminate&#10;that mouse, pick up the keyboard, and find out how Vimperator can&#10;transform Firefox into a modal half-vim, half-browser cyborg.&#10;"><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0x1771580.0x1868ac0"></a>
Hack and /
</h1></div><div><h3 class="subtitle"><i>
Dr hjkl Meets the Vimperator
</i></h3></div><div><div class="author"><h3 class="author">
Kyle
 
Rankin
</h3></div><div class="issuemoyr">Issue #189, January 2010</div></div><div><p>
If you want to be a futuristic Web-browsing machine, terminate
that mouse, pick up the keyboard, and find out how Vimperator can
transform Firefox into a modal half-vim, half-browser cyborg.
</p></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1771580.0x1869408"></a></h2></div></div><p>
In November 2009, I wrote an entire column (&ldquo;Dr hjkl and Mr
Hack&rdquo;) devoted to programs with vi-style keybindings. In the
column, I introduced the Vimperator plugin for Firefox and discussed
how it worked, but at the time, I mentioned, &ldquo;The Vimperator plugin is
extensive enough to deserve a column of its own (in fact, e-mail me at
<a href="mailto:lj@greenfly.net">lj@greenfly.net</a> if you'd be interested in that.)&rdquo;
Well, I received a number
of responses, so between that and my love for all things with vi
keybindings, I think it's worth giving the Vimperator plugin the full column
it deserves.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1771580.0x18696c8"></a>
Hasta la Vista, Mousey</h2></div></div><p>
As I mentioned in my previous column, the main reason I love vi-style
keybindings is that they keep your fingers on the home row
(the asdfghjkl; row on your keyboard)&mdash;something quite important if
you touch type. Once you get used to using hjkl to navigate documents,
it and the rest of the keybindings become second nature. If you touch
type with any decent speed, you realize how much it slows you down to
reach for the mouse or even the arrow keys&mdash;particularly for something
simple like clicking a link. Now, most Web browsers have some limited way
to browse a page with a keyboard, but they almost always use the arrow
and Page Up and Page Down keys, all of which are pretty far from the home row.
</p><p>
In the past, I've used a number of methods to add some level of vi-style
keybindings to Firefox. At first, I used a custom configuration to my
Firefox config, and later, I used the mozless extension. Both worked okay,
at least for certain versions of Firefox, but they still were a
limited version of the real thing. Well, the Vimperator plugin is the
real deal. It goes far beyond simple keybindings and actually creates
a modal interface with an incredible level of detail. You not only get
hjkl navigation, but you also can open tabs and even record macros just like
in vim. What's more, Vimperator was built with Web page navigation in
mind, so there are keybindings available to make it easy to click on
links and even hover over elements on the page&mdash;all from the keyboard.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1771580.0x1869880"></a>
Come with Me If You Want to Live</h2></div></div><p>
The first step is to install the Vimperator plugin. Visit
<a href="http://vimperator.org" target="_self">vimperator.org</a>, click on the Download Vimperator button
on the page, and go through the typical Firefox plugin installation
process. Once you start Firefox again, the first thing you will notice
is that your menu bar is gone (Figure 1)! Now, this might be fine once
you get accustomed to Vimperator, but I found it a little jarring at
first, so you might want to type <tt  >:set guioptions+=mT</tt> to turn the menu
bars back on for now. Notice that as with vim, you press the : key to
enter command-line mode. Vimperator turns Firefox into a modal browser
like vim that has a command-line mode (accessed when you press the : key)
as well as a
normal and insert mode. Also as with vim, when you get stuck in some
strange mode, you generally can just press Esc a few times to get back to
normal. If you find you want the menu bar back permanently, add the
following to your ~/.vimperatorrc file:

<pre     class="programlisting">
set guioptions+=mT 
</pre>
</p><p>
This file acts like ~/.vimrc, so you can add
any other Vimperator-specific settings here as well.
</p><div       class="mediaobject"><a href="10636f1.large.jpg"><img src="10636f1.jpg"></a><div class="caption"><p>
Figure 1. Vimperator-Enabled Firefox without the Menu Bar
</p></div></div><p>
The basic navigation with Vimperator should be pretty familiar to you
if you've ever used vim before, but in case you are still new to that
kind of navigation, here's a quick list of keybindings:
</p><div class="itemizedlist"><ul type="disc"><li><p>
h &mdash; scroll left.
</p></li><li><p>
j &mdash; scroll down one line.
</p></li><li><p>
k &mdash; scroll up one line.
</p></li><li><p>
l &mdash; scroll right.
</p></li><li><p>
gg &mdash; move to the top of the page.
</p></li><li><p>
G &mdash; move to the bottom of the page.
</p></li><li><p>
/ &mdash; enter search mode.
</p></li><li><p>
n &mdash; move to the next match in your search.
</p></li><li><p>
N &mdash; move to the previous match.
</p></li><li><p>
Spacebar &mdash; move down one page.
</p></li><li><p>
Shift-spacebar &mdash; move up one page.
</p></li><li><p>
Esc &mdash; go back to standard navigation mode.
</p></li><li><p>
F1 &mdash; show Vimperator help.
</p></li></ul></div><p>
So for instance, if I wanted to use Vimperator to search for &ldquo;Sarah
Conner&rdquo;, I would press /, type in Sarah Conner and press Enter. Vimperator
would jump to the first instance on the page. If the first Sarah Conner
wasn't the right match, I would press n to move to the next match or N to
go back to the previous match. If I wanted to start a new search from the
top of the page, I could type gg to move back to the top, then / to enter
search mode, and then type, for instance, &ldquo;John Conner&rdquo; and
press Enter.
</p><p>
As with vim, you also can add numerical modifiers to any of these
commands, so if you want to move down five lines instead of just one, you
can press 5j. If you forget the keybinding for a particular function,
just press F1 or type <tt  >:help</tt> to see the full Vimperator help screen.
</p><p>
Vimperator would be useful even if it provided only the standard
navigation keys, but it also adds a complete set of keys to access
standard browsing functions. Here is a list of some of the standard ones:
</p><div class="itemizedlist"><ul type="disc"><li><p>
H &mdash; go back in the current tab's history.
</p></li><li><p>
L &mdash; go forward in the current tab's history.
</p></li><li><p>
gt &mdash; go to the next tab.
</p></li><li><p>
gT &mdash; go to the previous tab.
</p></li><li><p>
d &mdash; close the current tab.
</p></li><li><p>
u &mdash; undo: open a previously closed tab (works with multiple
previously closed tabs).
</p></li><li><p>
r &mdash; reload the current page.
</p></li><li><p>
R &mdash; reload the current page without the local cache.
</p></li></ul></div><p>
Now, I've found that when I use tools like S5 for Web-based presentations,
the keybindings it expects conflict with Vimperator. Luckily,
Vimperator makes it easy to disable its keys temporarily. Simply press
Ctrl-z,
and all keybindings will go back to standard Firefox mode until you press
Esc. I also use this mode when I browse Google Reader, because it already
accepts vi-style key bindings to browse through RSS feeds. If you just
need to enter one key that Vimperator won't intercept, you can press
Ctrl-v,
and after you press the key, Vimperator will go back to its normal mode.
</p><p>
Once you have the standard movement down, you might wonder, how do I actually open
a new URL without a menu bar? Either press o (or type
<tt  >:open</tt>) followed by
the URL you want to open to load that URL in your current tab, or press t
(or type <tt  >:tabopen</tt>) to type in a URL to open in a new tab. In addition
to these basic keys, there also are a number of variations to them:
</p><div class="itemizedlist"><ul type="disc"><li><p>
T &mdash; open a :tabopen prompt, but fill in the URL with the URL of your
current tab.
</p></li><li><p>
O &mdash; create an :open prompt, but fill in the URL with the URL of your
current tab.
</p></li><li><p>
w &mdash; like :tabopen but only opens the URL in a new window.
</p></li><li><p>
W &mdash; like T, it creates a :winopen prompt and fills out the URL with
the URL in the current tab.
</p></li><li><p>
p &mdash; open a URL based on the contents of the clipboard.
</p></li></ul></div><p>
Once you type in a URL, you also can press the Tab key to trigger Tab-complete based on your browser history. Speaking of browser history,
you still can access that and the other standard Firefox functions from
command-line mode:
</p><div class="itemizedlist"><ul type="disc"><li><p>
<tt  >:bmarks</tt> &mdash; access all of your Firefox bookmarks in command-line mode.
</p></li><li><p>
<tt  >:history</tt> &mdash; view your browser history.
</p></li><li><p>
<tt  >:emenu</tt> &mdash; access functions in the standard
Firefox menu.
</p></li><li><p>
<tt  >:dialog</tt> &mdash; access other Firefox dialog windows;
type <tt  >:help :dialog</tt> for more information.
</p></li></ul></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1771580.0x1c63b78"></a>
Heads-Up Link Displays</h2></div></div><p>
In my mind, the real power of Vimperator besides the standard keybindings
is the fact that you can use the keyboard to open links, move to input
boxes and even simulate mouse hovering. Vimperator calls this Hint
mode, and to activate it, press the f key on any Web page. All of the
&ldquo;hintable&rdquo; objects on the page, such as hyperlinks, text-entry boxes
and drop-down menus will be highlighted with a number assigned to them
(Figure 2). To select one of the highlighted items, you either can type
in the number next to it and press Enter, or you can start typing part
of the highlighted text. For instance, if you are reading a multipage
article on the Web and see links to each page of the article along with
a Next link, you could press f and then type <tt  >N e x t</tt>. As you type, hints
that no longer match drop away, and once there is only one match left,
it automatically will load. When you use f, hints will open up in the
current tab, but if you want to open the page in a new tab, simply start
Hint mode with F instead of f. Like with other modes, you can press the
Esc key to exit Hint mode.
</p><div       class="mediaobject"><a href="10636f2.large.jpg"><img src="10636f2.jpg"></a><div class="caption"><p>
Figure 2. LinuxJournal.com in Hint Mode
</p></div></div><p>
The f and F keys activate a Quick Hint mode, but you also can activate
an Extended Hint mode to enable other actions on a link beyond a left-mouse
click. To enable Extended Hint mode, press the ; key, followed by
a special key to set the type of action you want to perform, and finally
type the number associated with a particular hint. Here is an abridged
list of some hint modes you might want to use, but for the full list, 
check the Vimperator help page. Keep in mind that you will press the ;
key before any of these keys:
</p><div class="itemizedlist"><ul type="disc"><li><p>
; &mdash; pressing two ; keys in a row will focus a link and hover over it
with a mouse; this is useful for activating JavaScript drop-down menus.
</p></li><li><p>
s &mdash; save the destination of a link.
</p></li><li><p>
f &mdash; focus a particular frame.
</p></li><li><p>
y &mdash; yank the destination location for a link.
</p></li><li><p>
Y &mdash; yank the text description of a link.
</p></li></ul></div><p>
Believe me, I've barely scratched the surface of Vimperator here. It really
reminds me of vim in the sense that I always feel like I'm using only 10%
of the available features. As with vim though, Vimperator rewards you
while you progress through its learning curve. I use Vimperator on all of
my Firefox sessions, and it seems weird (and slow) to me now to browse
Web sites with a mouse.
</p></div></div>
<div class="authorblurb"><p>
Kyle Rankin is a Systems Architect in the San Francisco Bay Area and the
author of a number of books, including <span   class="emphasis"><em>The Official Ubuntu Server
Book</em></span>,
<span   class="emphasis"><em>Knoppix Hacks</em></span> and <span   class="emphasis"><em>Ubuntu Hacks</em></span>.
He is currently the president of the North
Bay Linux Users' Group.

</p></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../189/toc189.html">Issue Table of Contents</a>
    <a class="link3" href="../189/10636.html">Article</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>