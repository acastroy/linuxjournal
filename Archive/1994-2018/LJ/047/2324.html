<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>CDE Infrastructure</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;    The programming infrastructure, not the productivity tools, forms the&#10;    major&#10;    strength of the Common Desktop Environment. This article discusses the&#10;    APIs&#10;    and desktop services that benefit developers and independent&#10;    software vendors.&#10;    "><meta name="keywords" content="infrastructure, CDE, desktop"><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0x12f4580.0x13ebab0"></a>CDE Infrastructure</h1></div><div><div class="author"><h3 class="author">George Kraft IV</h3></div><div class="issuemoyr">Issue #47, March 1998</div></div><div><p>
    The programming infrastructure, not the productivity tools, forms the
    major
    strength of the Common Desktop Environment. This article discusses the
    APIs
    and desktop services that benefit developers and independent
    software vendors.
    </p></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x12f4580.0x13ec4a8"></a></h2></div></div><p>When Project Athena at Massachusetts
Institute of Technology (MIT) introduced the X Window System (X),
they established the mechanism for their distributive &ldquo;open&rdquo;
windowing protocol. Yet they intentionally left out the policy for
others to develop. Later, based on technology from Hewlett-Packard
(HP) and Digital Equipment Corporation, the Open Software
Foundation (OSF) developed the policies of the Motif Graphical User
Interface (GUI) for X. The Motif style guide established strict
guidelines for its &ldquo;human-centric&rdquo; windowing behavior; however,
the Unix desktop was still left without services such as data
typing, object methods, plug and play and hypertext help.
</p><p>The Unix System Laboratory licensed the Destiny Desktop with
System V.4, HP developed HP Vue for HP-UX and IBM shipped IXI's
X.desktop for AIX. Although these desktops provided services not
offered in X and Motif GUI, they caused a divergence in the open
systems market. The cost of integration and the need to remain
portable kept many developers from migrating to these
desktops.</p><p>CDE for Linux is offered by three major Linux distributions:
Red Hat (<span   class="emphasis"><em>Red Hat CDE</em></span>, Don Kuenz,
<i  >LJ</i> January 1997), Xi Graphics
(<span   class="emphasis"><em>AcceleratedX CDE and Display Server for PC
Unix</em></span>, Bradley Willson, <i  >LJ</i> November
1997) and Caldera.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x12f4580.0x13ec7c0"></a>The Common Desktop Environment</h2></div></div><p>The Common Desktop Environment (CDE) was the result of a
collaboration between HP, IBM, Sun and Novell to establish a
unified open system desktop. They took the &ldquo;best of breed&rdquo;
technology from their existing environments, then designed,
implemented and delivered a new level of Unix desktop services on
which developers could rely.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x12f4580.0x13ec8c8"></a>CDE Programming Infrastructure</h2></div></div><p>CDE's Application Programming Interfaces (APIs) go beyond the
basic Motif GUI. CDE provides data-typing, object methods,
printing, drag and-drop, additional widgets, plug-and-play
messaging and a hypertext help system. This new set of system
services at the desktop level is guaranteed for all CDE-compliant
systems. Developers can now more easily produce consistent
applications and reduce the number of developer-specific core
solutions.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x12f4580.0x13ec9d0"></a>Motif GUI</h2></div></div><p>Motif won the open-system GUI wars; however, vendors have
serviced and enhanced various releases of Motif. Although Motif
became the GUI standard, portability became risky if any of the
vendors' embellishments were used. Fortunately, the creators of CDE
helped eliminate those problems by merging their Motif source bases
to re-establish a stock GUI.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x12f4580.0x13ecad8"></a>Desktop Services</h2></div></div><p>CDE goes beyond the GUI to provide desktop-wide objects and
methods for applications to use and call upon. Applications no
longer need to depend on old and limited databases like the
mime-types and mailcap that are used by applications such as
mailers and web browsers.</p><p><a href="2324l1.html" target="_self">Listing 1</a> shows a message
dialogue program that initializes itself with the desktop and loads
the desktop's data-type and method database. Then, it simply
creates a message dialogue and prompts the user. When you select
the E-mail button, the application calls the desktop's
<span   class="bold"><b>Compose</b></span> method on the file object.
The desktop spawns the mailer with the file object, where it is
eventually displayed and ready to be addressed.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x12f4580.0x13ecce8"></a>Drag-and-Drop</h2></div></div><p>The desktop provides a convenient and consistent
drag-and-drop API for interpreting data transfer across the
desktop. Text, file names and buffers can be transferred from the
dragged icon to the drop zone. The type of data being dragged
determines the drag icon's appearance and configuration. Since
Motif can distinguish the different types of data, applications
have a more robust drag-and-drop behavior.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x12f4580.0x13ecdf0"></a>Desktop GUI</h2></div></div><p>The desktop's DtWidget library helps bridge the current gap
between CDEs in the current Motif and Motif 2.0. Developers do not
need to wait for Motif 2.0 because the spin box, menu button and
editor widgets are in CDE. As always, to maintain binary
compatibility, developers should take special care to use
<span   class="bold"><b>XmResolvePartOffset</b></span> when
subclassing from one widget to make another; otherwise, an updated
shared library could cause unpredictable results.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x12f4580.0x13ecf50"></a>Help</h2></div></div><p>CDE provides standard help APIs and GUI dialogues, but it
also delivers a feature-rich SGML DTD (document type definition)
compared with the more limited HTML DTD used on the World Wide Web.
CDE's help links support hypertext, definition, man page, execution
and application-define links. CDE documents are pre-processed for
quicker loading. Since these binary- formatted documents are not
human-readable, one of their added benefits is that they cannot be
reverse engineered when copied, thus preventing copyright
infringements. Publishers who provide documents in HTML format are
at a disadvantage because complete unabridged duplicates can be
made from most browsers.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x12f4580.0x13ed058"></a>ToolTalk Plug-and-Play</h2></div></div><p>CDE's ToolTalk is a message brokering system that enables
applications to communicate with each other without having direct
knowledge of one another. Application clients and servers can be
developed independently, mixed and matched and upgraded
independently through plug-and-play. Applications registered to
handle message requests act as servers for applications that
broadcast their requests. Message brokering is an evolutionary step
beyond file sharing, peer-to-peer and ICCCM inter-client
communication.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x12f4580.0x13ed160"></a>Graphical Korn Shell</h2></div></div><p>The Graphical Desktop Korn Shell provides much of the
desktop's Motif GUI, services, help, workspace management, session
management and ToolTalk plug-and-play. Developers can prototype and
deploy with the standard ksh93 scripting language. This means that
small to moderate-sized programs can be written, then interpreted
on any CDE-compliant system without any additional work.</p><p>The <span   class="bold"><b>dtksh</b></span> shell script in
<a href="2324l2.html" target="_self">Listing 2</a> is a conversion of the C
program that was illustrated earlier. Unlike the popular Tcl/Tk
shell and GUI, dtksh has a nearly one-to-one migration path to
native Motif for performance. With dtksh, code can be easily
migrated, and developers find that their knowledge transfers easily
between C and dtksh.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x12f4580.0x13ed370"></a>The Desktop's Infrastructure</h2></div></div><p>CDE not only provides a new set of Motif, Drag-and-Drop,
Desktop Widget, Help, ToolTalk and DtKsh APIs, but it also provides
system services in which applications can participate and follow.
The desktop services provide the login manager, session manager,
color server, workspace manager and ToolTalk server. It is tempting
to provide these features in large software suites; however, if
developers try to mimic these desktop services, precious
development time and energy is taken away from creating the actual
products.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x12f4580.0x13ed478"></a>Login Manager</h2></div></div><p>The desktop login manager provides the basic X display
manager protocol (XDMCP) to manage login sessions for X terminals
on the network and workstations on the desktop. The login manager
starts up the X server on the bitmap display; it also initiates the
session manager.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x12f4580.0x13ed580"></a>Session Manager</h2></div></div><p>The session manager uses a set of conventions and protocols
that enable the desktop to save and restore a user's session from
one login session to the next. Using the session manager, users can
also configure a set of <span   class="bold"><b>sessionetc</b></span>
and <span   class="bold"><b>sessionexit</b></span> scripts to be
called when logging in and exiting respectively. This enables
user-defined tasks to be performed at login and logout.</p><p>The key responsibility of the application is to acknowledge
the WM_SAVE_YOURSELF message when the desktop is being shut down by
the user, as shown in <a href="2324l3.html" target="_self">Listing 3</a>.
The WM_SAVE_YOURSELF saveProc routine tidies up for the
application, then sets the WM_COMMAND property to be saved and
reused later by the session manager to restart the terminated
applications.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x12f4580.0x13ed7e8"></a>Color Server</h2></div></div><p>The session manager acts as the color server that controls
foreground and shadow colors, limits color use and restricts the
creation of colors in the color map. Using applications that
conform to the color server reduces the depletion of the color map
and coordinates the color scheme of the desktop. If the color map
does become depleted, an &ldquo;unsocial&rdquo; application is usually
lurking somewhere.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x12f4580.0x13ed8f0"></a>Workspace Manager</h2></div></div><p>The desktop window manager (dtwm) serves as the default
window manager for the desktop and extends the capabilities of the
Motif window manager. It provides a control panel for the desktop
to launch applications. Its multiple screens, or workspaces, allow
users to switch between screens.</p><p>Desktops are often considered mutually exclusive end-point
solutions, such as web browsers or collaborative software suites.
However, CDE views them as application groups or workspaces being
managed and serviced by the desktop infrastructure. The desktop
window manager is ideal for managing workspaces for Internet suites
and collaborative tools.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x12f4580.0x13eda50"></a>ToolTalk Server</h2></div></div><p>The ToolTalk server can be relied upon to broker client and
server messages for inter-client plug-and-play. The common object
request broker architecture (CORBA) movement has a great deal of
strength behind it. But ToolTalk is lightweight, does the job and
forms an integral part of CDE, which is deployed across a gamut of
Unix platforms. ToolTalk takes message-handling registrations from
method servers, then holds that information until client
applications broadcast for those registered services. Platform
gateways are not needed because ToolTalk interoperates between
heterogeneous systems.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x12f4580.0x13edb58"></a>Go For It</h2></div></div><p>There is much more to CDE than meets the eye. Application and
workspace developers alike have a rich feature-filled
infrastructure upon which to build. Just like in the past, we still
rely on the tried and true X and Motif; however, now we can count
on the Common Desktop Environment for its development libraries and
desktop management infrastructure.</p><p>If you are getting ready to write a new application or just
thinking about sprucing up something that you have been working on,
consider how your application can become more feature rich and
desktop friendly with less code.</p><p>For a list of CDE reference materials, visit IBM's CDE web
page at
http://www.rs6000.ibm.com/software/OS/CDE/further.html.</p></div></div>
<div class="authorblurb"><p>
        <div       class="mediaobject"><img src="2324aa.jpg"></div>

        George Kraft is an Advisory Software Engineer for
      IBM's Network Computer Division. He has previously worked on CDE
      V2.1 and V1.0 for IBM's RS/6000 Division. He initially started
      working with the X Window System for the Purdue University
      Computing Center back in 1987. He has a BS in Computer Science and
      Mathematics from Purdue University. He can be reached via e-mail at
      gk4@cactus.com.</p></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../047/toc047.html">Issue Table of Contents</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>