<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Hack and /</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;Still arranging windows by hand? Learn how to take advantage of&#10;Compiz's window memory, so it can do the work for you.&#10;"><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0x1d24580.0x1e1bac0"></a>Hack and /</h1></div><div><h3 class="subtitle"><i>
Memories of the Way Windows Were
</i></h3></div><div><div class="author"><h3 class="author">
Kyle
 
Rankin
</h3></div><div class="issuemoyr">Issue #175, November 2008</div></div><div><p>
Still arranging windows by hand? Learn how to take advantage of
Compiz's window memory, so it can do the work for you.
</p></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1d24580.0x1e1c3b0"></a></h2></div></div><p>
I'm a half-organized person. On one hand, if something of mine has a
place, I can be pretty anal about making sure I put it back every
time I use it. On the other hand, if something doesn't have a place,
it inevitably ends up in a pile or a junk drawer. I've learned that
if I want to be organized, I must give everything a home.
</p><p>
The same rule applies to my desktop environment. Back when I used to use
Windows, I didn't have much of a choice&mdash;everything ended up stacking up
on the same desktop, either maximized or at some arbitrary size. Once
I started using Linux though, I discovered this interesting multiple
desktop model. With Linux, I could assign windows into certain groups
and then arrange each group on a particular desktop. The main downside to
this much organization was that every time I opened a window,
I usually needed to resize it and move it to a particular desktop. That's
a lot of manual work on my part, and it wasn't long before I discovered
that certain window managers supported window memory. With window memory,
every window I use on a regular basis can be assigned a location,
a size and a desktop.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1d24580.0x1e1c618"></a>
My History with Window Memory</h2></div></div><p>
My first exposure to window memory was with the Enlightenment window
manager. Its window memory was quite easy to use and to set. All you had
to do was right-click on a window, and you could check off attributes
that Enlightenment would remember the next time you opened the
window. In addition to having certain sets of terminals and Web browser
windows open on certain desktops, I also was able to have windows always
stay on top or stick across all desktops. Although it did require a little
setup, by the time I was finished arranging my windows once, everything
I used on a regular basis had its place on my desktops.
</p><p>
I stayed with Enlightenment for quite some time, even though I was
eyeing this new window manager called Fluxbox as a potential replacement. It
wasn't until Fluxbox added window memory, however, that I made the
switch. Fluxbox's window memory worked a lot like
Enlightenment's&mdash;right-click on a title bar and toggle the attributes
you want to remember. As
with Enlightenment, these attributes were assigned based on the window
title, so if you had two windows with the same title (say, xterm, with no
extra arguments), they both would take those same settings.
</p><p>
I used both Enlightenment and Fluxbox for years, but I kept eyeing the
GNOME and KDE desktops all the cool kids were using. For me, window
memory was the crucial requirement though, and it wasn't until I made
the switch to using Ubuntu that I decided to give one of the
&ldquo;standard&rdquo;
desktop environments a fair shake. Out of the box, it didn't seem like
Compiz had any window memory, and this was a major strike against it
in my book. However, almost a year later, I still am using Compiz, and I
have to credit the advanced window memory that I discovered buried in
advanced Compiz settings for keeping me here.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1d24580.0x1e1c828"></a>
CompizConfig Settings Manager</h2></div></div><p>
By default, at least in Ubuntu, there are only so many settings you can
tweak in Compiz. Compiz provides a tool, however, called CompizConfig
Settings Manager (or ccsm) that gives you very detailed control over
many different aspects of both Compiz eye-candy effects as well as a
lot of the important settings for the window manager itself. The major
downside to ccsm, however, is that there are almost too many options&mdash;if
you don't know exactly what you are looking for, expect to spend some
time digging through different categories. Even window memory settings
are split between two different categories.
</p><p>
Ubuntu didn't install ccsm automatically for me, but I was able to
install it with a quick trip to the package manager, and it should
be packaged for other distributions that include Compiz. Once it is
installed, you either can type <tt  >ccsm</tt> in a terminal
window or click
System&rarr;Administration&rarr;Advanced Desktop Effects Settings. As I mentioned,
the default window can be a little daunting (Figure 1) and is split into
a narrow left pane that displays the categories and a larger right
pane that shows all the particular settings you can configure for
the category.
</p><div       class="mediaobject"><a href="10213f1.large.jpg"><img src="10213f1.jpg"></a><div class="caption"><p>
Figure 1. Default CCSM Window
</p></div></div><p>
Everything you need to configure window memory in ccsm can be found in
the Window Management category, and once you click on that category in
the left pane, you drill down into a much more manageable set of options
(Figure 2). For some reason, ccsm splits window memory into two different
sets of options, Window Rules and Place Windows. The Window Rules options
allow you to configure window attributes like stickiness and geometry,
and the Place Windows options let you control the viewport and location
where the window is placed.
</p><div       class="mediaobject"><a href="10213f2.large.jpg"><img src="10213f2.jpg"></a><div class="caption"><p>
Figure 2. Window Management Configuration Options
</p></div></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1d24580.0x1e1ce00"></a>
Window Rules</h2></div></div><p>
Once you click the Window Rules icon, you will see the first set of
window attributes Compiz can remember, split into tabs for Matches and
Size Rules. Matches (Figure 3) contains standard window attributes,
such as Above, Below, Sticky and Fullscreen, that you could 
set on a window manually, as well as many options you can't, such as non-movable,
non-resizable, non-maximizable and no focus. To assign one of these
attributes to a window, you need to add some sort of identifier in the field next
to the attribute.
</p><div       class="mediaobject"><a href="10213f3.large.jpg"><img src="10213f3.jpg"></a><div class="caption"><p>
Figure 3. Window Matching Rules
</p></div></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1d24580.0x1e1d0c0"></a>
Compiz Window Identifiers</h2></div></div><p>
Compiz can match windows based on a number of different attributes
documented at <a href="http://wiki.compiz-fusion.org/WindowMatching" target="_self">wiki.compiz-fusion.org/WindowMatching</a>, such as window
type, role, class, title, xid and state&mdash;all of which you can find out
about
with the xprop command-line utility. Simply run xprop, and then click on
the particular window for which you want information. Even though there are lots
of possible attributes to match, probably the easiest attribute to use is the
window title. To figure out a window's title, either view its title bar,
or alternatively, run:

<pre     class="programlisting">
xprop WM_NAME | cut -d\" -f2
</pre>
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1d24580.0x1e1d278"></a></h2></div></div><p>
and then click
on the window of interest. Compiz doesn't necessarily need the full title
of the window, just some identifying information. So for instance, if you
want Mozilla Firefox to be sticky, you could add <tt  >title=Mozilla
Firefox</tt>
to the Sticky option, or you simply could add
<tt  >title=Firefox</tt>. 
</p><p>
You also
can add multiple window attributes to each of these fields and separate them
with a | for &ldquo;or&rdquo; or &amp; for &ldquo;and&rdquo;. So if I wanted both xterms and aterms
to be sticky, I would add the following to the sticky field: 

<pre     class="programlisting">
title=xterm | title=aterm
</pre>
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1d24580.0x1e1d590"></a></h2></div></div><p>
Note that I use the or operator. If I had used the and
operator, only windows with both xterm and aterm in their
titles would be sticky. 
</p><p>
You even can use basic regular expressions to match
windows (so ^ and $ would match the beginning and the end of a string,
respectively), along with more advanced nested expressions. All of these
more advanced options are documented on the Compiz Wiki page mentioned above.
</p><p>
The second tab in the Windows Rules window is labeled Size Rules and
allows you to force windows to a particular geometry (Figure 4). The
configuration is pretty straightforward. Click New to add a new size
rule, input the attribute to match your particular window (in
Figure 4, I match only on title), and then add the width and height in pixels
for that window. Once you finish your changes, click the Back
button at the bottom of the left pane to return to the main ccsm screen.
</p><div       class="mediaobject"><a href="10213f4.large.jpg"><img src="10213f4.jpg"></a><div class="caption"><p>
Figure 4. Window Size Rules
</p></div></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x1d24580.0x1e1d900"></a>
Place Windows</h2></div></div><p>
The CompizConfig Settings Manager makes a logical distinction between window
geometry and settings and actual window placement. Click Place Windows
from the main ccsm screen, and you will see two different options on the
right pane (Figure 5): &ldquo;Windows with fixed positions&rdquo; and
&ldquo;Windows with
fixed viewport&rdquo;. In &ldquo;Windows with fixed positions&rdquo;, you can configure
the exact X and Y coordinates to use for a particular window. Use the
same window-matching statements (such as, title=) for these options. I
noticed this typically requires a little trial and error unless I'm placing
a window exactly in the left-hand corner.
</p><p>
You also can configure a window to appear only in a particular
viewport. Again, you can match on window attributes and then specify the
X and Y viewport positions to use. In my case, I have a desktop that is
five viewports wide and only one viewport high, so my Y viewport setting was
always set to 0, and I could choose between 0&ndash;4 for my X viewport.
</p><div       class="mediaobject"><a href="10213f5.large.jpg"><img src="10213f5.jpg"></a><div class="caption"><p>
Figure 5. Window Placement Configuration Window
</p></div></div><p>
Now that I have all of these window management options, how do I use
them? Well, I always have liked my first desktop to be for normal
terminals,
so I have my default terminals always open there at a particular size. I
also have a different terminal I use exclusively for IRC. I want that to
be available on all desktops, so I set that to sticky and also move it to a
particular position on the desktop. I like my second desktop to be for Web
applications, such as Firefox, so I configure them for that viewport. I also
like to segregate terminals, browsers and IM clients I use exclusively
for work, so I have all of those open automatically on a special desktop.
</p><p>
Other options you could consider might be to move GIMP and all of
its windows to a special desktop. I also run a number of scripts
in the background that do things such as sync my e-mail to a local
directory. These scripts actually open their own small terminal in the
background, so I move them to a desktop specifically created for them and also
have them configured to not steal focus. I find I naturally end up
assigning window memory for windows once I get tired of positioning them
every time. The time it saves me in the long run makes up for the initial
configuration, and it also saves me from always Alt-tabbing through
the junk drawer that is the default user desktop. Most important,
it helps keep this Linux user organized&mdash;at least half the time.
</p></div></div>
<div class="authorblurb"><p>
Kyle Rankin is a Senior Systems Administrator in the San Francisco Bay
Area
and the author of a number of books, including <span   class="emphasis"><em>Knoppix
Hacks</em></span> and <span   class="emphasis"><em>Ubuntu
Hacks</em></span> for O'Reilly Media. He is currently the president of
the
North Bay
Linux Users' Group.

</p></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../175/toc175.html">Issue Table of Contents</a>
    <a class="link3" href="../175/10213.html">Article</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>