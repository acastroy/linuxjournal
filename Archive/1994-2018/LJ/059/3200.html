<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Linux and the Euro Currency: Toward a Global Solution</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;    Mr. Aznar talks about problems and solutions to adding the euro symbol&#10;    to the keyboard.&#10;    "><meta name="keywords" content="internationalization"><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0xd3c580.0xe33ab0"></a>Linux and the Euro Currency: Toward a Global Solution</h1></div><div><div class="author"><h3 class="author">Guylhem Aznar</h3></div><div class="issuemoyr">Issue #59, March 1999</div></div><div><p>
    Mr. Aznar talks about problems and solutions to adding the euro symbol
    to the keyboard.
    </p></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0xd3c580.0xe343f8"></a></h2></div></div><p>Starting in 1999, each European be using
this new currency in his everyday life. Even if cash is not yet
available, most prices, wages, invoices, etc. will be labelled in
euro as well as in national currencies.
</p><p><a href="3200f1.jpg" target="_self"><span   class="bold"><b>Figure 1. The
Euro symbol</b></span></a></p><p>In 2002, each local currency except for the British pound
(&pound;), Danish kr&oslash;ner (kr), Swedish Kroner and Greek
drachma will be replaced by the Euro. This is a major move for a
real European union, which will create a market of 300 million
people, from Finland to Portugal and Ireland to Greece.</p><p><a href="3200f2.jpg" target="_self"><span   class="bold"><b>Figure 2.
Various currency symbols</b></span></a></p><p>Euro and year 2000 support are currently the biggest problems
for computer scientists. On UNIX systems where a kind of Y2K bug
will not occur until 2038, the euro is the major problem. On
Windows machines, Y2K is the major problem since Microsoft has
already integrated support for the Euro in Windows 98 and NT. A new
proprietary norm was created, called cp1252, which makes these
systems the first to properly support the Euro.</p><p><a href="3200f3.jpg" target="_self"><span   class="bold"><b>Figure 3. Key
table with the Euro symbol</b></span></a></p><p>The transition from local currencies to the euro also implies
mathematical conversions in financial programs: one euro equals
6.55957 French francs, for example. One euro is approximately one
dollar U.S. The European Community created a &ldquo;Euro Workshop&rdquo; and
&ldquo;Euro Project Team&rdquo; to find any possible solution for all types
of platforms, even cellular phones. Most of the documents can be
found at http://www.stri.is/TC304/Euro/. I used some of their euro
symbol pictures to illustrate this article.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0xd3c580.0xe34920"></a>Problem</h2></div></div><p>UNICODE was a good candidate for supporting national
characters, but X Window System font management would have made it
a pain to implement. For example, see plan9 difficulties at
http://www.gh.cs.usyd.edu.au/~matty/9term/. Moreover, the numeral
console-mode applications could not take advantage of UNICODE: even
today, video-card memory is too tight to hold this wide range of
characters. Clearly, a solution was needed for UNIX and other 8-bit
systems.</p><p>A possible solution was creating yet another encoding format
for 8-bit systems, which even today do not support the whole range
of national characters. For example, it is impossible to create an
&ldquo;oe ligature&rdquo; or an &ldquo;s caron&rdquo; in iso-8859-1, even though they
are widely used in several European languages:</p><div class="itemizedlist"><ul type="disc"><li><p>&ldquo;oe ligature&rdquo;: the French words boeuf, coeur,
oeil, the German poet Goethe</p></li><li><p>&ldquo;s caron&rdquo;:
<div       class="mediaobject"><img src="3200f6.jpg"></div>
koda cars</p></li></ul></div><p>I can hardly imagine a computer where not all 26 alphabetic
letters were available, or where u had to be used in place of v
because it had not been implemented in its character set. Yet many
non-English speaking people face this problem each day when using
keyboards without characters such as the &ldquo;oe ligature&rdquo; (
<div       class="mediaobject"><img src="3200f5.jpg"></div>
) or &ldquo;s caron&rdquo; (
<div       class="mediaobject"><img src="3200f6.jpg"></div>
).
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0xd3c580.0xe34fa8"></a>A New Encoding</h2></div></div><p>Taking advantage of this situation and lack of the euro
symbol in iso-8859-1 latin1 (ISO 8859-1 latin1 is the UNIX encoding
format, i.e., a correspondence between letters and codes, also used
for email encoding), a new encoding format project was started,
which would support:</p><div class="itemizedlist"><ul type="disc"><li><p>the euro</p></li><li><p>&ldquo;oe ligature&rdquo; in both upper case and lower
case</p></li><li><p>&ldquo;s and z caron&rdquo; in both upper case and lower
case</p></li><li><p>&ldquo;y diaeresis&rdquo; in upper case only since (&yuml;)
already exists in latin1</p></li></ul></div><p>To avoid breaking compatibility with the widely used
iso-8859-1 latin1, it was decided that this new encoding would be
based on it. However, there was still a big problem&mdash;each of the
255 possible characters existing in an 8-bit encoding had already
been assigned in iso-8859-1. Therefore, it was decided that less
frequently used characters should be removed to allow integration
of the missing ones. In addition, the following changes were made:
<div class="itemizedlist"><ul type="disc"><li><p>The euro replaced the &ldquo;international currency
sign&rdquo; (&curren;): the symbol the former Soviet Union had wanted to
replace the dollar sign in 7-bit ASCII encoding format.</p></li><li><p>&ldquo;oe&rdquo; and &ldquo;oe ligature&rdquo; replaced the one-half
fraction mark (&frac12;) and one-quarter fraction mark (&frac14;),
respectively.</p></li><li><p>&ldquo;s caron&rdquo; and &ldquo;S caron&rdquo; replaced &ldquo;broken bar&rdquo;
(&brvbar;) and &ldquo;floating diaeresis&rdquo; (&uml;), respectively.</p></li><li><p>&ldquo;z caron&rdquo; and &ldquo;Z caron&rdquo; replaced &ldquo;floating
acute&rdquo; (<b  >'</b>) and &ldquo;floating cedilla&rdquo; (&cedil;),
respectively.</p></li><li><p>&ldquo;Y diaeresis&rdquo; replaced &ldquo;three quarter&rdquo;
(&frac34;).</p></li></ul></div>

None of the replaced characters is printed or used in any national
keyboard except for the international currency sign (&curren;) in
French and Belgian ones: this would be a minor loss. Moreover,
floating accents only serve the need of &ldquo;compose&rdquo;: for example, a
circumflex accent (^) can be put onto an e to give &egrave;.
On French-Canadian keyboards, the cedilla (&cedil;) can be put onto
a c or a C to get a &ccedil; or a &Ccedil;.
</p><p>Since the cedilla (&cedil;) looks like a comma (,), the
diaeresis looks like a double quote (&ldquo;) and the acute looks like a
single quote ('), they could easily be replaced; compose tables
would need a minor update. For example, on French and Dutch
keyboards, the (&rdquo;) key is used to get
&auml;&euml;&iuml;&ouml;&uuml;&Auml;&Euml;&Iuml;&Ouml;&Uuml; but
not &ldquo;Y diaeresis&rdquo;, which is missing. One must simply press it,
release it (nothing happens) then press a vowel key to get a
&ldquo;vowel diaeresis&rdquo;.</p><p>If there is any other character but a vowel, (&ldquo;) shows up.
Here, adapting to the new encoding would simply mean replacing the
latter case by a (&rdquo;) and adding composing possibilities for (sSzZ).
This new encoding is called iso-8859-15 latin9 (nicknamed latin9)
to show it is 97% compatible with iso-8859-1 latin1. By the time
this article is published, it should already have been approved by
ISO.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0xd3c580.0xe358f0"></a>Implementing iso-8859-15 latin9</h2></div></div><p></p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0xd3c580.0xe359f8"></a>Linux Console</h2></div></div><p>Implementation for the Linux console was quite simple. I
asked Ricardas Cepas (rch@pub.osf.lt) which tool he implemented his
fonts with. He provided me with a custom version of the
<span   class="bold"><b>chedit</b></span> font editor for
linux-console. I simply took latin1 fonts and replaced the old
unused characters by latin9 new characters, for each latin1 font
size (from 16x16 to 08x08), but then I was able to display only
iso-8859-15 latin9 characters.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0xd3c580.0xe35b58"></a>Keyboard</h2></div></div><p>Among the recommendations of the European Commission is
&ldquo;<b  >AltGr-e</b> should be used to get the euro
symbol&rdquo;. (The <b  >Alt</b> key to the right of the
keyboard must be remapped to <b  >AltGr</b>.)
<b  >AltGr</b> is used as a modifier like
<b  >Shift</b> on German keyboards, @ can be obtained
with <b  >AltGr-q</b>, on French keyboards # is
<b  >AltGr-3</b>, etc. <b  >AltGr</b> is used
in the Linux version of many European keyboards to output 8-bit
characters, as a remembrance of things past: there was a time when
making dead keys work was impossible. On French and Dutch
keyboards, (&ldquo;) and (^) are such dead keys: they act like compose
plus this key on the following character. Since many words use (^)
or (&rdquo;) (&egrave;tre, aig&uuml;...), <b  >AltGr-v</b>,
where v is the appropriate vowel, and
<b  >Shift-AltGr</b> vowel were used to get,
respectively, vowel-circumflex and vowel-diaeresis. Nowadays, dead
keys work with most of the programs except for Netscape or
Applixware so these shortcuts are still very much
appreciated.</p><p>If <b  >AltGr-e</b> already outputs &egrave;, where
could the euro be placed?</p><p>This hard problem is yet to be solved by any keyboard
maintainer; for the French one I am in charge of, I decided to
rearrange the &ldquo;dollar&rdquo; ($)/ &ldquo;British pound&rdquo; (&pound;)/
&ldquo;international currency symbol&rdquo; (&curren;) keys. Since none of
these symbols is an official French money, I changed it to
&ldquo;euro&rdquo;/&ldquo;eurocent&rdquo;/&ldquo;dollar&rdquo;/&ldquo;British pound&rdquo; respectively
normal, <b  >Shift</b>, <b  >AltGr</b> and
<b  >AltGr-Shift</b> state. However, French keyboard
official standard will use <b  >AltGr&gt;-e</b> for euro,
so I had to change back this key, remove unavailable international
currency symbol and find a new home for &ldquo;e circumflex&rdquo;, which was
in <b  >AltGr-e</b> under Linux. I decided to put
dollar/British pound/eurocent/e circumflex on this key, only
&curren; and &ecirc; had to be moved. This was the best possible
solution I could imagine, but I am still looking for another
solution to ease euro accessibility and keep 8-bit characters
shortcuts.</p><p>I also added the other latin9 characters, in
<b  >AltGr-Shift</b> state for the unused ones which can
also be obtained by ^-sSzZ or &ldquo;-Y, and in unshifted plus
shifted state for the very common
<div       class="mediaobject"><img src="3200f5.jpg"></div>
 ligature in French.</p><p><a href="3200f4.jpg" target="_self"><span   class="bold"><b>Figure 4.
French Keys</b></span></a></p><p>On the screenshot, you can see a representation of the French
keyboard with all shortcuts shown: &ldquo;MAJ&rdquo; means &ldquo;Caps Lock&rdquo;,
&ldquo;Ferme&rdquo; means &ldquo;Close&rdquo;, &ldquo;Arr&egrave;t d&eacute;fil&rdquo; means
&ldquo;Scroll Lock&rdquo; and &ldquo;Con&rdquo; keys are the extended PC 105 keys (also
called &ldquo;Windows key&rdquo;) mapped to previous console, next console
and last console. This ASCII art is included in fr-latin9.map key
map to remind users where all the Linux-specific shortcuts
are.</p><p>Now, with a font and a key table, it was getting more
interesting. I started a beta-release program to get feedback,
which was mostly positive. The only drawback was &ecirc;; some
people wanted it to stay where it was so I showed them how to edit
the key table to do this.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0xd3c580.0xe2ce90"></a>X Window System</h2></div></div><p>X fonts are not covered by GPL, while the rest of the package
was going to be released under GPL. Since I could not find any
iso-8859-1 latin1 X font with a GPL, I had to use an XFree
copyrighted basis. With Mark Leisher's
<span   class="bold"><b>xmbdfed</b></span> (mleisher@crl.nmsu.edu), I
could very easily change some fonts. X window fonts are
<span   class="emphasis"><em>not</em></span> scalable; you have to choose Adobe or
True-Type fonts (with <span   class="bold"><b>xfdtt</b></span> for
the latter). Also, I didn't feel like editing all the fonts
included with X. No real solution exists at present, except
switching XFree to True-Type fonts, which would be a good idea
since True-Type fonts are scalable, of good quality, many are
released under GPL, BSD or public domain licenses and they already
support the whole range of latin1 <span   class="emphasis"><em>plus</em></span> latin9
thanks to the cp1252 proprietary format.</p><p><a href="3200s1.html" target="_self">Resources</a></p></div></div>
<div class="authorblurb"><p>
        <div       class="mediaobject"><img src="3200aa.jpg"></div>

      <span   class="bold"><b>Guylhem Aznar</b></span>
      is studying medicine at Purpan
      University Hospital in Toulouse, France. He enjoys swimming,
      playing chess and listening to music when not writing Linux HOWTOs.
      He can be reached via e-mail at
      guylhem@barberouge.linux.lmm.com.</p></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../059/toc059.html">Issue Table of Contents</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>