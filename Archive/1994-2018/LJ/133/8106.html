<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Best of Tech Support</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0x21e9580.0x22e0ab0"></a>Best of Tech Support</h1></div><div><div class="author"><h3 class="author">Various </h3></div><div class="issuemoyr">Issue #133, May 2005</div></div></div><div class="qandaset"><a name="N0x21e9580.0x22e1190"></a><h4 class="title"><a name="N0x21e9580.0x22e1190"></a>
Paid for 20GB, Getting 2</h4><p>
I'm trying to set up Linux on a slightly older
machine that has a 20GB hard drive. I'm trying to
install Fedora on it, but the installation program
and Disk Druid recognize it only as a 2GB drive. The
same is true of QTParted running off of a boot CD
containing Mepis Linux. A Microsoft Windows XP install
CD recognizes the size of the CD just fine. Both Linux
programs have a problem with the drive whether it is
unpartitioned or has an NTFS partition on it. I can't
put any Linux partition on it larger than 2GB. Any
idea what the problem is?

<br><br>&mdash;<br> Aaron Roberts  <br><br><br><a href="mailto:Alr8@georgetown.edu">Alr8@georgetown.edu</a>
</p><p>
It's important to back up any data you want to keep
from this drive, even from non-Linux partitions,
before you try any of the suggestions here. Changing
partition tables can be hazardous to your data.
You can get some background on this problem from the
Large Disk HOWTO by Andries Brouwer, at
<a href="http://www.tldp.org/HOWTO/Large-Disk-HOWTO.html" target="_self">www.tldp.org/HOWTO/Large-Disk-HOWTO.html</a>.
</p><p>
First of all, if the drive is original equipment
for the machine, try resetting the BIOS to factory
defaults.

<br><br>&mdash;<br> Don Marti  <br><br><br><a href="mailto:info@linuxjournal.com">info@linuxjournal.com</a>
</p><p>
Did you partition the drive with some proprietary
disk partitioner? If so, you may want to boot from a
bootable Linux CD and wipe the boot sector. If your
drive is /dev/hda, as it usually is, use this command:

<pre     class="programlisting">
dd if=/dev/zero of=/dev/hda bs=512 count=1
</pre>
</p><p>
Another thing to try is to upgrade the BIOS on that
machine.

<br><br>&mdash;<br> Christopher Wingert  <br><br><br><a href="mailto:cwingert@qualcomm.com">cwingert@qualcomm.com</a>
</p><p>
You can try to force the issue at boot time by
supplying a parameter such as:

<pre     class="programlisting">

hda=&lt;cyls&gt;,&lt;heads&gt;,&lt;sectors&gt;

</pre>
</p><p>
You usually can obtain these values by looking up
the drive's model number on the manufacturer's Web
site. Some BIOSes also have a variety of drive
reporting mechanisms, such as NORMAL, LBA and
LARGE. Try cycling between these and see what you get.

<br><br>&mdash;<br> Chad Robinson  <br><br><br><a href="mailto:chad@lucubration.com">chad@lucubration.com</a>
</p><a name="N0x21e9580.0x22e1ce8"></a><h4 class="title"><a name="N0x21e9580.0x22e1ce8"></a>
Making a Boot Floppy</h4><p>
I need information on how to create a floppy that
will allow me to load Linux from a CD-ROM. Can you
give me some information about doing this so I can
run two OSes (dual boot) on my small system?

<br><br>&mdash;<br> Everett E. Stone  <br><br><br><a href="mailto:103726.2236@compuserve.com">103726.2236@compuserve.com</a>
</p><p>
If its a newer machine, you can boot from CD-ROM. Try
the Knoppix distribution.

<br><br>&mdash;<br> Christopher Wingert  <br><br><br><a href="mailto:cwingert@qualcomm.com">cwingert@qualcomm.com</a>
</p><p>
It's not clear from your question whether your problem
is that your CD doesn't boot and you need a bootable
floppy to kick start the distribution or if you want
to insert or remove the floppy to control whether
the system runs from the CD.
</p><p>
If the former, look into Slackware, a popular and
well-maintained distribution that still supports
bootable floppy options for the load and emergency
recovery tools. Otherwise, consider a distribution
such as Knoppix, which allows you to run entirely
from the CD without loading Linux on your hard
drive. This is obviously a much slower option,
but it eliminates the need to partition your drive,
which is good for taking Linux for a test drive or
working from a computer that is not your own.

<br><br>&mdash;<br> Chad Robinson  <br><br><br><a href="mailto:chad@lucubration.com">chad@lucubration.com</a>
</p><p>
You don't need a boot floppy to set up a dual-boot
system. Most of the common distributions will
configure dual-boot for you in the installer. See <a href="http://www.linuxjournal.com/article/4619" target="_self">www.linuxjournal.com/article/4619</a>
to help you select a distribution.

<br><br>&mdash;<br> Don Marti  <br><br><br><a href="mailto:info@linuxjournal.com">info@linuxjournal.com</a>
</p><a name="N0x21e9580.0x22e2738"></a><h4 class="title"><a name="N0x21e9580.0x22e2738"></a>
Deleting Millions of Files</h4><p>
On my SuSE 9.1 system that is a server for more than
40 Windows machines, my directory /var/lib/dhcp/db
contains nearly 1.6 million files with names of the
form dhcpd.leases.AAgxyz and so on. If I try to remove
them with a single command, such as:

<pre     class="programlisting">
rm -f /var/lib/dhcp/db/dhcpd.leases.*
</pre>
</p><p>
The process fails with a <tt  >command buffer too long</tt> message. My workaround
has been to remove them piecewise, as follows:

<pre     class="programlisting">
for i in {a-z,A-Z}
do
  for j in {a-z,A-Z}
  do
    rm -f /var/lib/dhcp/db/dhcpd.leases.$i$j*
  done
done
</pre>
</p><p>
Is there a better way to get rid of such large numbers
of files?
Any idea why the DCHP d&aelig;mon is running away like
this?

<br><br>&mdash;<br> Larry W. Finger  <br><br><br><a href="mailto:Larry.Finger@lwfinger.net">Larry.Finger@lwfinger.net</a>
</p><p>
Determining why the DHCP d&aelig;mon is assigning so many leases would require
investigating its log files. It's possible that NAK messages are not making it
through, MAC addresses are being reassigned or other shenanigans are being
perpetrated by the clients.
</p><p>
However, there are certainly easier ways to remove the files en masse. If
your d&aelig;mon isn't running, you can simply remove and recreate the directory
itself, as in:

<pre     class="programlisting">
rm -f /var/lib/dhcp/db
mkdir /var/lib/dhcp/db
</pre>
</p><p>
Be sure you restore any permissions and ownership settings the directory
originally held. If this isn't to your taste, investigate the find(1)
command, which can execute commands on files matching the spec you
provide, such as:

<pre     class="programlisting">

find /var/lib/dhcp/db -exec rm {} \;

</pre>
</p><p>
Note that the semicolon is required&mdash;it tells find where the exec
command ends&mdash;but that most shells treat it as a special character. The
back slash prevents this.

<br><br>&mdash;<br> Chad Robinson  <br><br><br><a href="mailto:chad@lucubration.com">chad@lucubration.com</a>
</p><p>
You can also use the xargs command, which feeds an arbitrarily
long list of arguments to a command:

<pre     class="programlisting">
ls  /var/lib/dhcp/db/dhcpd.leases.* | xargs rm
</pre>
</p><p>
Another sometimes-useful technique is to build up
a list of commands and preview it with <tt  >ls</tt> to see if
you got them right:

<pre     class="programlisting">
ls | awk '{print "rm " $1}' | less
</pre>
</p><p>
Then, replace the <tt  >less</tt> with
<tt  >sh</tt> to do the commands:

<pre     class="programlisting">
ls | awk '{print "rm " $1}' | sh
</pre>

<br><br>&mdash;<br> Don Marti  <br><br><br><a href="mailto:info@linuxjournal.com">info@linuxjournal.com</a>
</p><a name="N0x21e9580.0x22d9d88"></a><h4 class="title"><a name="N0x21e9580.0x22d9d88"></a>
Server for Home Network?</h4><p>
I am new to Linux, and I would like to know if there
is Linux software that would let me set up a file
server for my home network that can be monitored and
maintained remotely.
I have six-plus computers on my local area network running
Windows, and I have a spare computer that I would like
to set up as a file server for the other computers
for storage of MP3s and data. I would like to have
this computer set up so that I can connect to it
from any of the other computers to do maintenance and
updates. I would like some kind of access control
for the computers that can access this file server.
Any suggestions or links to other sources regarding
this project would be a great help.

<br><br>&mdash;<br> Dan   <br><br><br><a href="mailto:dpinko@shaw.ca">dpinko@shaw.ca</a>
</p><p>
Try Samba; more than likely, it already is on your machine. SMB is the native
file-sharing protocol for Windows, so it is already there too.

<br><br>&mdash;<br> Christopher Wingert  <br><br><br><a href="mailto:cwingert@qualcomm.com">cwingert@qualcomm.com</a>
</p><p>
Any number of options can allow you to do this. Two good starting points
are Samba, a Windows-compatible file and printer sharing service, and
Webmin, a Web-based administration tool. Webmin includes modules for
configuring and administering Samba and provides its own Web server, so
you need not install Apache, unless you want to.
</p><p>
If you must do something Webmin doesn't support, you still can manage the
system via traditional command-line tools. Simply enable your distribution's
SSH services on the Linux box, and use an SSH terminal from one of the
clients to connect to it.

<br><br>&mdash;<br> Chad Robinson  <br><br><br><a href="mailto:chad@lucubration.com">chad@lucubration.com</a>
</p><p>
A good SSH client to install on the Microsoft systems is putty:
<a href="http://www.chiark.greenend.org.uk/~sgtatham/putty" target="_self">www.chiark.greenend.org.uk/~sgtatham/putty</a>.

<br><br>&mdash;<br> Don Marti  <br><br><br><a href="mailto:info@linuxjournal.com">info@linuxjournal.com</a>
</p><a name="N0x21e9580.0x22da728"></a><h4 class="title"><a name="N0x21e9580.0x22da728"></a>
make or gmake?</h4><p>
I installed Ubuntu on my laptop, which does a fairly
skinny install. It has make, but the project I
am working on needs gmake. I need to install gmake
and compile C++ code on a Linux box; I am compiling
nachose-4.02. I did a search in dselect and could
not find gmake. I went to the GNU site, and it does
not specify gmake, only make. Are they the same?

<br><br>&mdash;<br> Seamus Rhys  <br><br><br><a href="mailto:seamusrhys@msn.com">seamusrhys@msn.com</a>
</p><p>
Here is a page specifically about the gmake package for Ubuntu. Download
links are provided: <a href="http://higgs.djpig.de/ubuntu/www/hoary/devel/make" target="_self">higgs.djpig.de/ubuntu/www/hoary/devel/make</a>.


<br><br>&mdash;<br> Chad Robinson  <br><br><br><a href="mailto:chad@lucubration.com">chad@lucubration.com</a>
</p><p>
Yes, make and gmake are the same program on Linux
systems. For historical reasons, some projects
specify gmake so that they can be sure to use the
full-featured GNU version of make instead of an
earlier, limited implementation.
</p><p>
An easy way to add gmake to your system, so you don't
have to change the project or install software, is
simply to make a symlink in /usr/local/bin:

<pre     class="programlisting">

cd /usr/local/bin \
&amp;&amp; sudo ln -s ../../bin/make gmake

</pre>

<br><br>&mdash;<br> Don Marti  <br><br><br><a href="mailto:info@linuxjournal.com">info@linuxjournal.com</a>
</p><a name="N0x21e9580.0x22daf68"></a><h4 class="title"><a name="N0x21e9580.0x22daf68"></a>
Thumbprint Readers?</h4><p>
I was in a large discount store the other day, and I
saw a rack of thumbprint readers that tout things like
&ldquo;log on to your computer and Web sites with the touch
of a finger, just place your finger on the receiver
whenever a password or username is required.&rdquo; A device
like this would allow a user or a system administrator
to use very large complex passwords for system access.
</p><p>
My office uses Red Hat and another OS; I use
Debian. So far, I have not found a product or a
HOWTO that recommends a product for use on a Linux
machine. Is there a product you can recommend that
would work on a Linux system?

<br><br>&mdash;<br> Tony Freeman  <br><br><br><a href="mailto:tony.freeman@insightbb.com">tony.freeman@insightbb.com</a>
</p><p>
This is possible under Linux, but you may need to
roll your own solution using a variety of available
packages. As far as I know, no distribution
comes with support for this enabled out of the box yet,
and certainly the software included with the product
will be for Windows. To get started, take a look at
Pluggable Authentication Modules (PAM). Basically,
this is a subsystem that acts as an intermediary
between applications, such as your login manager,
and authentication sources, such as passwords,
certificates and, yes, fingerprint scanners. You
may have to configure some system files yourself,
but it's possible to make this work using software
available today.

<br><br>&mdash;<br> Chad Robinson  <br><br><br><a href="mailto:chad@lucubration.com">chad@lucubration.com</a>
</p><a name="N0x21e9580.0x22db540"></a><h4 class="title"><a name="N0x21e9580.0x22db540"></a>
Getting Sound Working on Fedora</h4><p>
Being a bit of a newbie to Linux&mdash;I can install packages but recompiling
the kernel might be beyond me&mdash;I am looking for some help getting audio
support added to my PC. I am using Red Hat FC2 installed on a Compaq Deskpro
P550, which has an onboard sound chip ESS Audiodrive 1869. Any help or suggestions
would be greatly appreciated.


<br><br>&mdash;<br> Tom Corcoran  <br><br><br><a href="mailto:tomc@meridianp2p.com">tomc@meridianp2p.com</a>
</p><p>
Your sound card is supported by the ALSA Project,
and that's where you should start. It doesn't
require a kernel recompile. Although ALSA drivers
are included in the kernel, the ALSA Project itself
provides external, loadable modules that often are
more up to date than those in any kernel package you
may have installed. Visit
<a href="http://www.alsa-project.org" target="_self">www.alsa-project.org</a>
to get started. The site provides downloadable packages and documentation
for installing them.

<br><br>&mdash;<br> Chad Robinson  <br><br><br><a href="mailto:chad@lucubration.com">chad@lucubration.com</a>
</p><p>
You shouldn't have to add drivers to a relatively new
distribution. Run the sndconfig utility to detect and
test your audio hardware, then make sure the volume is
turned up using the mixer applet in the GNOME panel.

<br><br>&mdash;<br> Don Marti  <br><br><br><a href="mailto:info@linuxjournal.com">info@linuxjournal.com</a>
</p><a name="N0x21e9580.0x25ef270"></a><h4 class="title"><a name="N0x21e9580.0x25ef270"></a>Tracking Down malloc Errors</h4><p>
I disagree with the BTS advice &ldquo;segfault when
allocating memory&rdquo; in the February 2005 issue. I bet ya
a nickel that the culprit in this case is the previous
malloc followed by writing outside the array boundary.
One tool to figure this out is &ldquo;electric fence&rdquo; which
is open source. There are also good proprietary
tools to do this. Maybe you can review a few of them?


<br><br>&mdash;<br> Jorg Kewisch  <br><br><br><a href="mailto:jorg@bnl.gov">jorg@bnl.gov</a>
</p></div></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../133/toc133.html">Issue Table of Contents</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>