<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Fly Me to the Wine Cellar</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;    Marcel demonstrates how Linux can get you literally off the&#10;    ground with the FlightGear simulator.&#10;    "><meta name="keywords" content="FlightGear, flight, simulator, 3-D, game, XPilot, training"><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0xc17580.0xd0eab0"></a>Fly Me to the Wine Cellar</h1></div><div><div class="author"><h3 class="author">Marcel Gagn&eacute;</h3></div><div class="issuemoyr">Issue #85, May 2001</div></div><div><p>
    Marcel demonstrates how Linux can get you literally off the
    ground with the FlightGear simulator.
    </p></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0xc17580.0xd0f6b8"></a></h2></div></div><p> Not bad, eh, Fran&ccedil;ois? What do
you mean, what is it for? This month's issue of <i  >Linux Journal</i> deals with training and certification, and I am
exploring that very topic. What? Of course I am on topic. This is a
flight simulator, is it not? No one said anything about what kind
of training and certification I should be cooking up. <span   class="emphasis"><em>Mon
Dieu</em></span>! You are a wonderful waiter, <span   class="emphasis"><em>mon
ami</em></span>, but you can be so literal. Watch this barrel roll,
Fran&ccedil;ois. Wonderful, <span   class="emphasis"><em>non</em></span>?
</p><p><span   class="emphasis"><em>Quoi</em></span>? Ah, our guests are here. Welcome,
<span   class="emphasis"><em>mes amis</em></span>. Sit down and make yourselves
comfortable. We were discussing flight training and certification
with the help of your Linux system. Of course, you can stretch your
virtual wings at your computer, but to really fly, you must visit
your local flight school and enroll, as your humble chef has done.
<span   class="emphasis"><em>Oui, mes amis</em></span>. A number of years ago, I made
my way to the local airport and took the first steps toward getting
my pilot's license. It is a wonderful experience and one I highly
recommend. Most schools will offer an inexpensive familiarization
flight to give you a feeling of what you can expect when you take
to the skies.</p><p>Fran&ccedil;ois. What are you doing standing there?
<span   class="emphasis"><em>Vite, Fran&ccedil;ois</em></span>! To the wine cellar. In
honor of the international nature of this topic, I suggest you
bring up the 1997 Chilean Petite Syrah for our guests. When the
world is open to you, it is only fair to be open to the world,
<span   class="emphasis"><em>non?</em></span></p><p>While the necessary skills of the pilot must eventually be
honed in the pilot's seat, you can use your Linux system to help
you with the process. For instance, you can download and build
software to help you with your flight planning. Getting from one
airport to another is more than simply following the road. For one
thing, there is no road.</p><p>Ah, Fran&ccedil;ois, you are back. Please pour for our
friends. While you are enjoying your Syrah, you might want to look
at the first item on the menu, and what an item.</p><p>Even licensed pilots need to keep their skills tuned. In the
commercial aviation business, this is often done with flight
simulators. As expensive as these things can be, it is certainly
less expensive than taking the old 747 out for a spin, as they say,
<span   class="emphasis"><em>non</em></span>? For the Linux user, there are a few
simulators available. We are going to explore one in
particular.</p><p>Probably the single most ambitious simulator project out
there is <span   class="emphasis"><em>FlightGear</em></span>. The developers of this
incredible package have produced a very impressive flight
simulator. The scenery itself is breathtaking, and the coloration
of land and sky verges on photo-realistic.
<span   class="emphasis"><em>FlightGear</em></span> takes the notion of realism so
seriously they have started the arduous process of applying for FAA
certification and approval. This realism comes at a cost, however.
Trying to run <span   class="emphasis"><em>FlightGear</em></span> with anything short
of a decent accelerated 3-D video card will be a slow and painful
experience. If you are lucky enough to have such a card, then you
must experience <span   class="emphasis"><em>FlightGear</em></span>. Fly, don't run, to
<a href="http://www.flightgear.org" target="_self">http://www.flightgear.org/</a>
to download your copy.</p><p>When I picked up my copy for this article, the release was
0.7.6. The installation process requires that you have a few
libraries installed on your system, including PLIB, SimGear and
Mesa. The GLUT libraries are also required, but they are part of
the latest Mesa 3-D graphics library, so that should save you a
step. Mesa is now distributed with a number of Linux CD
distributions, so check yours out before going to look for the
source. Links to all these sites are in the Resources section at
the end of this article.</p><p>At the heart of this whole process is 3-D rendering, so we
need to start with Mesa. If you do not have it on your system, go
to
<a href="http://www.mesa3d.org" target="_self">http://www.mesa3d.org/</a>
and get a copy.</p><p>Once we have verified the presence of Mesa, we have to create
the PLIB libraries. I found the install to be much better with the
latest version (1.3.1). Start by extracting the source to a
temporary build directory. I like to use usr/local/src for that
purpose, hence the first command below:</p><pre     class="programlisting">
cd /usr/local/src
tar -xzvf plib-1.3.1.tar.gz
cd plib-1.3.1
./configure
make
make install
</pre><p>Similarly, you should then extract and build the SimGear
libraries. The version at the time of this writing was
SimGear-0.0.14.tar.gz. We build it like this:
<pre     class="programlisting">
 tar -xzvf SimGear-0.0.14.tar.gz
cd SimGear-0.0.14
./configure
make
make install
</pre>


Next, unpack the <span   class="emphasis"><em>FlightGear</em></span> base package. The
default location for the root directory is /usr/local/lib, and this
is where I chose to unpack the archive. Note that this unpacking
does not require you to do any compilation. These are base files
for the packages, including some default aircraft models, scenery
and so on:
<pre     class="programlisting">
cd /usr/local/lib
tar -tzvf fgfs-base-0.7.6.tar.gz
</pre>


This will create a directory called FlightGear. Finally, we have
the package itself. Extract your FlightGear-0.7.6.tar.gz file into
a temporary directory and build the software:
<pre     class="programlisting">
tar -xzvf FlightGear-0.7.6.tar.gz
cd FlightGear-0.7.6
./configure
make
make install
</pre>


To take advantage of hardware acceleration, the
<span   class="emphasis"><em>FlightGear</em></span> executable
(<span   class="bold"><b>fgfs</b></span>) needs to run SUID root:
<pre     class="programlisting">
chmod +s /usr/local/bin/fgfs
</pre>


If all has gone well, you should be able to start your flight
simulator from the comfort of your desk chair. I poured myself a
glass of wine and fired up my new flight simulator. Yes, I know
<span   class="emphasis"><em>mes amis</em></span>, one does not drink and fly, but this
is a simulation. Perhaps I will pour a gingerale instead.
<pre     class="programlisting">
fgfs --fg-root=/some_directory/FlightGear
</pre>


By the way, you need to specify the --fg-root flag only if you have
chosen to install the <span   class="emphasis"><em>FlightGear</em></span> base files
(scenery, etc.) somewhere other than its default location. For a
look at my Cessna 172's cockpit, have a look at Figure 1.
<div       class="mediaobject"><img src="4636f1.jpg"><div class="caption"><p>
Figure 1. Marcel Attempts a Takeoff from Toronto International
Airport
</p></div></div>

</p><p>I will let you in on a secret, <span   class="emphasis"><em>mes amis</em></span>.
Your humble chef is also a licensed pilot, and he will admit right
here that a good flight simulator can be quite intimidating when
you are still trying to get the hang of it. Once you get
comfortable with the controls (I used the keyboard to control my
airplane), it is time to decide where to go. After all, it is a big
planet, <span   class="emphasis"><em>non</em></span>?</p><p>Luckily, there is no lack of places to fly with
<span   class="emphasis"><em>FlightGear</em></span>. Click on their download page and
scroll to the Additional Scenery section. One click will transport
you to a map of the world broken up into 10x10 degree chunks. In my
case, I wanted the scenery that covered Toronto International
Airport. That was the w080n40.tar.gz file. To be able to use that
scenery, you need to change directory to the
<span   class="emphasis"><em>FlightGear</em></span> scenery directory. Remember the
default installation for the base stuff was in
/usr/local/lib:</p><pre     class="programlisting">
cd /usr/local/lib/FlightGear/Scenery
tar -xzvf w090n40.tar.gz
</pre><p>From there, I can restart my session from the Toronto airport
by specifying the airport's identifier:
<pre     class="programlisting">
fgfs --airport-id=CYYZ
</pre>


Unfortunately, we will not be able to learn everything there is to
know about flying from this little introduction to
<span   class="emphasis"><em>FlightGear</em></span>, so I do recommend you take some
time and have fun with it.
</p><p>If helicopters are more your passion, another great project
under way is <span   class="emphasis"><em>Search and Rescue</em></span>. Not only do
you get to fly a variety of helicopters and practice your flying,
but you also take on search and rescue missions (hence the name),
saving victims from terrible fates. Ah, the pressure. Have a look
at Figure 2 for a view of my Sikorsky Jayhawk on the pad at LA
International.</p><p>The process of installing the software is essentially the
same as our previous examples. Unpack the source from the
SearchAndRescue0.7b.tgz bundle into your temporary directory. Note
that you will also need the xview libraries for this to compile
properly. For sound and joystick control, you will also need a
couple of additional libraries available off the web site, but
these are not necessary for the program to work:</p><pre     class="programlisting">
tar -xzvf SearchAndRescue0.7b.tgz
cd SearchAndRescue0.7b/sar
make -f Makefile.Linux
make install
</pre><p>The default installation directory for the binary is
/usr/games. To start <span   class="emphasis"><em>Search and Rescue</em></span>, simply
type the following (note the capitalization):
<pre     class="programlisting">
/usr/games/SearchAndRescue
</pre>


While offering a very realistic view, I found that <span   class="emphasis"><em>Search
and Rescue</em></span> was quite playable without video
acceleration.
<div       class="mediaobject"><img src="4636f2.jpg"><div class="caption"><p>
Figure 2. My Sikorsky Readies for Takeoff at LA International
Airport
</p></div></div>

</p><p>Once you have mastered all aspects of the sky, only the stars
are beyond your reach. Or are they? It is true that we may not have
access to the universe in the next week or so. Fran&ccedil;ois is
still working out the bugs in the faster-than-light travel program
he is developing. Relax Fran&ccedil;ois. It is just a little joke,
<span   class="emphasis"><em>non</em></span>? Nevertheless, you can still experience
the thrill of interstellar flight (and combat) with one of the
single most addictive games on your Linux system&mdash;one you may not
even be aware you have.</p><p>It is called <span   class="emphasis"><em>XPilot</em></span>, and if it is not
already on your machine, check your distribution CD. If that still
fails, head on over to
<a href="http://www.xpilot.org" target="_self">http://www.xpilot.org/</a>
and download your own copy. You might also want to have a look at
the <span   class="emphasis"><em>XPilot Newbie</em></span> manual on that site. But
before we go on I feel I must caution that, like wine, you should
take <span   class="emphasis"><em>XPilot</em></span> in moderation.</p><p>That said, it is time to play. To find a list of servers that
you can join, Telnet to this address:</p><pre     class="programlisting">
telnet meta.xpilot.org 4401
</pre><p>Note the port number at the end (4401). You might want to
direct this output to a file (<b  >telnet meta.xpilot.org 4401
&gt; xpilot.servers</b>) because there will be a lot of
information scrolling past your screen. By doing a Telnet to port
4402, you can get the latest FAQ on the game. A Telnet to port 4400
puts you into interactive mode with the server. From there, you can
type <b  >HELP</b>, or <b  >LIST</b> or even
<b  >FAQ</b>. Here's a sample from that server list:
<pre     class="programlisting">
4.2.1 :marach.dd.chalmers.se  :15345 :3 :26d
4.2.1  :tigger.skaro.bt.co.uk :15345 :1 :0.03 :The Globe
</pre>


The first part is the version number, followed by the hostname,
port number, number of users, server uptime and map name. That's
right, <span   class="emphasis"><em>mes amis</em></span>, these games are live, played
in real time (so to speak) with others from around the world. Even
better, those who might feel left out because they do not yet have
that high-speed 3-D graphics card, do not worry. If you have X
running on your system, you can play <span   class="emphasis"><em>XPilot</em></span>
and pit your skills against the best star pilots the world has to
offer. Let's pick &ldquo;Tourmination&rdquo; (since there are already three
players active) and join that game. To do this, I type the command:
<pre     class="programlisting">
xpilot -name francois -join marach.dd.chalmers.se
</pre>


The -name option is a nickname I pick for myself for the duration
of the game (which lasts only moments because some slimy person
blasts my fighter into space dust). As you may imagine, many
options can be set. Type <b  >xpilot -help</b> for a
sample. Then, have a look at Figure 3 to see a picture of my
short-lived battle in space.
<div       class="mediaobject"><a href="4636f3.large.jpg"><img src="4636f3.jpg"></a><div class="caption"><p>
Figure 3. Marcel's Ship Is Blasted to Space Dust in
<span  class="emphasis"><em>XPilot</em></span>
</p></div></div>

</p><p><span   class="emphasis"><em>Oui, Fran&ccedil;ois? Mon Dieu!</em></span> Is it
that time already? Before you go <span   class="emphasis"><em>mes amis</em></span>, let
me give you one other little additional flying treat. You probably
all know about the xscreensaver package with its fireworks
displays, dancing lines, cool fractal effects and, most
importantly, the warp journey through space dodging rocks as your
screen rotates this way and that. The package is probably already
installed on your system. If you do not have it, check your
distribution CD-ROM or look in the Resources section. Good. Now,
look around the house and dig up those old 3-D glasses. You know,
the ones with one blue lens and one red lens. Now, put on the 3-D
glasses, fasten your seat belts, and type the following
command:</p><pre     class="programlisting">
/usr/X11R6/lib/xscreensaver/rocks -3d
</pre><p>It is just like being there, <span   class="emphasis"><em>non</em></span>? You
may not know this, but you can execute all these programs
individually (as with our rocks) without having to wait for your
screen saver to kick in. That is it for now, <span   class="emphasis"><em>mes
amis</em></span>. Fran&ccedil;ois, please be so kind as to pour our
friends a final glass of wine before they go. And you,
<span   class="emphasis"><em>mes amis</em></span>, must admit that it is fun to have an
operating system that really flies; now you can fly with it, too. A
little joke, but not very good, <span   class="emphasis"><em>non? Fran&ccedil;ois, mon
ami</em></span>, better fill my glass too.
</p><p>Until next time, please join us here at <span   class="emphasis"><em>Chez
Marcel</em></span>. Your table will be waiting.</p><p>A votre sant&eacute;! Bon app&eacute;tit!</p><p><a href="4636s1.html" target="_self">Resources</a></p></div></div>
<div class="authorblurb"><p>
        <div       class="mediaobject"><img src="4636aa.jpg"></div>

        <span   class="bold"><b>Marcel
      Gagn&eacute;</b></span> lives in Mississauga, Ontario. In real
      life, he is president of Salmar Consulting Inc., a systems
      integration and network consulting firm. He is also a pilot, writes
      science fiction and fantasy, and is coeditor of TransVersions, a
      science fiction, fantasy and horror anthology. He loves Linux and
      all flavors of UNIX and will even admit it in public. In fact, he
      is currently working on <span   class="emphasis"><em>Linux System Administration: A
      User's Guide</em></span>, coming soon from Addison Wesley Longman.
      He can be reached via e-mail at mggagne@salmar.com. You can
      discover lots of other things from his web site at
      <a href="http://www.salmar.com/marcel" target="_self">http://www.salmar.com/marcel/</a>.</p></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../085/toc085.html">Issue Table of Contents</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>