<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Best of Tech Support</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;    Our experts answer your technical questions.&#10;    "><meta name="keywords" content=""><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0xcf6580.0xdedab0"></a>Best of Tech Support</h1></div><div><div class="author"><h3 class="author">Various</h3></div><div class="issuemoyr">Issue #99, July 2002</div></div><div><p>
    Our experts answer your technical questions.
    </p></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0xcf6580.0xdee190"></a>I Have No &ldquo;core&rdquo; and I Must Debug</h2></div></div><p>The default action for a dozen UNIX signals like SIGSEGV is
to abort and generate a core file as a dump of the memory image of
the faulty process. On Red Hat, when getting such signals, the
processes abort but do not generate any core file. The only way to
know a faulty process was sent such signals is to strace it. If it
is possible, where on Red Hat is the core generation
configured?</p><p>&mdash;Pedro Guedes,
<a href="mailto:pmg01@netc.pt">pmg01@netc.pt</a></p><p>The ulimit command controls the size limit of several things
in your Linux system, among them, the size of the core files.
Issuing a <b  >ulimit -c 0</b> will tell Linux to disable
core files (since they will be of zero size), <b  >ulimit -c
<i><tt>xxxx</tt></i></b> will tell Linux to allow
core files of up to xxxx blocks in size.
<span   class="bold"><b>ulimit</b></span> may be set in /etc/profile
for all users or in your home directory's .bash_profile. Typing
<b  >ulimit -h</b> gives help on this command. If you
edit the file /etc/security/limits.conf, there you may find a line
something like:</p><pre     class="programlisting">
*  soft   core  0
</pre><p>or:</p><pre     class="programlisting">
*  hard   core  0
</pre><p>
That last 0 on each of these examples indicates that the
core file size should be no bigger than 0KB; therefore there are no
core files generated. Hard and soft refer to the kind of limit
imposed, &ldquo;hard&rdquo; being more strict. Change that 0 to something
else, depending on the biggest core dump file that you may expect.
This file (/etc/security/limits.conf) is part of the PAM (Pluggable
Authentication Modules) system, which most distributions, including
Red Hat, use.
</p><p>&mdash;Felipe E. Barousse Bou&eacute;,
<a href="mailto:fbarousse@piensa.com">fbarousse@piensa.com</a></p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0xcf6580.0xdee768"></a>X on an Old SiS Video Card</h2></div></div><p>I have installed Red Hat 7.2 on an old (1994-ish) colussus,
but I cannot get X to run as it doesn't see the monitor, which is a
CTX 1565CD. However, when I try to run Xconfigurator or any other X
config tool, it does not pass the X config test. When started, the
PCI probe returns the entry Silicon Integrated Systems (SiS)
SG86C20, which does not appear anywhere on the list of supported
cards.</p><p>&mdash;Jim Logan,
<a href="mailto:jim_message@hotmail.com">jim_message@hotmail.com</a></p><p>The Linux Hardware Compatibility Guide
(<a href="http://www.ssc.com/mirrors/LDP/HOWTO/Hardware-HOWTO" target="_self">www.ssc.com/mirrors/LDP/HOWTO/Hardware-HOWTO</a>)
says you can use XF86_SVGA in a 3.x version of XFree86, or the
&ldquo;sis&rdquo; driver in a 4.x version. The SVGA driver is a good option
to try because it works with almost any card, although it will not
be accelerated. Also, if you have a newer version of X, see if your
card supports VESA by enabling it in the kernel and using the
&ldquo;vesa&rdquo; driver for X.</p><p>&mdash;Chad Robinson,
<a href="mailto:crobinson@rfgonline.com">crobinson@rfgonline.com</a></p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0xcf6580.0xdeea80"></a>What's My IP Address Today?</h2></div></div><p>I have Cox.net broadband service with an SMC router yielding
a DHCP address for my home network. On the network, a Linux box is
the virtual server. What I would like to do is poll the router to
find the LAN side address and e-mail it to myself. The purpose of
course is to be able to remotely connect using the DHCP IP address.
The web page configuration on the router always starts at the login
page regardless of the URL used (security). SMC does not seem
willing to respond at all to my question.</p><p>&mdash;Tom Mautner,
<a href="mailto:mautner@cox.net">mautner@cox.net</a></p><p>Have you considered a dynamic DNS service? That may let you
do an end run around to collect the address internally. A service
such as ZoneEdit will allow you to update your address
automatically via a web query, which you can automate with
lynx.</p><p>&mdash;Chad Robinson,
<a href="mailto:crobinson@rfgonline.com">crobinson@rfgonline.com</a></p><p>Send yourself an empty e-mail, and you will see that the
Received header lines will contain the IP that your router used
when it connected to Cox's mail relay. You'll see something like
this:</p><pre     class="programlisting">
Received: from manyroads.ssc.com (manyroads.ssc.com
        [192.168.3.58]) by mail.ssc.com (Postfix) with ESMTP
</pre><p>and you can get the IP from there. Not high tech,
but it works.
</p><p>&mdash;Marc Merlin,
<a href="mailto:marc@merlins.org">marc@merlins.org</a></p><p>If the router is doing NAT, and you want the address of its
internal interface, run:</p><pre     class="programlisting">
route -n | mail you@example.net
</pre><p>&mdash;Don Marti,
<a href="mailto:info@linuxjournal.com">info@linuxjournal.com</a>
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0xcf6580.0xdef058"></a>X Takes over Both Video Cards</h2></div></div><p>I have two graphic cards in my box, one is ATI Rage XL (PCI)
and one is ATI RADEON VE QY (AGP). I would like to control the AGP
card from a kernel module we have written (which displays on a
projector), and I would like to let X control the PCI card (which
displays on a flat panel monitor). The problem begins when we use
startx. The PCI controlled monitor starts X correctly, but our
kernel module no longer has control of our AGP card (no image
displays on the projector). Does anyone know why X seems to be
taking away our control of the AGP card?</p><p>&mdash;Jing Xu,
<a href="mailto:jing@cs.unm.edu">jing@cs.unm.edu</a></p><p>Try forcing X to use a specific bus ID using the &ldquo;BusID&rdquo;
parameter. Perhaps X is trying to use both cards as a multihead
configuration, but you should be able to prevent it from doing
that.</p><p>&mdash;Chad Robinson,
<a href="mailto:crobinson@rfgonline.com">crobinson@rfgonline.com</a></p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0xcf6580.0xdef318"></a>Fixing ext2 Filesystem Damage</h2></div></div><p>Question: after a power blackout I am having trouble with my
drive. I am using the ext2 filesystem. With the help of the
tomsrtbt floppy distribution and a couple of documents from the
LDP, I have been able to boot in single-user mode. But when I try
to execute the network script, the system sticks after echoing the
following:</p><pre     class="programlisting">
Disabling IPv$ packet forwarding
sysctl: ip forwarding off
</pre><p>What can I try next?
</p><p>&mdash;Roberto Kruse,
<a href="mailto:rkruse@ieee.org">rkruse@ieee.org</a></p><p>I would advise you to boot from a rescue disk and run an
e2fsck on the partitions of your damaged hard disk for an automatic
check:</p><pre     class="programlisting">
e2fsck -p -v /dev/&lt;partition_to_fix&gt;
</pre><p>Keep in mind that messing around with your disk,
even with fsck and e2fsck, may result in loss of data, so be
careful that you understand what you are about to do.
</p><p>&mdash;Felipe E. Barousse Bou&eacute;,
<a href="mailto:fbarousse@piensa.com">fbarousse@piensa.com</a></p><p>You can try booting Linux with <b  >linux
single</b> or <b  >linux init=/bin/bash</b> if all
else fails. Type this at the LILO prompt. After that, you can look
at the output of <b  >rpm -Va</b>, which should tell you
which packages have modified or missing files, and you can then
re-install the said packages (with <b  >rpm -U --force
/<i><tt>location/of/package.rpm</tt></i></b>) All
that said, it's probably as good a time as any to upgrade your
system to the latest Red Hat version, which should also fix your
problem in the process.</p><p>&mdash;Marc Merlin,
<a href="mailto:marc@merlins.org">marc@merlins.org</a></p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0xcf6580.0xdef9f8"></a>How to Mount a USB Device?</h2></div></div><p>I would like to access a Disgo 16MB USB Flash RAM device from
Mandrake Linux. Will Linux automatically mount this device? If so,
how can I find it?</p><p>&mdash;Greg,
<a href="mailto:gregory_connor@yahoo.co.uk">gregory_connor@yahoo.co.uk</a></p><p>I believe that Mandrake uses the usbdevfs pseudo-filesystem,
though I don't know where it mounts. Type <b  >mount</b>
to see. My Red Hat machine mounts it on /proc/bus/usb.</p><p>&mdash;Ben Ford,
<a href="mailto:ben@kalifornia.com">ben@kalifornia.com</a></p><p>Linux supports USB storage devices if you have a recent
kernel version. According to Mandrake's web site, they shipped 8.1
with kernel version 2.4.8. However, because the device drivers have
evolved quite a bit in the last few months, it may be helpful to
update to the latest 2.4.x version, which at the time of this
writing is 2.4.18. You will need both the USB device filesystem and
SCSI generic support. Then, check out the Linux USB Guide
(<a href="http://linux-usb.sourceforge.net/USB-guide/book1.html" target="_self">linux-usb.sourceforge.net/USB-guide/book1.html</a>).
The &ldquo;mass storage&rdquo; section should be helpful.</p><p>&mdash;Chad Robinson,
<a href="mailto:crobinson@rfgonline.com">crobinson@rfgonline.com</a></p></div></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../099/toc099.html">Issue Table of Contents</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>