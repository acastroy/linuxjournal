<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>
PirateBox
</title><link rel="stylesheet" href="../css/archive.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.57.0"><meta name="description" content="&#10;The PirateBox is a device designed to facilitate sharing. There's one&#10;catch, it isn't connected to the Internet, so you need to be close enough to&#10;connect via Wi-Fi to this portable file server. This article outlines the&#10;project and shows how to build your own.&#10;"><link rel="stylesheet" href="../../css/archive.css" type="text/css"><script type="text/javascript" src="../../js/archive.js"></script><script type="text/javascript" src="../../js/highlight.js"></script></head><body onload="search_highlight();">
  <div class="headerdiv">
    <a href="../../index.html">
      <img class="topimg" src="../../images/CD_HeaderBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="tophrdiv">
  </div>
  
  <div id="top_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  <div class="article" lang="en"><div class="titlepage"><div><h1 class="title"><a name="N0x25b6580.0x26adac0"></a>
PirateBox
</h1></div><div><div class="author"><h3 class="author">
Adrian
 
Hannah
</h3></div><div class="issuemoyr">Issue #219, July 2012</div></div><div><p>
The PirateBox is a device designed to facilitate sharing. There's one
catch, it isn't connected to the Internet, so you need to be close enough to
connect via Wi-Fi to this portable file server. This article outlines the
project and shows how to build your own.
</p></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x25b6580.0x26ae250"></a></h2></div></div><p>
In days of yore (the early- to mid-1990s) those of us using the
&ldquo;Internet&rdquo;, as it was, delighted in our ability to communicate with
others and share things: images, MIDI files, games and so on. These days,
although file sharing still exists, that feeling of community has been leeched
away from the same activities, and people are somewhat skeptical of
sharing files on-line anymore for fear of a lawsuit or who's watching.
</p><p>
Enter David Darts, the Chair of the Art Department at NYU. Darts, aware of
the Dead Drops (<a href="http://deaddrops.com" target="_self">deaddrops.com</a>) movement, was looking for a way for
his students to be able to share files easily in the classroom. Finding
nothing on the market, he designed the first iteration of the PirateBox.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x25b6580.0x26ae510"></a></h2></div></div><div class="sidebar"><p class="title"><b></b></p><p>
&ldquo;Protecting our privacy and our anonymity is closely related to the preservation of
our freedoms.&rdquo;&mdash;David Darts
</p></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x25b6580.0x26ae778"></a></h2></div></div><div class="sidebar"><p class="title"><b>Dead Drops</b></p><p>
Dead Drops is an off-line peer-to-peer file-sharing network in public. In
other words, it is a system of USB Flash drives embedded in walls,
curbs and buildings. Observant passersby will notice the drop and,
hopefully, connect a device to it. They then are encouraged to drop or
collect any files they want on this drive. For more information, comments
and a map of all Dead Drops worldwide, go to <a href="http://deaddrops.com" target="_self">deaddrops.com</a>.
</p></div></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x25b6580.0x26ae9e0"></a></h2></div></div><div class="sidebar"><p class="title"><b>
What Does David Darts Keep on His PirateBox?</b></p><div class="itemizedlist"><ul type="disc"><li><p>
A collection of stories by Cory Doctorow.
</p></li><li><p>
Abbie Hoffman's <span   class="emphasis"><em>Steal This Book</em></span>.
</p></li><li><p>
DJ Danger Mouse's <span   class="emphasis"><em>The Grey Album</em></span>.
</p></li><li><p>
Girl Talk's <span   class="emphasis"><em>Feed the Animals</em></span>.
</p></li><li><p>
A collection of songs by Jonathan Coulton.
</p></li><li><p>
Some animations by Nina Paley.
</p></li></ul></div><p>
(All freely available and released under some sort of copyleft protection.)
</p></div><p>
The PirateBox is a self-contained file-sharing device that is designed
to be simple to build and use. At the same time, Darts wanted something
that would be private and anonymous.
</p><p>
The PirateBox doesn't connect to the Internet for this reason. It is
simply a local file-sharing device, so the only thing you can do when
connected to it is chat with other people connected to the box or share
files. This creates an interesting social dynamic, because you are forced
to interact (directly or indirectly) with the people connected to the
PirateBox.
</p><p>
The PirateBox doesn't log any information. &ldquo;The PirateBox has no tool to track or identify users. If ill-intentioned
people&mdash;or the police&mdash;came here and seized my box, they will never know who used
it&rdquo;, explains Darts. This means the only information stored about any
users by the PirateBox is any actual files uploaded by them.
</p><p>
The prototype of the PirateBox was a plug computer, a wireless router
and a battery fit snugly into a metal lunchbox. After releasing the
design on the Internet, the current iteration of the PirateBox (and the
one used by Darts himself) is built onto a Buffalo AirStation wireless
router (although it's possible to install it on anything running OpenWRT),
bringing the components down to only the router and a battery. One branch
of the project is working on porting it to the Android OS, and another
is working on building a PirateBox using only open-source components.
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x25b6580.0x26af380"></a>
How to Build a PirateBox</h2></div></div><p>
There are several tutorials on the PirateBox Web site
(<a href="http://wiki.daviddarts.com/PirateBox_DIY" target="_self">wiki.daviddarts.com/PirateBox_DIY</a>) on how to set up a PirateBox
based on what platform you are planning on using. The simplest (and
recommended) way of setting it up is on an OpenWRT router. For the
purpose of this article, I assume this is the route you are
taking. The site suggests using a TP-Link MR3020 or a TP-Link TL-WR703N,
but it should work on any router with OpenWRT installed that also has
a USB port. You also need a USB Flash drive and a USB battery
(should you want to be fully mobile).
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x25b6580.0x26af4e0"></a></h2></div></div><div class="sidebar"><p class="title"><b>
Adding USB Support to OpenWRT</b></p><p>
USB support can be added by running the following commands:

<pre     class="programlisting">
opkg update
opkg install kmod-usb-uhci
insmod usbcore
insmod uhci
opkg install kmod-usb-ohci
insmod usb-ohci
</pre>
</p></div><p>
Assuming you have gone through the initial OpenWRT installation (I don't
go into this process in this article), you need to make some
configuration changes to allow your router Internet access initially
(the PirateBox software will ensure that this is locked down later).
</p><p>
First, you should set a password for the root account (which also
will enable SSH). Telnet into the router, and run
<tt  >passwd</tt>.
</p><p>
The next thing you need to do is set up your network interfaces. Modify
/etc/config/network to look similar to this:

<pre     class="programlisting">
config interface 'loopback'
        option ifname 'lo'
        option proto 'static'
        option ipaddr '127.0.0.1'
        option netmask '255.0.0.0'

config interface 'lan'
        option ifname 'eth0'
        option type 'bridge'
        option proto 'static'
        option ipaddr '192.168.2.111'
        option netmask '255.255.255.0'
        option gateway '192.168.2.1'
        list dns '192.168.2.1'
        list dns '8.8.8.8'
</pre>
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x25b6580.0x26af900"></a></h2></div></div><p>
assuming that the router's IP address will be 192.168.2.111 and your
gateway is at 192.168.2.1.
</p><p>
Next, modify the beginning of the firewall config file
(/etc/config/firewall) to look like this:

<pre     class="programlisting">
config defaults
        option syn_flood     '1'
        option input         'ACCEPT'
        option output        'ACCEPT'
        option forward       'ACCEPT'
#Uncomment this line to disable ipv6 rules
#       option disable_ipv6  1

config zone
        option name          'lan'
        option network       'lan'
        option input         'ACCEPT'
        option output        'ACCEPT'
        option forward       'ACCEPT'

config zone
        option name          'wan'
        option network       'wan'
        option input         'ACCEPT'
        option output        'ACCEPT'
        option forward       'ACCEPT'
        option masq          '1'
        option mtu_fix       '1'
</pre>
</p><p>
Leave the rest of the file untouched.
</p><p>
In /etc/config/wireless, find the line that reads &ldquo;option
disabled&rdquo;
and change it to &ldquo;option disabled 0&rdquo; to enable wireless. At
this point,
you need to reboot the router.
</p><p>
Now, connect a FAT32-partitioned USB Flash drive to the router, and run the
following commands on the router:


<pre     class="programlisting">

cd /tmp
wget http://piratebox.aod-rpg.de/piratebox_0.3-2_all.ipk
opkg update &amp;&amp; opkg install piratebox*

</pre>
</p><p>
When you restart the device, you should see a new wireless network called
&ldquo;PirateBox - Share Freely&rdquo;. Plug your router in to a USB
battery, and place
everything into an enclosure of some kind (preferably something black with
the Jolly Roger emblazoned on the side). Congratulations! With little
to no hassle, you've created a mobile, anonymous sharing device!
</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><h2 class="title"><a name="N0x25b6580.0x2aa8078"></a>
Using the PirateBox</h2></div></div><p>
The point of the PirateBox is to be integrated easily into a public space
with zero effort on the part of the end user; otherwise, no one ever would 
use it! This means using it has to be incredibly simple, and it is.
If you are connected to the &ldquo;PirateBox - Share Freely&rdquo; network and you
try to open a Web page, you automatically will be redirected to this page
(Figure 1).
</p><div       class="mediaobject"><a href="11283f1.large.jpg"><img src="11283f1.jpg"></a><div class="caption"><p>
Figure 1. PirateBox Home Screen 
</p></div></div><p>
As you can see, you are given choices as to what you wish to do: browse
and download files, upload files or chat with other users&mdash;all of
which is exceedingly easy to do. Go build your own PirateBox and
get sharing!
</p></div></div>
<div class="authorblurb"><p>
Adrian Hannah has spent the last 15 years bashing keyboards to make
computers do what he tells them. He currently is working as a system
administrator for the federal government. He is a jack of all trades
and a master of none. Find out more at <a href="http://about.me/adrianhannah" target="_self">about.me/adrianhannah</a>.
</p></div>

  <div class="toclinks">
    <a class="link1" href="../tocindex.html">Archive Index</a>
    <a class="link2" href="../219/toc219.html">Issue Table of Contents</a>
    <a class="link3" href="../219/11283.html">Article</a>
  </div>
  <div class="bottomhrdiv">
  </div>
  
  <div id="bottom_search">
  <table class="page_search" summary="">
    <tr>
      <td valign="top" align="left">
        <p class="small_shutdown"><a href="/.exit">Shutdown Archive web server</a></p>
      </td>
      <td valign="top" align="right">
        <form method="get" action="/zoom/search.cgi">
          <input type="hidden" name="zoom_sort" value="0" />
          <input type="hidden" name="zoom_xml" value="0" />
          <input type="hidden" name="zoom_per_page" value="10" />
          <input type="hidden" name="zoom_and" value="1" />
          Search: <input type="text" name="zoom_query" size="20" value="" class="zoom_searchbox" />
          <input type="submit" value="Submit" />
        </form>
      </td>
    </tr>
  </table>
  </div>
  
  <div class="footerdiv">
    <a href="../../index.html">
      <img class="bottomimg" src="../../images/CD_FooterBanner.png" alt="LJ Archive"/>
    </a>
  </div>
  
  <div class="copyright">
    Copyright &copy; 1994 - 2018 <cite>Linux Journal</cite>.  All rights reserved.
  </div>
  </body></html>